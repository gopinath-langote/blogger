!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n=window.webpackJsonp;window.webpackJsonp=function(o,a){for(var s,u,l=0,c=[];l<o.length;l++)u=o[l],i[u]&&c.push.apply(c,i[u]),i[u]=0;for(s in a){var p=a[s];switch(typeof p){case"object":e[s]=function(t){var n=t.slice(1),r=t[0];return function(t,i,o){e[r].apply(this,[t,i,o].concat(n))}}(p);break;case"function":e[s]=p;break;default:e[s]=e[p]}}for(n&&n(o,a);c.length;)c.shift().call(null,t);return a[0]?(r[0]=0,t(0)):void 0};var r={},i={6:0};t.e=function(e,n){if(0===i[e])return n.call(null,t);if(void 0!==i[e])i[e].push(n);else{i[e]=[n];var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=t.p+""+e+"."+({0:"auth",1:"basket",2:"dashboard",3:"design",4:"make",5:"open-making"}[e]||e)+".js",r.appendChild(o)}},t.m=e,t.c=r,t.p="/js/"}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([,function(e,t,n){n(2),e.exports=angular,e.exports=angular},function(e,t){/**
	 * @license AngularJS v1.3.20
	 * (c) 2010-2014 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=arguments[0],o="["+(e?e+":":"")+i+"] ",a=arguments[1],s=arguments;for(n=o+a.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t+2<s.length?de(s[t+2]):e}),n=n+"\nhttp://errors.angularjs.org/1.3.20/"+(e?e+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(de(arguments[r]));return new t(n)}}function i(e){if(null==e||C(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===br&&t?!0:b(e)||fr(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var r,a;if(e)if(k(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(fr(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);return e}function a(e){return Object.keys(e).sort()}function s(e,t,n){for(var r=a(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function u(e){return function(t,n){e(n,t)}}function l(){return++pr}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function p(e){for(var t=e.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var o=Object.keys(i),a=0,s=o.length;s>a;a++){var u=o[a];e[u]=i[u]}}return c(e,t),e}function d(e){return parseInt(e,10)}function f(e,t){return p(Object.create(e),t)}function h(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function $(e){return null!==e&&"object"==typeof e}function b(e){return"string"==typeof e}function w(e){return"number"==typeof e}function x(e){return"[object Date]"===ur.call(e)}function k(e){return"function"==typeof e}function E(e){return"[object RegExp]"===ur.call(e)}function C(e){return e&&e.window===e}function _(e){return e&&e.$evalAsync&&e.$watch}function S(e){return"[object File]"===ur.call(e)}function A(e){return"[object FormData]"===ur.call(e)}function P(e){return"[object Blob]"===ur.call(e)}function O(e){return"boolean"==typeof e}function T(e){return e&&k(e.then)}function M(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function F(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function I(e){return Zn(e.nodeName||e[0]&&e[0].nodeName)}function D(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function j(e,t,n,r){if(C(e)||_(e))throw lr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw lr("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],$(e)){var i=n.indexOf(e);if(-1!==i)return r[i];n.push(e),r.push(t)}var a;if(fr(e)){t.length=0;for(var s=0;s<e.length;s++)a=j(e[s],null,n,r),$(e[s])&&(n.push(e[s]),r.push(a)),t.push(a)}else{var u=t.$$hashKey;fr(t)?t.length=0:o(t,function(e,n){delete t[n]});for(var l in e)e.hasOwnProperty(l)&&(a=j(e[l],null,n,r),$(e[l])&&(n.push(e[l]),r.push(a)),t[l]=a);c(t,u)}}else if(t=e,e)if(fr(e))t=j(e,[],n,r);else if(x(e))t=new Date(e.getTime());else if(E(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if($(e)){var p=Object.create(Object.getPrototypeOf(e));t=j(e,p,n,r)}return t}function U(e,t){if(fr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if($(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function R(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,o,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!fr(e)){if(x(e))return x(t)?R(e.getTime(),t.getTime()):!1;if(E(e))return E(t)?e.toString()==t.toString():!1;if(_(e)||_(t)||C(e)||C(t)||fr(t)||x(t)||E(t))return!1;o={};for(i in e)if("$"!==i.charAt(0)&&!k(e[i])){if(!R(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!k(t[i]))return!1;return!0}if(!fr(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!R(e[i],t[i]))return!1;return!0}}return!1}function N(e,t,n){return e.concat(or.call(t,n))}function L(e,t){return or.call(e,t||0)}function q(e,t){var n=arguments.length>2?L(arguments,2):[];return!k(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,N(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function B(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:C(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":_(r)&&(i="$SCOPE"),i}function V(e,t){return"undefined"==typeof e?n:(w(t)||(t=t?2:null),JSON.stringify(e,B,t))}function z(e){return b(e)?JSON.parse(e):e}function H(e){e=nr(e).clone();try{e.empty()}catch(t){}var n=nr("<div>").append(e).html();try{return e[0].nodeType===xr?Zn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Zn(t)})}catch(t){return Zn(n)}}function W(e){try{return decodeURIComponent(e)}catch(t){}}function G(e){var t,n,r={};return o((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=W(t[0]),y(n))){var i=y(t[1])?W(t[1]):!0;Qn.call(r,n)?fr(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function Y(e){var t=[];return o(e,function(e,n){fr(e)?o(e,function(e){t.push(Z(n,!0)+(e===!0?"":"="+Z(e,!0)))}):t.push(Z(n,!0)+(e===!0?"":"="+Z(e,!0)))}),t.length?t.join("&"):""}function J(e){return Z(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Q(e,t){var n,r,i=vr.length;for(e=nr(e),r=0;i>r;++r)if(n=vr[r]+t,b(n=e.attr(n)))return n;return null}function K(e,t){var n,r,i={};o(vr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),o(vr,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==Q(n,"strict-di"),t(n,r?[r]:[],i))}function X(n,r,i){$(i)||(i={});var a={strictDi:!1};i=p(a,i);var s=function(){if(n=nr(n),n.injector()){var e=n[0]===t?"document":H(n);throw lr("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var o=ze(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&u.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(u,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),cr.resumeBootstrap=function(e){return o(e,function(e){r.push(e)}),s()},void(k(cr.resumeDeferredBootstrap)&&cr.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){var t=cr.element(e).injector();if(!t)throw lr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(yr,function(e,n){return(n?t:"")+e.toLowerCase()})}function re(){var t;$r||(rr=e.jQuery,rr&&rr.fn.on?(nr=rr,p(rr.fn,{scope:Lr.scope,isolateScope:Lr.isolateScope,controller:Lr.controller,injector:Lr.injector,inheritedData:Lr.inheritedData}),t=rr.cleanData,rr.cleanData=function(e){var n;if(dr)dr=!1;else for(var r,i=0;null!=(r=e[i]);i++)n=rr._data(r,"events"),n&&n.$destroy&&rr(r).triggerHandler("$destroy");t(e)}):nr=be,cr.element=nr,$r=!0)}function ie(e,t,n){if(!e)throw lr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function oe(e,t,n){return n&&fr(e)&&(e=e[e.length-1]),ie(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ae(e,t){if("hasOwnProperty"===e)throw lr("badname","hasOwnProperty is not a valid {0} name",t)}function se(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&k(e)?q(o,e):e}function ue(e){var t=e[0],n=e[e.length-1],r=[t];do{if(t=t.nextSibling,!t)break;r.push(t)}while(t!==n);return nr(r)}function le(){return Object.create(null)}function ce(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,n,r,i){return i||(i=t),function(){return i[r||"push"]([e,n,arguments]),l}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var t=[],i=[],s=[],u=e("$injector","invoke","push",i),l={_invokeQueue:t,_configBlocks:i,_runBlocks:s,requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(e){return s.push(e),this}};return a&&u(a),l})}})}function pe(e){var t=[];return JSON.stringify(e,function(e,n){if(n=B(e,n),$(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function de(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?pe(e):e}function fe(t){p(t,{bootstrap:X,copy:j,extend:p,equals:R,element:nr,forEach:o,injector:ze,noop:h,bind:q,toJson:V,fromJson:z,identity:m,isUndefined:v,isDefined:y,isString:b,isFunction:k,isObject:$,isNumber:w,isElement:M,isArray:fr,version:_r,isDate:x,lowercase:Zn,uppercase:Kn,callbacks:{counter:0},getTestability:te,$$minErr:r,$$csp:gr,reloadWithDebugInfo:ee}),ir=ce(e);try{ir("ngLocale")}catch(n){ir("ngLocale",[]).provider("$locale",gt)}ir("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Jt}),e.provider("$compile",Qe).directive({a:Mi,input:Ji,textarea:Ji,form:Ui,script:No,select:Bo,style:zo,option:Vo,ngBind:Ki,ngBindHtml:eo,ngBindTemplate:Xi,ngClass:no,ngClassEven:io,ngClassOdd:ro,ngCloak:oo,ngController:ao,ngForm:Ri,ngHide:Fo,ngIf:lo,ngInclude:co,ngInit:fo,ngNonBindable:So,ngPluralize:Ao,ngRepeat:Po,ngShow:Mo,ngStyle:Io,ngSwitch:Do,ngSwitchWhen:jo,ngSwitchDefault:Uo,ngOptions:qo,ngTransclude:Ro,ngModel:Eo,ngList:ho,ngChange:to,pattern:Wo,ngPattern:Wo,required:Ho,ngRequired:Ho,minlength:Yo,ngMinlength:Yo,maxlength:Go,ngMaxlength:Go,ngValue:Qi,ngModelOptions:_o}).directive({ngInclude:po}).directive(Fi).directive(so),e.provider({$anchorScroll:He,$animate:Zr,$browser:Ye,$cacheFactory:Je,$controller:tt,$document:nt,$exceptionHandler:rt,$filter:un,$interpolate:ht,$interval:mt,$http:ct,$httpBackend:dt,$location:Ot,$log:Tt,$parse:Vt,$rootScope:Yt,$q:zt,$$q:Ht,$sce:Xt,$sceDelegate:Kt,$sniffer:en,$templateCache:Ze,$templateRequest:tn,$$testability:nn,$timeout:rn,$window:sn,$$rAF:Gt,$$asyncCallback:We,$$jqLite:Ne})}])}function he(){return++Ar}function me(e){return e.replace(Tr,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Mr,"Moz$1")}function ge(e){return!jr.test(e)}function ve(e){var t=e.nodeType;return t===br||!t||t===Er}function ye(e,t){var n,r,i,a,s=t.createDocumentFragment(),u=[];if(ge(e))u.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(Ur.exec(e)||["",""])[1].toLowerCase(),i=Nr[r]||Nr._default,n.innerHTML=i[1]+e.replace(Rr,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=N(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(e){s.appendChild(e)}),s}function $e(e,n){n=n||t;var r;return(r=Dr.exec(e))?[n.createElement(r[1])]:(r=ye(e,n))?r.childNodes:[]}function be(e){if(e instanceof be)return e;var t;if(b(e)&&(e=hr(e),t=!0),!(this instanceof be)){if(t&&"<"!=e.charAt(0))throw Ir("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new be(e)}t?Oe(this,$e(e)):Oe(this,e)}function we(e){return e.cloneNode(!0)}function xe(e,t){if(t||Ee(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Ee(n[r])}function ke(e,t,n,r){if(y(r))throw Ir("offargs","jqLite#off() does not support the `selector` argument");var i=Ce(e),a=i&&i.events,s=i&&i.handle;if(s)if(t)o(t.split(" "),function(t){if(y(n)){var r=a[t];if(D(r||[],n),r&&r.length>0)return}Or(e,t,s),delete a[t]});else for(t in a)"$destroy"!==t&&Or(e,t,s),delete a[t]}function Ee(e,t){var r=e.ng339,i=r&&Sr[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ke(e)),delete Sr[r],e.ng339=n}}function Ce(e,t){var r=e.ng339,i=r&&Sr[r];return t&&!i&&(e.ng339=r=he(),i=Sr[r]={events:{},data:{},handle:n}),i}function _e(e,t,n){if(ve(e)){var r=y(n),i=!r&&t&&!$(t),o=!t,a=Ce(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];p(s,t)}}}function Se(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Ae(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",hr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+hr(t)+" "," ")))})}function Pe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=hr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",hr(n))}}function Oe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Te(e,t){return Me(e,"$"+(t||"ngController")+"Controller")}function Me(e,t,r){e.nodeType==Er&&(e=e.documentElement);for(var i=fr(t)?t:[t];e;){for(var o=0,a=i.length;a>o;o++)if((r=nr.data(e,i[o]))!==n)return r;e=e.parentNode||e.nodeType===Cr&&e.host}}function Fe(e){for(xe(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ie(e,t){t||xe(e);var n=e.parentNode;n&&n.removeChild(e)}function De(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):nr(n).on("load",t)}function je(e,t){var n=qr[t.toLowerCase()];return n&&Br[I(e)]&&n}function Ue(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Vr[t]}function Re(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=U(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function Ne(){this.$get=function(){return p(be,{hasClass:function(e,t){return e.attr&&(e=e[0]),Se(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Pe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ae(e,t)}})}}function Le(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}function qe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Be(e){var t=e.toString().replace(Gr,""),n=t.match(zr);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ve(e,t,n){var r,i,a,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw b(n)&&n||(n=e.name||Be(e)),Yr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(Gr,""),a=i.match(zr),o(a[1].split(Hr),function(e){e.replace(Wr,function(e,t,n){r.push(n)})})}e.$inject=r}}else fr(e)?(s=e.length-1,oe(e[s],"fn"),r=e.slice(0,s)):oe(e,"fn",!0);return r}function ze(e,t){function r(e){return function(t,n){return $(t)?void o(t,u(e)):e(t,n)}}function i(e,t){if(ae(e,"service"),(k(t)||fr(t))&&(t=_.instantiate(t)),!t.$get)throw Yr("pget","Provider '{0}' must define $get factory method.",e);return C[e+w]=t}function a(e,t){return function(){var n=A.invoke(t,this);if(v(n))throw Yr("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,g(t),!1)}function p(e,t){ae(e,"constant"),C[e]=t,S[e]=t}function d(e,t){var n=_.get(e+w),r=n.$get;n.$get=function(){var e=A.invoke(r,n);return A.invoke(t,null,{$delegate:e})}}function f(e){var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=_.get(r[0]);i[r[1]].apply(i,r[2])}}if(!E.get(e)){E.put(e,!0);try{b(e)?(t=ir(e),n=n.concat(f(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):k(e)?n.push(_.invoke(e)):fr(e)?n.push(_.invoke(e)):oe(e,"module")}catch(i){throw fr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Yr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function m(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===y)throw Yr("cdep","Circular dependency found: {0}",t+" <- "+x.join(" <- "));return e[t]}try{return x.unshift(t),e[t]=y,e[t]=n(t,r)}catch(i){throw e[t]===y&&delete e[t],i}finally{x.shift()}}function i(e,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,u,l=[],c=ze.$$annotate(e,t,o);for(s=0,a=c.length;a>s;s++){if(u=c[s],"string"!=typeof u)throw Yr("itkn","Incorrect injection token! Expected service name as string, got {0}",u);l.push(i&&i.hasOwnProperty(u)?i[u]:r(u,o))}return fr(e)&&(e=e[a]),e.apply(n,l)}function o(e,t,n){var r=Object.create((fr(e)?e[e.length-1]:e).prototype||null),o=i(e,r,t,n);return $(o)||k(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:ze.$$annotate,has:function(t){return C.hasOwnProperty(t+w)||e.hasOwnProperty(t)}}}t=t===!0;var y={},w="Provider",x=[],E=new qe([],!0),C={$provide:{provider:r(i),factory:r(s),service:r(l),value:r(c),constant:r(p),decorator:d}},_=C.$injector=m(C,function(e,t){throw cr.isString(t)&&x.push(t),Yr("unpr","Unknown provider: {0}",x.join(" <- "))}),S={},A=S.$injector=m(S,function(e,t){var r=_.get(e+w,t);return A.invoke(r.$get,r,n,e)});return o(f(e),function(e){A.invoke(e||h)}),A}function He(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===I(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(k(e))e=e();else if(M(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(){var e,t=n.hash();t?(e=u.getElementById(t))?a(e):(e=i(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&De(function(){r.$evalAsync(s)})}),s}]}function We(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Ge(e,t,r,i){function a(e){try{e.apply(null,L(arguments,1))}finally{if(E--,0===E)for(;C.length;)try{C.pop()()}catch(t){r.error(t)}}}function s(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function u(e,t){!function n(){o(S,function(e){e()}),_=t(n,e)}()}function l(){p(),d()}function c(){try{return $.state}catch(e){}}function p(){A=c(),A=v(A)?null:A,R(A,D)&&(A=D),D=A}function d(){(O!==m.url()||P!==A)&&(O=m.url(),P=A,o(F,function(e){e(m.url(),A)}))}function f(e){try{return decodeURIComponent(e)}catch(t){return e}}var m=this,g=t[0],y=e.location,$=e.history,w=e.setTimeout,x=e.clearTimeout,k={};m.isMock=!1;var E=0,C=[];m.$$completeOutstandingRequest=a,m.$$incOutstandingRequestCount=function(){E++},m.notifyWhenNoOutstandingRequests=function(e){o(S,function(e){e()}),0===E?e():C.push(e)};var _,S=[];m.addPollFn=function(e){return v(_)&&u(100,w),S.push(e),e};var A,P,O=y.href,T=t.find("base"),M=null;p(),P=A,m.url=function(t,n,r){if(v(r)&&(r=null),y!==e.location&&(y=e.location),$!==e.history&&($=e.history),t){var o=P===r;if(O===t&&(!i.history||o))return m;var a=O&&wt(O)===wt(t);return O=t,P=r,!i.history||a&&o?((!a||M)&&(M=t),n?y.replace(t):a?y.hash=s(t):y.href=t):($[n?"replaceState":"pushState"](r,"",t),p(),P=A),m}return M||y.href.replace(/%27/g,"'")},m.state=function(){return A};var F=[],I=!1,D=null;m.onUrlChange=function(t){return I||(i.history&&nr(e).on("popstate",l),nr(e).on("hashchange",l),I=!0),F.push(t),t},m.$$checkUrlChange=d,m.baseHref=function(){var e=T.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var j={},U="",N=m.baseHref();m.cookies=function(e,t){var i,o,a,s,u;if(!e){if(g.cookie!==U)for(U=g.cookie,o=U.split("; "),j={},s=0;s<o.length;s++)a=o[s],u=a.indexOf("="),u>0&&(e=f(a.substring(0,u)),j[e]===n&&(j[e]=f(a.substring(u+1))));return j}t===n?g.cookie=encodeURIComponent(e)+"=;path="+N+";expires=Thu, 01 Jan 1970 00:00:00 GMT":b(t)&&(i=(g.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+N).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},m.defer=function(e,t){var n;return E++,n=w(function(){delete k[n],a(e)},t||0),k[n]=!0,n},m.defer.cancel=function(e){return k[e]?(delete k[e],x(e),a(h),!0):!1}}function Ye(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Ge(e,r,t,n)}]}function Je(){this.$get=function(){function e(e,n){function i(e){e!=d&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,d),d=e,d.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=p({},n,{id:e}),u={},l=n&&n.capacity||Number.MAX_VALUE,c={},d=null,f=null;return t[e]={put:function(e,t){if(l<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});i(n)}if(!v(t))return e in u||a++,u[e]=t,a>l&&this.remove(f.key),t},get:function(e){if(l<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return u[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=c[e];if(!t)return;t==d&&(d=t.p),t==f&&(f=t.n),o(t.n,t.p),delete c[e]}delete u[e],a--},removeAll:function(){u={},a=0,c={},d=f=null},destroy:function(){u=null,s=null,c=null,delete t[e]},info:function(){return p({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ze(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Qe(e,r){function i(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(e,function(e,i){var o=e.match(n);if(!o)throw Qr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e);r[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i}}),r}var a={},s="Directive",l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,c=/(([\w\-]+)(?:\:([^;]+))?;?)/,d=F("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function E(t,n){return ae(t,"directive"),b(t)?(ie(n,"directiveFactory"),a.hasOwnProperty(t)||(a[t]=[],e.factory(t+s,["$injector","$exceptionHandler",function(e,n){var r=[];return o(a[t],function(o,a){try{var s=e.invoke(o);k(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",$(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(u){n(u)}}),r}])),a[t].push(n)):o(t,u(E)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return y(e)?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,u,g,y,E,C,S,A,P){function O(e,t){try{e.addClass(t)}catch(n){}}function T(e,t,n,r,i){e instanceof nr||(e=nr(e)),o(e,function(t,n){t.nodeType==xr&&t.nodeValue.match(/\S+/)&&(e[n]=nr(t).wrap("<span></span>").parent()[0])});var a=F(e,t,e,n,r,i);T.$$addScopeClass(e);var s=null;return function(t,n,r){ie(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,u=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=M(u));var l;if(l="html"!==s?nr(K(s,nr("<div>").append(e).html())):n?Lr.clone.call(e):e,o)for(var c in o)l.data("$"+c+"Controller",o[c].instance);return T.$$addScopeInfo(l,t),n&&n(l,t),a&&a(t,l,l,i),l}}function M(e){var t=e&&e[0];return t&&"foreignobject"!==I(t)&&t.toString().match(/SVG/)?"svg":"html"}function F(e,t,r,i,o,a){function s(e,r,i,o){var a,s,u,l,c,p,d,f,g;if(h){var v=r.length;for(g=new Array(v),c=0;c<m.length;c+=3)d=m[c],g[d]=r[d]}else g=r;for(c=0,p=m.length;p>c;)u=g[m[c++]],a=m[c++],s=m[c++],a?(a.scope?(l=e.$new(),T.$$addScopeInfo(nr(u),l)):l=e,f=a.transcludeOnThisElement?j(e,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&t?j(e,t):null,a(s,l,u,i,f)):s&&s(e,u.childNodes,n,o)}for(var u,l,c,p,d,f,h,m=[],g=0;g<e.length;g++)u=new ae,l=U(e[g],[],u,0===g?i:n,o),c=l.length?B(l,e[g],u,t,r,null,[],[],a):null,c&&c.scope&&T.$$addScopeClass(u.$$element),d=c&&c.terminal||!(p=e[g].childNodes)||!p.length?null:F(p,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||d)&&(m.push(g,c,d),f=!0,h=h||c),a=null;return f?s:null}function j(e,t,n,r){var i=function(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return i}function U(e,t,n,r,i){var o,a,s=e.nodeType,u=n.$attr;switch(s){case br:z(t,Ke(I(e)),"E",r,i);for(var p,d,f,h,m,g,v=e.attributes,y=0,w=v&&v.length;w>y;y++){var x=!1,k=!1;p=v[y],d=p.name,m=hr(p.value),h=Ke(d),(g=pe.test(h))&&(d=d.replace(Kr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var E=h.replace(/(Start|End)$/,"");W(E)&&h===E+"Start"&&(x=d,k=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),f=Ke(d.toLowerCase()),u[f]=d,(g||!n.hasOwnProperty(f))&&(n[f]=m,je(e,f)&&(n[f]=!0)),ee(e,t,m,f,g),z(t,f,"A",r,i,x,k)}if(a=e.className,$(a)&&(a=a.animVal),b(a)&&""!==a)for(;o=c.exec(a);)f=Ke(o[2]),z(t,f,"C",r,i)&&(n[f]=hr(o[3])),a=a.substr(o.index+o[0].length);break;case xr:Q(t,e.nodeValue);break;case kr:try{o=l.exec(e.nodeValue),o&&(f=Ke(o[1]),z(t,f,"M",r,i)&&(n[f]=hr(o[2])))}catch(C){}}return t.sort(J),t}function N(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Qr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==br&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return nr(r)}function q(e,t,n){return function(r,i,o,a,s){return i=N(i[0],t,n),e(r,i,o,a,s)}}function B(e,a,s,u,l,c,p,d,f){function h(e,t,n,r){e&&(n&&(e=q(e,n,r)),e.require=C.require,e.directiveName=S,(I===C||C.$$isolateScope)&&(e=re(e,{isolateScope:!0})),p.push(e)),t&&(n&&(t=q(t,n,r)),t.require=C.require,t.directiveName=S,(I===C||C.$$isolateScope)&&(t=re(t,{isolateScope:!0})),d.push(t))}function m(e,t,n,r){var i,a,s="data",u=!1,l=n;if(b(t)){if(a=t.match(v),t=t.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",l=n.parent()),"?"===a[2]&&(u=!0),i=null,r&&"data"===s&&(i=r[t])&&(i=i.instance),i=i||l[s]("$"+t+"Controller"),!i&&!u)throw Qr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i||null}return fr(t)&&(i=[],o(t,function(t){i.push(m(e,t,n,r))})),i}function w(e,t,i,u,l){function c(e,t,r){var i;return _(e)||(r=t,t=e,e=n),W&&(i=w),r||(r=W?k.parent():k),l(e,t,i,r,P)}var f,h,v,$,b,w,x,k,C;if(a===i?(C=s,k=s.$$element):(k=nr(i),C=new ae(k,s)),I&&(b=t.$new(!0)),l&&(x=c,x.$$boundTransclude=l),F&&(E={},w={},o(F,function(e){var n,r={$scope:e===I||e.$$isolateScope?b:t,$element:k,$attrs:C,$transclude:x};$=e.controller,"@"==$&&($=C[e.name]),n=y($,r,!0,e.controllerAs),w[e.name]=n,W||k.data("$"+e.name+"Controller",n.instance),E[e.name]=n})),I){T.$$addScopeInfo(k,b,!0,!(D&&(D===I||D===I.$$originalDirective))),T.$$addScopeClass(k,!0);var S=E&&E[I.name],A=b;S&&S.identifier&&I.bindToController===!0&&(A=S.instance),o(b.$$isolateBindings=I.$$isolateBindings,function(e,n){var i,o,a,s,u=e.attrName,l=e.optional,c=e.mode;switch(c){case"@":C.$observe(u,function(e){A[n]=e}),C.$$observers[u].$$scope=t,C[u]&&(A[n]=r(C[u])(t));break;case"=":if(l&&!C[u])return;o=g(C[u]),s=o.literal?R:function(e,t){return e===t||e!==e&&t!==t},a=o.assign||function(){throw i=A[n]=o(t),Qr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",C[u],I.name)},i=A[n]=o(t);var p=function(e){return s(e,A[n])||(s(e,i)?a(t,e=A[n]):A[n]=e),i=e};p.$stateful=!0;var d;d=e.collection?t.$watchCollection(C[u],p):t.$watch(g(C[u],p),null,o.literal),b.$on("$destroy",d);break;case"&":o=g(C[u]),A[n]=function(e){return o(t,e)}}})}for(E&&(o(E,function(e){e()}),E=null),f=0,h=p.length;h>f;f++)v=p[f],oe(v,v.isolateScope?b:t,k,C,v.require&&m(v.directiveName,v.require,k,w),x);var P=t;for(I&&(I.template||null===I.templateUrl)&&(P=b),e&&e(P,i.childNodes,n,l),f=d.length-1;f>=0;f--)v=d[f],oe(v,v.isolateScope?b:t,k,C,v.require&&m(v.directiveName,v.require,k,w),x)}f=f||{};for(var x,E,C,S,A,P,O,M=-Number.MAX_VALUE,F=f.controllerDirectives,I=f.newIsolateScopeDirective,D=f.templateDirective,j=f.nonTlbTranscludeDirective,B=!1,z=!1,W=f.hasElementTranscludeDirective,J=s.$$element=nr(a),Q=c,X=u,ee=0,ne=e.length;ne>ee;ee++){C=e[ee];var ie=C.$$start,se=C.$$end;if(ie&&(J=N(a,ie,se)),A=n,M>C.priority)break;if((O=C.scope)&&(C.templateUrl||($(O)?(Z("new/isolated scope",I||x,C,J),I=C):Z("new/isolated scope",I,C,J)),x=x||C),S=C.name,!C.templateUrl&&C.controller&&(O=C.controller,F=F||{},Z("'"+S+"' controller",F[S],C,J),F[S]=C),(O=C.transclude)&&(B=!0,C.$$tlb||(Z("transclusion",j,C,J),j=C),"element"==O?(W=!0,M=C.priority,A=J,J=s.$$element=nr(t.createComment(" "+S+": "+s[S]+" ")),a=J[0],te(l,L(A),a),X=T(A,u,M,Q&&Q.name,{nonTlbTranscludeDirective:j})):(A=nr(we(a)).contents(),J.empty(),X=T(A,u))),C.template)if(z=!0,Z("template",D,C,J),D=C,O=k(C.template)?C.template(J,s):C.template,O=ce(O),C.replace){if(Q=C,A=ge(O)?[]:et(K(C.templateNamespace,hr(O))),a=A[0],1!=A.length||a.nodeType!==br)throw Qr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S,"");te(l,J,a);var ue={$attr:{}},le=U(a,[],ue),pe=e.splice(ee+1,e.length-(ee+1));I&&V(le),e=e.concat(le).concat(pe),G(s,ue),ne=e.length}else J.html(O);if(C.templateUrl)z=!0,Z("template",D,C,J),D=C,C.replace&&(Q=C),w=Y(e.splice(ee,e.length-ee),J,s,l,B&&X,p,d,{controllerDirectives:F,newIsolateScopeDirective:I,templateDirective:D,nonTlbTranscludeDirective:j}),ne=e.length;else if(C.compile)try{P=C.compile(J,s,X),k(P)?h(null,P,ie,se):P&&h(P.pre,P.post,ie,se)}catch(de){i(de,H(J))}C.terminal&&(w.terminal=!0,M=Math.max(M,C.priority))}return w.scope=x&&x.scope===!0,w.transcludeOnThisElement=B,w.elementTranscludeOnThisElement=W,w.templateOnThisElement=z,w.transclude=X,f.hasElementTranscludeDirective=W,w}function V(e){for(var t=0,n=e.length;n>t;t++)e[t]=f(e[t],{$$isolateScope:!0})}function z(t,r,o,u,l,c,p){if(r===l)return null;var d=null;if(a.hasOwnProperty(r))for(var h,m=e.get(r+s),g=0,v=m.length;v>g;g++)try{h=m[g],(u===n||u>h.priority)&&-1!=h.restrict.indexOf(o)&&(c&&(h=f(h,{
$$start:c,$$end:p})),t.push(h),d=h)}catch(y){i(y)}return d}function W(t){if(a.hasOwnProperty(t))for(var n,r=e.get(t+s),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function G(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(O(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function Y(e,t,n,r,i,a,s,l){var c,p,d=[],h=t[0],m=e.shift(),g=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=k(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,y=m.templateNamespace;return t.empty(),u(v).then(function(u){var f,b,w,x;if(u=ce(u),m.replace){if(w=ge(u)?[]:et(K(y,hr(u))),f=w[0],1!=w.length||f.nodeType!==br)throw Qr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);b={$attr:{}},te(r,t,f);var k=U(f,[],b);$(m.scope)&&V(k),e=k.concat(e),G(n,b)}else f=h,t.html(u);for(e.unshift(g),c=B(e,f,n,i,t,m,a,s,l),o(r,function(e,n){e==f&&(r[n]=t[0])}),p=F(t[0].childNodes,i);d.length;){var E=d.shift(),C=d.shift(),_=d.shift(),S=d.shift(),A=t[0];if(!E.$$destroyed){if(C!==h){var P=C.className;l.hasElementTranscludeDirective&&m.replace||(A=we(f)),te(_,nr(C),A),O(nr(A),P)}x=c.transcludeOnThisElement?j(E,c.transclude,S):S,c(p,E,A,r,x)}}d=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(d?d.push(t,n,r,o):(c.transcludeOnThisElement&&(o=j(t,c.transclude,i)),c(p,t,n,r,o)))}}function J(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Z(e,t,n,r){if(t)throw Qr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,H(r))}function Q(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&T.$$addBindingClass(t),function(e,t){var i=t.parent();r||T.$$addBindingClass(i),T.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function K(e,n){switch(e=Zn(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function X(e,t){if("srcdoc"==t)return S.HTML;var n=I(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?S.RESOURCE_URL:void 0}function ee(e,t,n,i,o){var a=X(e,i);o=d[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===I(e))throw Qr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",H(e));t.push({priority:100,compile:function(){return{pre:function(e,t,u){var l=u.$$observers||(u.$$observers={});if(w.test(i))throw Qr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=u[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(u[i]=s(e),(l[i]||(l[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?u.$updateClass(e,t):u.$set(i,e)}))}}}})}}function te(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;o>i;i++)if(e[i]==a){e[i++]=r;for(var l=i,c=l+s-1,p=e.length;p>l;l++,c++)p>c?e[l]=e[c]:delete e[l];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var d=t.createDocumentFragment();d.appendChild(a),nr(r).data(nr(a).data()),rr?(dr=!0,rr.cleanData([a])):delete nr.cache[a[nr.expando]];for(var f=1,h=n.length;h>f;f++){var m=n[f];nr(m).remove(),d.appendChild(m),delete n[f]}n[0]=r,n.length=1}function re(e,t){return p(function(){return e.apply(null,arguments)},e,t)}function oe(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,H(n))}}var ae=function(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e};ae.prototype={$normalize:Ke,$addClass:function(e){e&&e.length>0&&A.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&A.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Xe(e,t);n&&n.length&&A.addClass(this.$$element,n);var r=Xe(t,e);r&&r.length&&A.removeClass(this.$$element,r)},$set:function(e,t,r,a){var s,u=this.$$element[0],l=je(u,e),c=Ue(u,e),p=e;if(l?(this.$$element.prop(e,t),a=l):c&&(this[c]=t,p=c),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e],a||(this.$attr[e]=a=ne(e,"-"))),s=I(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=P(t,"src"===e);else if("img"===s&&"srcset"===e){for(var d="",f=hr(t),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,m=/\s/.test(f)?h:/(,)/,g=f.split(m),v=Math.floor(g.length/2),y=0;v>y;y++){var $=2*y;d+=P(hr(g[$]),!0),d+=" "+hr(g[$+1])}var b=hr(g[2*y]).split(/\s/);d+=P(hr(b[0]),!0),2===b.length&&(d+=" "+hr(b[1])),this[e]=t=d}r!==!1&&(null===t||t===n?this.$$element.removeAttr(a):this.$$element.attr(a,t));var w=this.$$observers;w&&o(w[p],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=le()),i=r[e]||(r[e]=[]);return i.push(t),E.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){D(i,t)}}};var se=r.startSymbol(),ue=r.endSymbol(),ce="{{"==se||"}}"==ue?m:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,ue)},pe=/^ngAttr[A-Z]/;return T.$$addBindingInfo=x?function(e,t){var n=e.data("$binding")||[];fr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,T.$$addBindingClass=x?function(e){O(e,"ng-binding")}:h,T.$$addScopeInfo=x?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:h,T.$$addScopeClass=x?function(e,t){O(e,t?"ng-isolate-scope":"ng-scope")}:h,T}]}function Ke(e){return me(e.replace(Kr,""))}function Xe(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function et(e){e=nr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===kr&&ar.call(e,t,1)}return e}function tt(){var e={},t=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){ae(t,"controller"),$(t)?p(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,a){function s(e,t,n,i){if(!e||!$(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,u,l,c){var d,f,h,m;if(l=l===!0,c&&b(c)&&(m=c),b(r)){if(f=r.match(i),!f)throw Xr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);h=f[1],m=m||f[3],r=e.hasOwnProperty(h)?e[h]:se(u.$scope,h,!0)||(t?se(a,h,!0):n),oe(r,h,!0)}if(l){var g=(fr(r)?r[r.length-1]:r).prototype;return d=Object.create(g||null),m&&s(u,m,d,h||r.name),p(function(){return o.invoke(r,d,u,h),d},{instance:d,identifier:m})}return d=o.instantiate(r,u,h),m&&s(u,m,d,h||r.name),d}}]}function nt(){this.$get=["$window",function(e){return nr(e.document)}]}function rt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function it(e,t){if(b(e)){var n=e.replace(ii,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(ei)||ot(n))&&(e=z(n))}}return e}function ot(e){var t=e.match(ni);return t&&ri[t[0]].test(e)}function at(e){var t,n,r,i=le();return e?(o(e.split("\n"),function(e){r=e.indexOf(":"),t=Zn(hr(e.substr(0,r))),n=hr(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function st(e){var t=$(e)?e:n;return function(n){if(t||(t=at(e)),n){var r=t[Zn(n)];return void 0===r&&(r=null),r}return t}}function ut(e,t,n,r){return k(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function lt(e){return e>=200&&300>e}function ct(){var e=this.defaults={transformResponse:[it],transformRequest:[function(e){return!$(e)||S(e)||P(e)||A(e)?e:V(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:U(ti),put:U(ti),patch:U(ti)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,u,l,c,d,f){function h(t){function i(e){var t=p({},e);return e.data?t.data=ut(e.data,e.headers,e.status,u.transformResponse):t.data=e.data,lt(e.status)?t:d.reject(t)}function a(e){var t,n={};return o(e,function(e,r){k(e)?(t=e(),null!=t&&(n[r]=t)):n[r]=e}),n}function s(t){var n,r,i,o=e.headers,s=p({},t.headers);o=p({},o.common,o[Zn(t.method)]);e:for(n in o){r=Zn(n);for(i in s)if(Zn(i)===r)continue e;s[n]=o[n]}return a(s)}if(!cr.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var u=p({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);u.headers=s(t),u.method=Kn(u.method);var l=function(t){var r=t.headers,a=ut(t.data,st(r),n,t.transformRequest);return v(a)&&o(r,function(e,t){"content-type"===Zn(t)&&delete r[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),w(t,a).then(i,i)},c=[l,n],f=d.when(u);for(o(_,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){var h=c.shift(),m=c.shift();f=f.then(h,m)}return f.success=function(e){return oe(e,"fn"),f.then(function(t){e(t.data,t.status,t.headers,u)}),f},f.error=function(e){return oe(e,"fn"),f.then(null,function(t){e(t.data,t.status,t.headers,u)}),f},f}function m(e){o(arguments,function(e){h[e]=function(t,n){return h(p(n||{},{method:e,url:t}))}})}function g(e){o(arguments,function(e){h[e]=function(t,n,r){return h(p(r||{},{method:e,url:t,data:n}))}})}function w(r,i){function o(e,n,r,i){function o(){s(n,e,r,i)}f&&(lt(e)?f.put(x,[e,n,at(r),i]):f.remove(x)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function s(e,t,n,i){t=t>=-1?t:0,(lt(t)?g.resolve:g.reject)({data:e,status:t,headers:st(n),config:r,statusText:i})}function l(e){s(e.data,e.status,U(e.headers()),e.statusText)}function p(){var e=h.pendingRequests.indexOf(r);-1!==e&&h.pendingRequests.splice(e,1)}var f,m,g=d.defer(),b=g.promise,w=r.headers,x=E(r.url,r.params);if(h.pendingRequests.push(r),b.then(p,p),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(f=$(r.cache)?r.cache:$(e.cache)?e.cache:C),f&&(m=f.get(x),y(m)?T(m)?m.then(l,l):fr(m)?s(m[1],m[0],U(m[2]),m[3]):s(m,200,{},"OK"):f.put(x,b)),v(m)){var k=an(r.url)?u.cookies()[r.xsrfCookieName||e.xsrfCookieName]:n;k&&(w[r.xsrfHeaderName||e.xsrfHeaderName]=k),a(r.method,x,i,o,w,r.timeout,r.withCredentials,r.responseType)}return b}function E(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(fr(e)||(e=[e]),o(e,function(e){$(e)&&(e=x(e)?e.toISOString():V(e)),n.push(Z(t)+"="+Z(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var C=l("$http"),_=[];return o(i,function(e){_.unshift(b(e)?f.get(e):f.invoke(e))}),h.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put","patch"),h.defaults=e,h}]}function pt(){return new e.XMLHttpRequest}function dt(){this.$get=["$browser","$window","$document",function(e,t,n){return ft(e,pt,e.defer,t.angular.callbacks,n[0])}]}function ft(e,t,r,i,a){function s(e,t,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){Or(r,"load",o),Or(r,"error",o),a.body.removeChild(r),r=null;var s=-1,u="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),u=e.type,s="error"===e.type?404:200),n&&n(s,u)},Pr(r,"load",o),Pr(r,"error",o),a.body.appendChild(r),o}return function(a,u,l,c,p,d,f,m){function g(){b&&b(),w&&w.abort()}function v(t,i,o,a,s){E!==n&&r.cancel(E),b=w=null,t(i,o,a,s),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),u=u||e.url(),"jsonp"==Zn(a)){var $="_"+(i.counter++).toString(36);i[$]=function(e){i[$].data=e,i[$].called=!0};var b=s(u.replace("JSON_CALLBACK","angular.callbacks."+$),$,function(e,t){v(c,e,i[$].data,"",t),i[$]=h})}else{var w=t();w.open(a,u,!0),o(p,function(e,t){y(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"==on(u).protocol?404:0),v(c,n,t,w.getAllResponseHeaders(),e)};var x=function(){v(c,-1,null,null,"")};if(w.onerror=x,w.onabort=x,f&&(w.withCredentials=!0),m)try{w.responseType=m}catch(k){if("json"!==m)throw k}w.send(l||null)}if(d>0)var E=r(g,d);else T(d)&&d.then(g)}}function ht(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(o,a,d,f){function h(n){return n.replace(l,e).replace(c,t)}function m(e){try{return e=P(e),f&&!y(e)?e:O(e)}catch(t){var n=oi("interr","Can't interpolate: {0}\n{1}",o,t.toString());r(n)}}f=!!f;for(var g,$,b,w=0,x=[],E=[],C=o.length,_=[],S=[];C>w;){if(-1==(g=o.indexOf(e,w))||-1==($=o.indexOf(t,g+s))){w!==C&&_.push(h(o.substring(w)));break}w!==g&&_.push(h(o.substring(w,g))),b=o.substring(g+s,$),x.push(b),E.push(n(b,m)),w=$+u,S.push(_.length),_.push("")}if(d&&_.length>1)throw oi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!a||x.length){var A=function(e){for(var t=0,n=x.length;n>t;t++){if(f&&v(e[t]))return;_[S[t]]=e[t]}return _.join("")},P=function(e){return d?i.getTrusted(d,e):i.valueOf(e)},O=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=V(e)}return e};return p(function(e){var t=0,n=x.length,i=new Array(n);try{for(;n>t;t++)i[t]=E[t](e);return A(i)}catch(a){var s=oi("interr","Can't interpolate: {0}\n{1}",o,a.toString());r(s)}},{exp:o,expressions:x,$$watchDelegate:function(e,t,n){var r;return e.$watchGroup(E,function(n,i){var o=A(n);k(t)&&t.call(this,o,n!==i?r:o,e),r=o},n)}})}}var s=e.length,u=t.length,l=new RegExp(e.replace(/./g,o),"g"),c=new RegExp(t.replace(/./g,o),"g");return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function mt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,a,s,u){var l=t.setInterval,c=t.clearInterval,p=0,d=y(u)&&!u,f=(d?r:n).defer(),h=f.promise;return s=y(s)?s:0,h.then(null,null,i),h.$$intervalId=l(function(){f.notify(p++),s>0&&p>=s&&(f.resolve(p),c(h.$$intervalId),delete o[h.$$intervalId]),d||e.$apply()},a),o[h.$$intervalId]=f,h}var o={};return i.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},i}]}function gt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function vt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=J(t[n]);return t.join("/")}function yt(e,t){var n=on(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||si[n.protocol]||null}function $t(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=on(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=G(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function bt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function wt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function xt(e){return e.replace(/(#.+)|#$/,"$1")}function kt(e){return e.substr(0,wt(e).lastIndexOf("/")+1)}function Et(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Ct(e,t,r){this.$$html5=!0,r=r||"",yt(e,this),this.$$parse=function(e){var n=bt(t,e);if(!b(n))throw ui("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);$t(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Y(this.$$search),n=this.$$hash?"#"+J(this.$$hash):"";this.$$url=vt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,u;return(a=bt(e,i))!==n?(s=a,u=(a=bt(r,a))!==n?t+(bt("/",a)||a):e+s):(a=bt(t,i))!==n?u=t+a:t==i+"/"&&(u=t),u&&this.$$parse(u),!!u}}function _t(e,t,n){yt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=bt(e,r)||bt(t,r);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(e=r,this.replace())):(o=bt(n,a),v(o)&&(o=a)),$t(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=Y(this.$$search),r=this.$$hash?"#"+J(this.$$hash):"";this.$$url=vt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return wt(e)==wt(t)?(this.$$parse(t),!0):!1}}function St(e,t,n){this.$$html5=!0,_t.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==wt(r)?o=r:(a=bt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=Y(this.$$search),r=this.$$hash?"#"+J(this.$$hash):"";this.$$url=vt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function At(e){return function(){return this[e]}}function Pt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Ot(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return O(e)?(t.enabled=e,this):$(e)?(O(e.enabled)&&(t.enabled=e.enabled),O(e.requireBase)&&(t.requireBase=e.requireBase),O(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=l.url(),o=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(a){throw l.url(i),l.$$state=o,a}}function u(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,c,p,d=r.baseHref(),f=r.url();if(t.enabled){if(!d&&t.requireBase)throw ui("nobase","$location in HTML5 mode requires a <base> tag to be present!");p=Et(f)+(d||"/"),c=i.history?Ct:St}else p=wt(f),c=_t;var h=kt(p);l=new c(p,h,"#"+e),l.$$parseLinkUrl(f,f),l.$$state=r.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=nr(e.target);"a"!==I(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");$(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=on(s.animVal).href),m.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(s,u)&&(e.preventDefault(),l.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),xt(l.absUrl())!=xt(f)&&r.url(l.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){return v(bt(h,e))?void(a.location.href=e):(n.$evalAsync(function(){var r,i=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=o,s(i,!1,o)):(g=!1,u(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=xt(r.url()),t=xt(l.absUrl()),o=r.state(),a=l.$$replace,c=e!==t||l.$$html5&&i.history&&o!==l.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=o):(c&&s(t,a,o===l.$$state?null:l.$$state),u(e,o)))})),l.$$replace=!1}),l}]}function Tt(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||h,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Mt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ci("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Ft(e,t){if(e+="",!b(e))throw ci("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function It(e,t){if(e){if(e.constructor===e)throw ci("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw ci("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ci("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw ci("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Dt(e,t){if(e){if(e.constructor===e)throw ci("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===pi||e===di||e===fi)throw ci("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function jt(e){return e.constant}function Ut(e,t,n,r,i){It(e,i),It(t,i);for(var o,a=n.split("."),s=0;a.length>1;s++){o=Mt(a.shift(),i);var u=0===s&&t&&t[o]||e[o];u||(u={},e[o]=u),e=It(u,i)}return o=Mt(a.shift(),i),It(e[o],i),e[o]=r,r}function Rt(e){return"constructor"==e}function Nt(e,t,r,i,o,a,s){Mt(e,a),Mt(t,a),Mt(r,a),Mt(i,a),Mt(o,a);var u=function(e){return It(e,a)},l=s||Rt(e)?u:m,c=s||Rt(t)?u:m,p=s||Rt(r)?u:m,d=s||Rt(i)?u:m,f=s||Rt(o)?u:m;return function(a,s){var u=s&&s.hasOwnProperty(e)?s:a;return null==u?u:(u=l(u[e]),t?null==u?n:(u=c(u[t]),r?null==u?n:(u=p(u[r]),i?null==u?n:(u=d(u[i]),o?null==u?n:u=f(u[o]):u):u):u):u)}}function Lt(e,t){return function(n,r){return e(n,r,It,t)}}function qt(e,t,r){var i=t.expensiveChecks,a=i?bi:$i,s=a[e];if(s)return s;var u=e.split("."),l=u.length;if(t.csp)s=6>l?Nt(u[0],u[1],u[2],u[3],u[4],r,i):function(e,t){var o,a=0;do o=Nt(u[a++],u[a++],u[a++],u[a++],u[a++],r,i)(e,t),t=n,e=o;while(l>a);return o};else{var c="";i&&(c+="s = eso(s, fe);\nl = eso(l, fe);\n");var p=i;o(u,function(e,t){Mt(e,r);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(i||Rt(e))&&(n="eso("+n+", fe)",p=!0),c+="if(s == null) return undefined;\ns="+n+";\n"}),c+="return s;";var d=new Function("s","l","eso","fe",c);d.toString=g(c),p&&(d=Lt(d,r)),s=d}return s.sharedGetter=!0,s.assign=function(t,n,r){return Ut(t,r,e,n,e)},a[e]=s,s}function Bt(e){return k(e.valueOf)?e.valueOf():wi.call(e)}function Vt(){var e=le(),t=le();this.$get=["$filter","$sniffer",function(n,r){function i(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function a(e,t){for(var n=0,r=e.length;r>n;n++){var i=e[n];i.constant||(i.inputs?a(i.inputs,t):-1===t.indexOf(i)&&t.push(i))}return t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Bt(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function u(e,t,n,r){var i,o=r.$$inputs||(r.$$inputs=a(r.inputs,[]));if(1===o.length){var u=s;return o=o[0],e.$watch(function(e){var t=o(e);return s(t,u)||(i=r(e),u=t&&Bt(t)),i},t,n)}for(var l=[],c=0,p=o.length;p>c;c++)l[c]=s;return e.$watch(function(e){for(var t=!1,n=0,a=o.length;a>n;n++){var u=o[n](e);(t||(t=!s(u,l[n])))&&(l[n]=u&&Bt(u))}return t&&(i=r(e)),i},t,n)}function l(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,k(t)&&t.apply(this,arguments),y(e)&&r.$$postDigest(function(){y(o)&&i()})},n)}function c(e,t,n,r){function i(e){var t=!0;return o(e,function(e){y(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,k(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function p(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){k(t)&&t.apply(this,arguments),i()},n)}function d(e,t){if(!t)return e;var n=e.$$watchDelegate,r=n!==c&&n!==l,i=r?function(n,r){var i=e(n,r);return t(i,n,r)}:function(n,r){var i=e(n,r),o=t(i,n,r);return y(i)?o:i};return e.$$watchDelegate&&e.$$watchDelegate!==u?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=u,i.inputs=[e]),i}var f={csp:r.csp,expensiveChecks:!1},m={csp:r.csp,expensiveChecks:!0};return function(r,o,a){var s,g,v;switch(typeof r){case"string":v=r=r.trim();var y=a?t:e;if(s=y[v],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(g=!0,r=r.substring(2));var $=a?m:f,b=new vi($),w=new yi(b,n,$);s=w.parse(r),s.constant?s.$$watchDelegate=p:g?(s=i(s),s.$$watchDelegate=s.literal?c:l):s.inputs&&(s.$$watchDelegate=u),y[v]=s}return d(s,o);case"function":return d(r,o);default:return d(h,o)}}}]}function zt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Wt(function(t){e.$evalAsync(t)},t)}]}function Ht(){this.$get=["$browser","$exceptionHandler",function(e,t){return Wt(function(t){e.defer(t)},t)}]}function Wt(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function u(e){var r,i,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][e.status];try{k(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(u){i.reject(u),t(u)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){u(t)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function p(e){var t=new c,n=0,r=fr(e)?[]:{};return o(e,function(e,i){n++,v(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var d=r("$q",TypeError),f=function(){return new c};a.prototype={then:function(e,t,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}},c.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{($(e)||k(e))&&(n=e&&e.then),k(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){r[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(k(e)?e(n):n)}catch(s){t(s)}}})}};var h=function(e){var t=new c;return t.reject(e),t.promise},m=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var r=null;try{k(n)&&(r=n())}catch(i){return m(i,!1)}return T(r)?r.then(function(){return m(e,t)},function(e){return m(e,!1)}):m(e,t)},v=function(e,t,n,r){var i=new c;return i.resolve(e),i.promise.then(t,n,r)},y=function b(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!k(e))throw d("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof b))return new b(e);var r=new c;return e(t,n),r.promise};return y.defer=f,y.reject=h,y.when=v,y.all=p,y}function Gt(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<c.length;e++){var t=c[e];t&&(c[e]=null,t())}l=c.length=0}function r(e){var t=c.length;return l++,c.push(e),0===t&&(u=s(n)),function(){t>=0&&(c[t]=null,t=null,0===--l&&u&&(u(),u=null,c.length=0))}}var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!i,s=a?function(e){var t=i(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};r.supported=a;var u,l=0,c=[];return r}]}function Yt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,p){function d(e){e.currentScope.$$destroyed=!0}function f(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function m(e){if(E.$$phase)throw n("inprog","{0} already in progress",E.$$phase);E.$$phase=e}function g(){E.$$phase=null}function y(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function b(){}function w(){for(;S.length;)try{S.shift()()}catch(e){u(e)}s=null}function x(){null===s&&(s=p.defer(function(){E.$apply(w)}))}f.prototype={constructor:f,$new:function(t,n){var r;return n=n||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r);var i=this,o=i.$$watchers,s={fn:t,last:b,get:r,exp:e,eq:!!n};return a=null,k(t)||(s.fn=h),o||(o=i.$$watchers=[]),o.unshift(s),function(){D(o,s),a=null}},$watchGroup:function(e,t){function n(){u=!1,l?(l=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,u=!1,l=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s,u;if(!v(o)){if($(o))if(i(o)){a!==f&&(a=f,g=a.length=0,p++),t=o.length,g!==t&&(p++,a.length=g=t);for(var l=0;t>l;l++)u=a[l],s=o[l],r=u!==u&&s!==s,r||u===s||(p++,a[l]=s)}else{a!==h&&(a=h={},g=0,p++),t=0;for(n in o)o.hasOwnProperty(n)&&(t++,s=o[n],u=a[n],n in a?(r=u!==u&&s!==s,r||u===s||(p++,a[n]=s)):(g++,a[n]=s,p++));if(g>t){p++;for(n in a)o.hasOwnProperty(n)||(g--,delete a[n])}}else a!==o&&(a=o,p++);return p;
}}function r(){if(m?(m=!1,t(o,o,u)):t(o,s,u),l)if($(o))if(i(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)Qn.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,l=t.length>1,p=0,d=c(e,n),f=[],h={},m=!0,g=0;return this.$watch(d,r)},$digest:function(){var e,r,i,o,l,c,d,f,h,v,y=t,$=this,x=[];m("$digest"),p.$$checkUrlChange(),this===E&&null!==s&&(p.defer.cancel(s),w()),a=null;do{for(c=!1,f=$;C.length;){try{v=C.shift(),v.scope.$eval(v.expression,v.locals)}catch(S){u(S)}a=null}e:do{if(o=f.$$watchers)for(l=o.length;l--;)try{if(e=o[l])if((r=e.get(f))===(i=e.last)||(e.eq?R(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===a){c=!1;break e}}else c=!0,a=e,e.last=e.eq?j(r,null):r,e.fn(r,i===b?r:i,f),5>y&&(h=4-y,x[h]||(x[h]=[]),x[h].push({msg:k(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(S){u(S)}if(!(d=f.$$childHead||f!==$&&f.$$nextSibling))for(;f!==$&&!(d=f.$$nextSibling);)f=f.$parent}while(f=d);if((c||C.length)&&!y--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,x)}while(c||C.length);for(g();_.length;)try{_.shift()()}catch(S){u(S)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==E){for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){E.$$phase||C.length||p.defer(function(){C.length&&E.$digest()}),C.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){_.push(e)},$apply:function(e){try{return m("$apply"),this.$eval(e)}catch(t){u(t)}finally{g();try{E.$digest()}catch(t){throw u(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&S.push(t),x()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e,t){var n,r,i,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=N([l],arguments,1);do{for(n=a.$$listeners[e]||o,l.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(p){u(p)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=n,i=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return o;for(var a,s,l,c=N([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[e]||[],s=0,l=a.length;l>s;s++)if(a[s])try{a[s].apply(null,c)}catch(p){u(p)}else a.splice(s,1),s--,l--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var E=new f,C=E.$$asyncQueue=[],_=E.$$postDigestQueue=[],S=E.$$applyAsyncQueue=[];return E}]}function Jt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=on(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Zt(e){if("self"===e)return e;if(b(e)){if(e.indexOf("***")>-1)throw xi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=mr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(E(e))return new RegExp("^"+e.source+"$");throw xi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Qt(e){var t=[];return y(e)&&o(e,function(e){t.push(Zt(e))}),t}function Kt(){this.SCE_CONTEXTS=ki;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Qt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Qt(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?an(t):!!e.exec(t.href)}function o(n){var r,o,a=on(n.toString()),s=!1;for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=d.hasOwnProperty(e)?d[e]:null;if(!r)throw xi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw xi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function u(e){return e instanceof p?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||t===n||""===t)return t;var r=d.hasOwnProperty(e)?d[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===ki.RESOURCE_URL){if(o(t))return t;throw xi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===ki.HTML)return c(t);throw xi("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw xi("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var p=a(),d={};return d[ki.HTML]=a(p),d[ki.CSS]=a(p),d[ki.URL]=a(p),d[ki.JS]=a(p),d[ki.RESOURCE_URL]=a(d[ki.URL]),{trustAs:s,getTrusted:l,valueOf:u}}]}function Xt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>tr)throw xi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=U(ki);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=m),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(ki,function(e,t){var n=Zn(t);r[me("parse_as_"+n)]=function(t){return i(e,t)},r[me("get_trusted_"+n)]=function(t){return a(e,t)},r[me("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function en(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=d((/android (\d+)/.exec(Zn((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,p=!1;if(l){for(var f in l)if(r=u.exec(f)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),p=!!("animation"in l||n+"Animation"in l),!o||c&&p||(c=b(s.body.style.webkitTransition),p=b(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||a),hasEvent:function(e){if("input"===e&&11>=tr)return!1;if(v(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:gr(),vendorPrefix:n,transitions:c,animations:p,android:o}}]}function tn(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(o,a){function s(e){if(!a)throw Qr("tpload","Failed to load template: {0}",o);return n.reject(e)}i.totalPendingRequests++,b(o)&&e.get(o)||(o=r.getTrustedResourceUrl(o));var u=t.defaults&&t.defaults.transformResponse;fr(u)?u=u.filter(function(e){return e!==it}):u===it&&(u=null);var l={cache:e,transformResponse:u};return t.get(o,l)["finally"](function(){i.totalPendingRequests--}).then(function(e){return e.data},s)}return i.totalPendingRequests=0,i}]}function nn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=cr.element(e).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+mr(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function rn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,u){var l,c=y(u)&&!u,p=(c?r:n).defer(),d=p.promise;return l=t.defer(function(){try{p.resolve(o())}catch(t){p.reject(t),i(t)}finally{delete a[d.$$timeoutId]}c||e.$apply()},s),d.$$timeoutId=l,a[l]=p,d}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function on(e){var t=e;return tr&&(Ei.setAttribute("href",t),t=Ei.href),Ei.setAttribute("href",t),{href:Ei.href,protocol:Ei.protocol?Ei.protocol.replace(/:$/,""):"",host:Ei.host,search:Ei.search?Ei.search.replace(/^\?/,""):"",hash:Ei.hash?Ei.hash.replace(/^#/,""):"",hostname:Ei.hostname,port:Ei.port,pathname:"/"===Ei.pathname.charAt(0)?Ei.pathname:"/"+Ei.pathname}}function an(e){var t=b(e)?on(e):e;return t.protocol===Ci.protocol&&t.host===Ci.host}function sn(){this.$get=g(e)}function un(e){function t(r,i){if($(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",dn),t("date",Cn),t("filter",ln),t("json",_n),t("limitTo",Sn),t("lowercase",Oi),t("number",fn),t("orderBy",An),t("uppercase",Ti)}function ln(){return function(e,t,n){if(!fr(e))return e;var r,i,o=null!==t?typeof t:"null";switch(o){case"function":r=t;break;case"boolean":case"null":case"number":case"string":i=!0;case"object":r=cn(t,n,i);break;default:return e}return e.filter(r)}}function cn(e,t,n){var r,i=$(e)&&"$"in e;return t===!0?t=R:k(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:$(e)||$(t)?!1:(e=Zn(""+e),t=Zn(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!$(r)?pn(r,e.$,t,!1):pn(r,e,t,n)}}function pn(e,t,n,r,i){var o=null!==e?typeof e:"null",a=null!==t?typeof t:"null";if("string"===a&&"!"===t.charAt(0))return!pn(e,t.substring(1),n,r);if(fr(e))return e.some(function(e){return pn(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&pn(e[s],t,n,!0))return!0;return i?!1:pn(e,t,n,!1)}if("object"===a){for(s in t){var u=t[s];if(!k(u)&&!v(u)){var l="$"===s,c=l?e:e[s];if(!pn(c,u,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function dn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:hn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function fn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:hn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function hn(e,t,n,r,i){if(!isFinite(e)||$(e))return"";var o=0>e;e=Math.abs(e);var a=e+"",s="",u=[],l=!1;if(-1!==a.indexOf("e")){var c=a.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>i+1?e=0:(s=a,l=!0)}if(l)i>0&&1>e&&(s=e.toFixed(i),e=parseFloat(s));else{var p=(a.split(_i)[1]||"").length;v(i)&&(i=Math.min(Math.max(t.minFrac,p),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var d=(""+e).split(_i),f=d[0];d=d[1]||"";var h,m=0,g=t.lgSize,y=t.gSize;if(f.length>=g+y)for(m=f.length-g,h=0;m>h;h++)(m-h)%y===0&&0!==h&&(s+=n),s+=f.charAt(h);for(h=m;h<f.length;h++)(f.length-h)%g===0&&0!==h&&(s+=n),s+=f.charAt(h);for(;d.length<i;)d+="0";i&&"0"!==i&&(s+=r+d.substr(0,i))}return 0===e&&(o=!1),u.push(o?t.negPre:t.posPre,s,o?t.negSuf:t.posSuf),u.join("")}function mn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function gn(e,t,n,r){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),mn(o,t,r)}}function vn(e,t){return function(n,r){var i=n["get"+e](),o=Kn(t?"SHORT"+e:e);return r[o][i]}}function yn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=mn(Math[t>0?"floor":"ceil"](t/60),2)+mn(Math.abs(t%60),2)}function $n(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function bn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function wn(e){return function(t){var n=$n(t.getFullYear()),r=bn(t),i=+r-+n,o=1+Math.round(i/6048e5);return mn(o,e)}}function xn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function kn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function En(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Cn(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=d(t[9]+t[10]),o=d(t[9]+t[11])),a.call(r,d(t[1]),d(t[2])-1,d(t[3]));var u=d(t[4]||0)-i,l=d(t[5]||0)-o,c=d(t[6]||0),p=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,u,l,c,p),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,b(n)&&(n=Pi.test(n)?d(n):t(n)),w(n)&&(n=new Date(n)),!x(n))return n;for(;r;)s=Ai.exec(r),s?(l=N(l,s,1),r=l.pop()):(l.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(l,function(t){a=Si[t],u+=a?a(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function _n(){return function(e,t){return v(t)&&(t=2),V(e,t)}}function Sn(){return function(e,t){return w(e)&&(e=e.toString()),fr(e)||b(e)?(t=Math.abs(Number(t))===1/0?Number(t):d(t),t?t>0?e.slice(0,t):e.slice(t):b(e)?"":[]):e}}function An(e){return function(t,n,r){function o(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function a(e,t){return t?function(t,n){return e(n,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function u(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))?e:"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function l(e,t){var n=typeof e,r=typeof t;return n===r&&"object"===n&&(e=u(e),t=u(t)),n===r?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}return i(t)?(n=fr(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,r=t||m;if(b(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return a(l,n);if(r=e(t),r.constant){var i=r();return a(function(e,t){return l(e[i],t[i])},n)}}return a(function(e,t){return l(r(e),r(t))},n)}),or.call(t).sort(a(o,r))):t}}function Pn(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function On(e,t){e.$name=t}function Tn(e,t,r,i,a){var s=this,u=[],l=s.$$parentForm=e.parent().controller("form")||Ii;s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){o(u,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(u,function(e){e.$commitViewValue()})},s.$addControl=function(e){ae(e.$name,"input"),u.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),D(u,e)},Wn({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(D(r,n),0===r.length&&delete e[t])},parentForm:l,$animate:i}),s.$setDirty=function(){i.removeClass(e,vo),i.addClass(e,yo),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){i.setClass(e,vo,yo+" "+Di),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(u,function(e){e.$setPristine()})},s.$setUntouched=function(){o(u,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,Di),s.$submitted=!0,l.$setSubmitted()}}function Mn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Fn(e,t,n,r,i,o){In(e,t,n,r,i,o),Mn(r)}function In(e,t,n,r,i,o){var a=Zn(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,u()})}var u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=hr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var l,c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function Dn(e,t){if(x(e))return e;if(b(e)){Hi.lastIndex=0;var n=Hi.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,l=$n(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds()),new Date(r,0,l.getDate()+c,o,a,s,u)}}return NaN}function jn(e,t){return function(n,r){var i,a;if(x(n))return n;if(b(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ni.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Un(e,t,r,i){return function(o,a,s,u,l,c,p){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return y(e)?x(e)?e:r(e):n}Rn(o,a,s,u),In(o,a,s,u,l,c);var h,m=u&&u.$options&&u.$options.timezone;if(u.$$parserName=e,u.$parsers.push(function(e){if(u.$isEmpty(e))return null;if(t.test(e)){var i=r(e,h);return"UTC"===m&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),u.$formatters.push(function(e){if(e&&!x(e))throw xo("datefmt","Expected `{0}` to be a date",e);if(d(e)){if(h=e,h&&"UTC"===m){var t=6e4*h.getTimezoneOffset();h=new Date(h.getTime()+t)}return p("date")(e,i,m)}return h=null,""}),y(s.min)||s.ngMin){var g;u.$validators.min=function(e){return!d(e)||v(g)||r(e)>=g},s.$observe("min",function(e){g=f(e),u.$validate()})}if(y(s.max)||s.ngMax){var $;u.$validators.max=function(e){return!d(e)||v($)||r(e)<=$},s.$observe("max",function(e){$=f(e),u.$validate()})}}}function Rn(e,t,r,i){var o=t[0],a=i.$$hasNativeValidators=$(o.validity);a&&i.$parsers.push(function(e){var r=t.prop(Jn)||{};return r.badInput&&!r.typeMismatch?n:e})}function Nn(e,t,r,i,o,a){if(Rn(e,t,r,i),In(e,t,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Bi.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!w(e))throw xo("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),y(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||v(s)||e>=s},r.$observe("min",function(e){y(e)&&!w(e)&&(e=parseFloat(e,10)),s=w(e)&&!isNaN(e)?e:n,i.$validate()})}if(y(r.max)||r.ngMax){var u;i.$validators.max=function(e){return i.$isEmpty(e)||v(u)||u>=e},r.$observe("max",function(e){y(e)&&!w(e)&&(e=parseFloat(e,10)),u=w(e)&&!isNaN(e)?e:n,i.$validate()})}}function Ln(e,t,n,r,i,o){In(e,t,n,r,i,o),Mn(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Li.test(n)}}function qn(e,t,n,r,i,o){In(e,t,n,r,i,o),Mn(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||qi.test(n)}}function Bn(e,t,n,r){v(n.name)&&t.attr("name",l());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function Vn(e,t,n,r,i){var o;if(y(r)){if(o=e(r),!o.constant)throw xo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function zn(e,t,n,r,i,o,a,s){var u=Vn(s,e,"ngTrueValue",n.ngTrueValue,!0),l=Vn(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return R(e,u)}),r.$parsers.push(function(e){return e?u:l})}function Hn(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){if(fr(e))return e;if(b(e))return e.split(" ");if($(e)){var t=[];return o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(a,s,u){function l(e){var t=p(e,1);u.$addClass(t)}function c(e){var t=p(e,-1);u.$removeClass(t)}function p(e,t){var n=s.data("$classCounts")||{},r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function d(e,t){var i=r(t,e),o=r(e,t);i=p(i,1),o=p(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(h){if(!R(e,h)){var r=i(h);d(r,n)}}else l(n)}h=U(e)}var h;a.$watch(u[e],f,!0),u.$observe("class",function(t){f(a.$eval(u[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(u[e]));o===t?l(s):c(s)}})}}}]}function Wn(e){function t(e,t,u){t===n?r("$pending",e,u):i("$pending",e,u),O(t)?t?(p(s.$error,e,u),c(s.$$success,e,u)):(c(s.$error,e,u),p(s.$$success,e,u)):(p(s.$error,e,u),p(s.$$success,e,u)),s.$pending?(o(wo,!0),s.$valid=s.$invalid=n,a("",null)):(o(wo,!1),s.$valid=Gn(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var l;l=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,l),d.$setValidity(e,l,s)}function r(e,t,n){s[e]||(s[e]={}),c(s[e],t,n)}function i(e,t,r){s[e]&&p(s[e],t,r),Gn(s[e])&&(s[e]=n)}function o(e,t){t&&!l[e]?(f.addClass(u,e),l[e]=!0):!t&&l[e]&&(f.removeClass(u,e),l[e]=!1)}function a(e,t){e=e?"-"+ne(e,"-"):"",o(mo+e,t===!0),o(go+e,t===!1)}var s=e.ctrl,u=e.$element,l={},c=e.set,p=e.unset,d=e.parentForm,f=e.$animate;l[go]=!(l[mo]=u.hasClass(mo)),s.$setValidity=t}function Gn(e){if(e)for(var t in e)return!1;return!0}var Yn=/^\/(.+)\/([a-z]*)$/,Jn="validity",Zn=function(e){return b(e)?e.toLowerCase():e},Qn=Object.prototype.hasOwnProperty,Kn=function(e){return b(e)?e.toUpperCase():e},Xn=function(e){return b(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},er=function(e){return b(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Zn=Xn,Kn=er);var tr,nr,rr,ir,or=[].slice,ar=[].splice,sr=[].push,ur=Object.prototype.toString,lr=r("ng"),cr=e.angular||(e.angular={}),pr=0;tr=t.documentMode,h.$inject=[],m.$inject=[];var dr,fr=Array.isArray,hr=function(e){return b(e)?e.trim():e},mr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gr=function(){if(y(gr.isActive_))return gr.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return gr.isActive_=e},vr=["ng-","data-ng-","ng:","x-ng-"],yr=/[A-Z]/g,$r=!1,br=1,wr=2,xr=3,kr=8,Er=9,Cr=11,_r={full:"1.3.20",major:1,minor:3,dot:20,codeName:"shallow-translucence"};be.expando="ng339";var Sr=be.cache={},Ar=1,Pr=function(e,t,n){e.addEventListener(t,n,!1)},Or=function(e,t,n){e.removeEventListener(t,n,!1)};be._data=function(e){return this.cache[e[this.expando]]||{}};var Tr=/([\:\-\_]+(.))/g,Mr=/^moz([A-Z])/,Fr={mouseleave:"mouseout",mouseenter:"mouseover"},Ir=r("jqLite"),Dr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,jr=/<|&#?\w+;/,Ur=/<([\w:]+)/,Rr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Nr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Nr.optgroup=Nr.option,Nr.tbody=Nr.tfoot=Nr.colgroup=Nr.caption=Nr.thead,Nr.th=Nr.td;var Lr=be.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),be(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return nr(e>=0?this[e]:this[this.length+e])},length:0,push:sr,sort:[].sort,splice:[].splice},qr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){qr[Zn(e)]=e});var Br={};o("input,select,option,textarea,button,form,details".split(","),function(e){Br[e]=!0});var Vr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:_e,removeData:Ee},function(e,t){be[t]=e}),o({data:_e,inheritedData:Me,scope:function(e){return nr.data(e,"$scope")||Me(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return nr.data(e,"$isolateScope")||nr.data(e,"$isolateScopeNoTemplate")},controller:Te,injector:function(e){return Me(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Se,css:function(e,t,n){return t=me(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==xr&&i!==wr&&i!==kr){var o=Zn(t);if(qr[o]){if(!y(r))return e[t]||(e.attributes.getNamedItem(t)||h).specified?o:n;r?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(y(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===br||n===xr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===I(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(xe(e,!0),void(e.innerHTML=t))},empty:Fe},function(e,t){be.prototype[t]=function(t,r){var i,o,a=this.length;if(e!==Fe&&(2==e.length&&e!==Se&&e!==Te?t:r)===n){if($(t)){for(i=0;a>i;i++)if(e===_e)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}for(var s=e.$dv,u=s===n?Math.min(a,1):a,l=0;u>l;l++){var c=e(this[l],t,r);s=s?s+c:c}return s}for(i=0;a>i;i++)e(this[i],t,r);return this}}),o({removeData:Ee,on:function Jo(e,t,n,r){if(y(r))throw Ir("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ve(e)){var i=Ce(e,!0),o=i.events,a=i.handle;a||(a=i.handle=Re(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],u=s.length;u--;){t=s[u];var l=o[t];l||(o[t]=[],"mouseenter"===t||"mouseleave"===t?Jo(e,Fr[t],function(e){var n=this,r=e.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(e,t)}):"$destroy"!==t&&Pr(e,t,a),l=o[t]),l.push(n)}}},off:ke,one:function(e,t,n){e=nr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;xe(e),o(new be(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===br&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===br||n===Cr){t=new be(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===br){var n=e.firstChild;o(new be(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=nr(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Ie,detach:function(e){Ie(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new be(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Pe,removeClass:Ae,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;v(r)&&(r=!Se(e,t)),(r?Pe:Ae)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Cr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:we,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,u=Ce(e),l=u&&u.events,c=l&&l[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:h,type:s,target:e},t.type&&(r=p(r,t)),i=U(c),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){be.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)v(i)?(i=e(this[o],t,n,r),y(i)&&(i=nr(i))):Oe(i,e(this[o],t,n,r));return y(i)?i:this},be.prototype.bind=be.prototype.on,be.prototype.unbind=be.prototype.off}),qe.prototype={put:function(e,t){this[Le(e,this.nextUid)]=t},get:function(e){return this[Le(e,this.nextUid)]},remove:function(e){var t=this[e=Le(e,this.nextUid)];return delete this[e],t}};var zr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Hr=/,/,Wr=/^\s*(_?)(\S+?)\1\s*$/,Gr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Yr=r("$injector");ze.$$annotate=Ve;var Jr=r("$animate"),Zr=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw Jr("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function r(t){var r,i=e.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=t(function(){i.resolve()})}),i.promise}function i(e,t){var n=[],r=[],i=le();return o((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0}),o(t,function(e,t){var o=i[t];e===!1&&o?r.push(t):e!==!0||o||n.push(t)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function a(e,t,n){for(var r=0,i=t.length;i>r;++r){var o=t[r];e[o]=n}}function s(){return l||(l=e.defer(),t(function(){l.resolve(),l=null})),l.promise}function u(e,t){if(cr.isObject(t)){var n=p(t.from||{},t.to||{});e.css(n)}}var l;return{animate:function(e,t,n){return u(e,{from:t,to:n}),s()},enter:function(e,t,n,r){return u(e,r),n?n.after(e):t.prepend(e),s()},leave:function(e,t){return u(e,t),e.remove(),s()},move:function(e,t,n,r){return this.enter(e,t,n,r)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=nr(e),t=b(t)?t:fr(t)?t.join(" "):"",o(e,function(e){Pe(e,t)}),u(e,n),s()},removeClass:function(e,t,n){return this.setClass(e,[],t,n);
},$$removeClassImmediately:function(e,t,n){return e=nr(e),t=b(t)?t:fr(t)?t.join(" "):"",o(e,function(e){Ae(e,t)}),u(e,n),s()},setClass:function(e,t,n,o){var s=this,u="$$animateClasses",l=!1;e=nr(e);var c=e.data(u);c?o&&c.options&&(c.options=cr.extend(c.options||{},o)):(c={classes:{},options:o},l=!0);var p=c.classes;return t=fr(t)?t:t.split(" "),n=fr(n)?n:n.split(" "),a(p,t,!0),a(p,n,!1),l&&(c.promise=r(function(t){var n=e.data(u);if(e.removeData(u),n){var r=i(e,n.classes);r&&s.$$setClassImmediately(e,r[0],r[1],n.options)}t()}),e.data(u,c)),c.promise},$$setClassImmediately:function(e,t,n,r){return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),u(e,r),s()},enabled:h,cancel:h}}]}],Qr=r("$compile");Qe.$inject=["$provide","$$sanitizeUriProvider"];var Kr=/^((?:x|data)[\:\-_])/i,Xr=r("$controller"),ei="application/json",ti={"Content-Type":ei+";charset=utf-8"},ni=/^\[|^\{(?!\{)/,ri={"[":/]$/,"{":/}$/},ii=/^\)\]\}',?\n/,oi=r("$interpolate"),ai=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,si={http:80,https:443,ftp:21},ui=r("$location"),li={$$html5:!1,$$replace:!1,absUrl:At("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=ai.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:At("$$protocol"),host:At("$$host"),port:At("$$port"),path:Pt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(b(e)||w(e))e=e.toString(),this.$$search=G(e);else{if(!$(e))throw ui("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=j(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Pt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([St,_t,Ct],function(e){e.prototype=Object.create(li),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Ct||!this.$$html5)throw ui("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var ci=r("$parse"),pi=Function.prototype.call,di=Function.prototype.apply,fi=Function.prototype.bind,hi=le();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,hi[t]=e}),hi["this"]=function(e){return e},hi["this"].sharedGetter=!0;var mi=p(le(),{"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),y(r)?y(i)?r+i:r:y(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(y(n)?n:0)-(y(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),gi={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},vi=function(e){this.options=e};vi.prototype={constructor:vi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=mi[t],o=mi[n],a=mi[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw ci("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Zn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=gi[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var yi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};yi.ZERO=p(function(){return 0},{sharedGetter:!0,constant:!0}),yi.prototype={constructor:yi,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in hi?e=hi[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw ci("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw ci("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},consume:function(e){if(0===this.tokens.length)throw ci("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var n=mi[e];return p(function(e,r){return n(e,r,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,r){var i=mi[t];return p(function(t,r){return i(t,r,e,n)},{constant:e.constant&&n.constant,inputs:!r&&[e,n]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return qt(e,this.options,this.text)},constant:function(){var e=this.consume().value;return p(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0,o=e.length;o>i;i++)r=e[i](t,n);return r}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},filter:function(e){var t,r,i=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],r=[];this.expect(":");)t.push(this.expression());var o=[e].concat(t||[]);return p(function(o,a){var s=e(o,a);if(r){r[0]=s;for(var u=t.length;u--;)r[u+1]=t[u](o,a);return i.apply(n,r)}return i(s)},{constant:!i.$stateful&&o.every(jt),inputs:!i.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),p(function(t,r){return n.assign(t,e(t,r),r)},{inputs:[n,e]})):n},ternary:function(){var e,t,n=this.logicalOR();if((t=this.expect("?"))&&(e=this.assignment(),this.consume(":"))){var r=this.assignment();return p(function(t,i){return n(t,i)?e(t,i):r(t,i)},{constant:n.constant&&e.constant&&r.constant})}return n},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(yi.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return p(function(r,i,o){var a=o||e(r,i);return null==a?n:t(a)},{assign:function(n,r,i){var o=e(n,i);return o||e.assign(n,o={},i),t.assign(o,r)}})},objectIndex:function(e){var t=this.text,r=this.expression();return this.consume("]"),p(function(i,o){var a,s=e(i,o),u=Ft(r(i,o),t);return Mt(u,t),s?a=It(s[u],t):n},{assign:function(n,i,o){var a=Mt(Ft(r(n,o),t),t),s=It(e(n,o),t);return s||e.assign(n,s={},o),s[a]=i}})},functionCall:function(e,t){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,o=r.length?[]:null;return function(a,s){var u=t?t(a,s):y(t)?n:a,l=e(a,s,u)||h;if(o)for(var c=r.length;c--;)o[c]=It(r[c](a,s),i);It(u,i),Dt(l,i);var p=l.apply?l.apply(u,o):l(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),It(p,i)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),p(function(t,n){for(var r=[],i=0,o=e.length;o>i;i++)r.push(e[i](t,n));return r},{literal:!0,constant:e.every(jt),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?e.push(n.value):n.identifier?e.push(n.text):this.throwError("invalid key",n),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),p(function(n,r){for(var i={},o=0,a=t.length;a>o;o++)i[e[o]]=t[o](n,r);return i},{literal:!0,constant:t.every(jt),inputs:t})}};var $i=le(),bi=le(),wi=Object.prototype.valueOf,xi=r("$sce"),ki={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Qr=r("$compile"),Ei=t.createElement("a"),Ci=on(e.location.href);un.$inject=["$provide"],dn.$inject=["$locale"],fn.$inject=["$locale"];var _i=".",Si={yyyy:gn("FullYear",4),yy:gn("FullYear",2,0,!0),y:gn("FullYear",1),MMMM:vn("Month"),MMM:vn("Month",!0),MM:gn("Month",2,1),M:gn("Month",1,1),dd:gn("Date",2),d:gn("Date",1),HH:gn("Hours",2),H:gn("Hours",1),hh:gn("Hours",2,-12),h:gn("Hours",1,-12),mm:gn("Minutes",2),m:gn("Minutes",1),ss:gn("Seconds",2),s:gn("Seconds",1),sss:gn("Milliseconds",3),EEEE:vn("Day"),EEE:vn("Day",!0),a:xn,Z:yn,ww:wn(2),w:wn(1),G:kn,GG:kn,GGG:kn,GGGG:En},Ai=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Pi=/^\-?\d+$/;Cn.$inject=["$locale"];var Oi=g(Zn),Ti=g(Kn);An.$inject=["$parse"];var Mi=g({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ur.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Fi={};o(qr,function(e,t){if("multiple"!=e){var n=Ke("ng-"+t);Fi[n]=function(){return{restrict:"A",priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),o(Vr,function(e,t){Fi[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Yn);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Ke("ng-"+e);Fi[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===ur.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(tr&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var Ii={$addControl:h,$$renameControl:On,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h},Di="ng-submitted";Tn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ji=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:Tn,compile:function(r,i){r.addClass(vo).addClass(mo);var o=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,r,i,a){if(!("action"in i)){var s=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};Pr(r[0],"submit",s),r.on("$destroy",function(){t(function(){Or(r[0],"submit",s)},0,!1)})}var u=a.$$parentForm;o&&(Ut(e,null,a.$name,a,a.$name),i.$observe(o,function(t){a.$name!==t&&(Ut(e,null,a.$name,n,a.$name),u.$$renameControl(a,t),Ut(e,null,a.$name,a,a.$name))})),r.on("$destroy",function(){u.$removeControl(a),o&&Ut(e,null,i[o],n,a.$name),p(a,Ii)})}}}};return r}]},Ui=ji(),Ri=ji(!0),Ni=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Li=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,qi=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Bi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Vi=/^(\d{4})-(\d{2})-(\d{2})$/,zi=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Hi=/^(\d{4})-W(\d\d)$/,Wi=/^(\d{4})-(\d\d)$/,Gi=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yi={text:Fn,date:Un("date",Vi,jn(Vi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Un("datetimelocal",zi,jn(zi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Un("time",Gi,jn(Gi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Un("week",Hi,Dn,"yyyy-Www"),month:Un("month",Wi,jn(Wi,["yyyy","MM"]),"yyyy-MM"),number:Nn,url:Ln,email:qn,radio:Bn,checkbox:zn,hidden:h,button:h,submit:h,reset:h,file:h},Ji=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Yi[Zn(a.type)]||Yi.text)(i,o,a,s[0],t,e,n,r)}}}}],Zi=/^(true|false|\d+)$/,Qi=function(){return{restrict:"A",priority:100,compile:function(e,t){return Zi.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ki=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,i){e.$$addBindingInfo(r,i.ngBind),r=r[0],t.$watch(i.ngBind,function(e){r.textContent=e===n?"":e})}}}}],Xi=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,i,o){var a=e(i.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],eo=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],to=g({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),no=Hn("",!0),ro=Hn("Odd",0),io=Hn("Even",1),oo=Pn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),ao=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],so={},uo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Ke("ng-"+e);so[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};uo[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var lo=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,l;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=ue(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],co=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:cr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,l,c){var p,d,f,h=0,m=function(){d&&(d.remove(),d=null),p&&(p.$destroy(),p=null),f&&(n.leave(f).then(function(){d=null}),d=f,f=null)};r.$watch(o,function(o){var u=function(){!y(s)||s&&!r.$eval(s)||t()},d=++h;o?(e(o,!0).then(function(e){if(d===h){var t=r.$new();l.template=e;var s=c(t,function(e){m(),n.enter(e,null,i).then(u)});p=t,f=s,p.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){d===h&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),l.template=null)})}}}}],po=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void e(ye(o.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void e(r.contents())(n))}}}],fo=Pn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ho=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?hr(a):a,l=function(e){if(!v(e)){var t=[];return e&&o(e.split(u),function(e){e&&t.push(s?hr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return fr(e)?e.join(a):n}),i.$isEmpty=function(e){return!e||!e.length}}}},mo="ng-valid",go="ng-invalid",vo="ng-pristine",yo="ng-dirty",$o="ng-untouched",bo="ng-touched",wo="ng-pending",xo=r("ngModel"),ko=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,s,u,l,c,p){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=p(r.name||"",!1)(e);var d,f=a(r.ngModel),m=f.assign,g=f,$=m,b=null,x=this;this.$$setOptions=function(e){if(x.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");g=function(e){var n=f(e);return k(n)&&(n=t(e)),n},$=function(e,t){k(f(e))?n(e,{$$$p:x.$modelValue}):m(e,x.$modelValue)}}else if(!f.assign)throw xo("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,H(i))},this.$render=h,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var E=i.inheritedData("$formController")||Ii,C=0;Wn({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:E,$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(i,yo),s.addClass(i,vo)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(i,vo),s.addClass(i,yo),E.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(i,$o,bo)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(i,bo,$o)},this.$rollbackViewValue=function(){u.cancel(b),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!w(x.$modelValue)||!isNaN(x.$modelValue)){var e=x.$$lastCommittedViewValue,t=x.$$rawModelValue,r=x.$valid,i=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(t,e,function(e){o||r===e||(x.$modelValue=e?t:n,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=x.$$parserName||"parse";return d!==n?(d||(o(x.$validators,function(e,t){u(t,null)}),o(x.$asyncValidators,function(e,t){u(t,null)})),u(e,d),d):(u(e,null),!0)}function a(){var n=!0;return o(x.$validators,function(r,i){var o=r(e,t);n=n&&o,u(i,o)}),n?!0:(o(x.$asyncValidators,function(e,t){u(t,null)}),!1)}function s(){var r=[],i=!0;o(x.$asyncValidators,function(o,a){var s=o(e,t);if(!T(s))throw xo("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);u(a,n),r.push(s.then(function(){u(a,!0)},function(e){i=!1,u(a,!1)}))}),r.length?c.all(r).then(function(){l(i)},h):l(!0)}function u(e,t){p===C&&x.$setValidity(e,t)}function l(e){p===C&&r(e)}C++;var p=C;return i()&&a()?void s():void l(!1)},this.$commitViewValue=function(){var e=x.$viewValue;u.cancel(b),(x.$$lastCommittedViewValue!==e||""===e&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=e,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){x.$modelValue!==a&&x.$$writeModelToScope()}var r=x.$$lastCommittedViewValue,i=r;if(d=v(i)?n:!0)for(var o=0;o<x.$parsers.length;o++)if(i=x.$parsers[o](i),v(i)){d=!1;break}w(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=g(e));var a=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=i,s&&(x.$modelValue=i,t()),x.$$runValidators(i,x.$$lastCommittedViewValue,function(e){s||(x.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){$(e,x.$modelValue),o(x.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){x.$viewValue=e,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=x.$options;i&&y(i.debounce)&&(n=i.debounce,w(n)?r=n:w(n[t])?r=n[t]:w(n["default"])&&(r=n["default"])),u.cancel(b),r?b=u(function(){x.$commitViewValue()},r):l.$$phase?x.$commitViewValue():e.$apply(function(){x.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==x.$modelValue&&(x.$modelValue===x.$modelValue||t===t)){x.$modelValue=x.$$rawModelValue=t,d=n;for(var r=x.$formatters,i=r.length,o=t;i--;)o=r[i](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(t,o,h))}return t})}],Eo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ko,priority:1,compile:function(t){return t.addClass(vo).addClass($o).addClass(mo),{pre:function(e,t,n,r){var i=r[0],o=r[1]||Ii;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&o.$$renameControl(i,e)}),e.$on("$destroy",function(){o.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Co=/(\s+|^)default(\s+|$)/,_o=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=hr(this.$options.updateOn.replace(Co,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},So=Pn({terminal:!0,priority:1e3}),Ao=["$locale","$interpolate",function(e,t){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,a,s){function u(e){a.text(e||"")}var l,c=s.count,p=s.$attr.when&&a.attr(s.$attr.when),d=s.offset||0,f=i.$eval(p)||{},h={},m=t.startSymbol(),g=t.endSymbol(),v=m+c+"-"+d+g,y=cr.noop;o(s,function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+Zn(n[2]);f[i]=a.attr(s.$attr[t])}}),o(f,function(e,r){h[r]=t(e.replace(n,v))}),i.$watch(c,function(t){var n=parseFloat(t),r=isNaN(n);r||n in f||(n=e.pluralCat(n-d)),n===l||r&&isNaN(l)||(y(),y=i.$watch(h[n],u),l=n)})}}}],Po=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",u=r("ngRepeat"),l=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},p=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,d){var f=d.ngRepeat,h=t.createComment(" end ngRepeat: "+f+" "),m=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=m[1],v=m[2],y=m[3],$=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var b=m[3]||m[1],w=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var x,k,E,C,_={$id:Le};return $?x=e($):(E=function(e,t){return Le(t)},C=function(e){return e}),function(e,t,r,d,m){x&&(k=function(t,n,r){return w&&(_[w]=t),_[b]=n,_.$index=r,x(e,_)});var g=le();e.$watchCollection(v,function(r){var d,v,$,x,_,S,A,P,O,T,M,F,I=t[0],D=le();if(y&&(e[y]=r),i(r))O=r,P=k||E;else{P=k||C,O=[];for(var j in r)r.hasOwnProperty(j)&&"$"!=j.charAt(0)&&O.push(j);O.sort()}for(x=O.length,M=new Array(x),d=0;x>d;d++)if(_=r===O?d:O[d],S=r[_],A=P(_,S,d),g[A])T=g[A],delete g[A],D[A]=T,M[d]=T;else{if(D[A])throw o(M,function(e){e&&e.scope&&(g[e.id]=e)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,A,S);M[d]={id:A,scope:n,clone:n},D[A]=!0}for(var U in g){if(T=g[U],F=ue(T.clone),a.leave(F),F[0].parentNode)for(d=0,v=F.length;v>d;d++)F[d][s]=!0;T.scope.$destroy()}for(d=0;x>d;d++)if(_=r===O?d:O[d],S=r[_],T=M[d],T.scope){$=I;do $=$.nextSibling;while($&&$[s]);c(T)!=$&&a.move(ue(T.clone),null,nr(I)),I=p(T),l(T.scope,d,b,S,w,_,x)}else m(function(e,t){T.scope=t;var n=h.cloneNode(!1);e[e.length++]=n,a.enter(e,null,nr(I)),I=n,T.clone=e,D[T.id]=T,l(T.scope,d,b,S,w,_,x)});g=D})}}}}],Oo="ng-hide",To="ng-hide-animate",Mo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Oo,{tempClasses:To})})}}}],Fo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Oo,{tempClasses:To})})}}}],Io=Pn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Do=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],l=[],c=[],p=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)e.cancel(c[r]);for(c.length=0,r=0,i=p.length;i>r;++r){var s=ue(l[r].clone);p[r].$destroy();var f=c[r]=e.leave(s);f.then(d(c,r))}l.length=0,p.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){p.push(i);var o=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};l.push(a),e.enter(r,o.parent(),o)})})})}}}],jo=Pn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Uo=Pn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ro=Pn({restrict:"EAC",link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",H(t));o(function(e){t.empty(),t.append(e)})}}),No=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Lo=r("ngOptions"),qo=g({restrict:"A",terminal:!0}),Bo=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i,o=this,a={},u=s;o.databound=n.ngModel,o.init=function(e,t,n){u=e,r=t,i=n},o.addOption=function(t,n){ae(t,'"option value"'),a[t]=!0,u.$viewValue==t&&(e.val(t),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(e){this.hasOption(e)&&(delete a[e],u.$viewValue===e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+Le(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},o.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=h})}],link:function(s,u,l,c){function p(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(E.parent()&&E.remove(),t.val(e),""===e&&h.prop("selected",!0)):null==e&&h?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){E.parent()&&E.remove(),n.$setViewValue(t.val())})})}function d(e,t,n){var r;n.$render=function(){var e=new qe(n.$viewValue);o(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){R(r,n.$viewValue)||(r=U(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){
t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function f(t,s,u){function l(e,n,r){return R[S]=r,O&&(R[O]=n),e(t,R)}function c(){t.$apply(function(){var e,n=F(t)||[];if(v)e=[],o(s.val(),function(t){t=D?j[t]:t,e.push(p(t,n[t]))});else{var r=D?j[s.val()]:s.val();e=p(r,n[r])}u.$setViewValue(e),E()})}function p(e,t){if("?"===e)return n;if(""===e)return null;var r=P?P:M;return l(r,e,t)}function d(){var e,n=F(t);if(n&&fr(n)){e=new Array(n.length);for(var r=0,i=n.length;i>r;r++)e[r]=l(_,r,n[r]);return e}if(n){e={};for(var o in n)n.hasOwnProperty(o)&&(e[o]=l(_,o,n[o]))}return e}function f(e){var t;if(v)if(D&&fr(e)){t=new qe([]);for(var n=0;n<e.length;n++)t.put(l(D,null,e[n]),!0)}else t=new qe(e);else D&&(e=l(D,null,e));return function(n,r){var i;return i=D?D:P?P:M,v?y(t.remove(l(i,n,r))):e===l(i,n,r)}}function h(){w||(t.$$postDigest(E),w=!0)}function g(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function E(){w=!1;var e,n,r,i,c,p,d,h,$,E,C,S,A,P,M,I,N,L={"":[]},q=[""],B=u.$viewValue,V=F(t)||[],z=O?a(V):V,H={},W=f(B),G=!1;for(j={},S=0;E=z.length,E>S;S++)d=S,O&&(d=z[S],"$"===d.charAt(0))||(h=V[d],e=l(T,d,h)||"",(n=L[e])||(n=L[e]=[],q.push(e)),A=W(d,h),G=G||A,I=l(_,d,h),I=y(I)?I:"",N=D?D(t,R):O?z[S]:S,D&&(j[N]=d),n.push({id:N,label:I,selected:A}));for(v||(b||null===B?L[""].unshift({id:"",label:"",selected:!G}):G||L[""].unshift({id:"?",label:"",selected:!0})),C=0,$=q.length;$>C;C++){for(e=q[C],n=L[e],U.length<=C?(i={element:k.clone().attr("label",e),label:n.label},c=[i],U.push(c),s.append(i.element)):(c=U[C],i=c[0],i.label!=e&&i.element.attr("label",i.label=e)),P=null,S=0,E=n.length;E>S;S++)r=n[S],(p=c[S+1])?(P=p.element,p.label!==r.label&&(g(H,p.label,!1),g(H,r.label,!0),P.text(p.label=r.label),P.prop("label",p.label)),p.id!==r.id&&P.val(p.id=r.id),P[0].selected!==r.selected&&(P.prop("selected",p.selected=r.selected),tr&&P.prop("selected",p.selected))):(""===r.id&&b?M=b:(M=x.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),c.push(p={element:M,label:r.label,id:r.id,selected:r.selected}),g(H,r.label,!0),P?P.after(M):i.element.append(M),P=M);for(S++;c.length>S;)r=c.pop(),g(H,r.label,!1),r.element.remove()}for(;U.length>C;){for(n=U.pop(),S=1;S<n.length;++S)g(H,n[S].label,!1);n[0].element.remove()}o(H,function(e,t){e>0?m.addOption(t):0>e&&m.removeOption(t)})}var C;if(!(C=$.match(i)))throw Lo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",$,H(s));var _=r(C[2]||C[1]),S=C[4]||C[6],A=/ as /.test(C[0])&&C[1],P=A?r(A):null,O=C[5],T=r(C[3]||""),M=r(C[2]?C[1]:S),F=r(C[7]),I=C[8],D=I?r(C[8]):null,j={},U=[[{element:s,label:""}]],R={};b&&(e(b)(t),b.removeClass("ng-scope"),b.remove()),s.empty(),s.on("change",c),u.$render=E,t.$watchCollection(F,h),t.$watchCollection(d,h),v&&t.$watchCollection(function(){return u.$modelValue},h)}if(c[1]){for(var h,m=c[0],g=c[1],v=l.multiple,$=l.ngOptions,b=!1,w=!1,x=nr(t.createElement("option")),k=nr(t.createElement("optgroup")),E=x.clone(),C=0,_=u.children(),S=_.length;S>C;C++)if(""===_[C].value){h=b=_.eq(C);break}m.init(g,b,E),v&&(g.$isEmpty=function(e){return!e||0===e.length}),$?f(s,u,g):v?d(s,u,g):p(s,u,g,m)}}}}],Vo=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,r){if(v(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound||(s=t),i?e.$watch(i,function(e,t){r.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],zo=g({restrict:"E",terminal:!1}),Ho=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Wo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(b(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,H(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||v(a)||a.test(t)}}}}},Go=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=d(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Yo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=d(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(re(),fe(cr),void nr(t).ready(function(){K(t,X)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>')},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.models",[n(4),n(19),n(21),n(20),n(22),n(23),n(34),n(35),n(36),n(37),n(33),n(24)]),e.exports=r.name},function(e,t,n){var r,i=n(1);n(5),r=i.module("opendesk.common.marketplace.api",[n(7),n(8),n(10),n(11),"restangular"]),r.service("MarketplaceApi",["$q","$window","Restangular","userService","_","MarketplaceUtils",function(e,t,n,r,o,a){var s,u,l,c,p,d,f;return c={},s=76,l=function(e){return n.one("marketplace/jobs",e.id)},d=function(e){return n.one("quotes",e.id)},f=function(e){var t;return t=o.extend({},e),delete t.tax_percentage,t},p=null,u={session:function(){return n.one("bootstrap").get().then(function(e){return e.original})},bootstrap:function(){return this.session()},auth:{resetValidate:function(e,t){var r;return r=n.one("auth/reset",e),r.customGET(t)},resetPassword:function(e,t,r){var i;return i=n.one("auth/reset",e),i.post(t,r)},verifyValidate:function(e,t){var r;return r=n.one("auth/verify",e),r.customGET(t)},verifyEmail:function(e,t,r){var i;return i=n.one("auth/verify",e),i.post(t,r)}},costs:function(e,t){var r,i,o,a,s,u;for(a=n.all("marketplace/costs"),i={},null!=t&&(i[t]={resource:t}),s=0,u=e.length;u>s;s++)r=e[s],i[r.id]={resource:r.product,choices:r.choice_doc};return o={costs:i},a.post({data:o})},makerJobs:function(e,t){var i,o,u;return i=n.all("quotes"),o={include_events:t},r.hasRole("admin")||(o.maker_id=s),u=i.get("",o).then(function(e){return p=e.queried_at,a.recursiveParseTimestamps(e)})},jobs:function(e,t){var r,i,o;return i={include_events:t,include_quotes:!0,customer_id:e.id},r=n.all("marketplace/jobs"),o=r.get("",i).then(function(e){return e})},saveQuote:function(e,t){return d(e).post("actions/save",{estimate:f(t)})},sendQuote:function(e,t,n){return d(e).post("actions/send",{estimate:f(t),message:n})},sendMessage:function(e,t){return d(e).post("actions/message",{message:t})},declineJob:function(e,t){return d(e).post("actions/decline",t)},withdrawQuote:function(e,t){return d(e).post("actions/withdraw",t)},sendStatusUpdate:function(e,t){return d(e).post("actions/update-status",t)},acceptQuote:function(e,t,n){return d(t).post("actions/accept",{stripeToken:n})},confirmJob:function(e){return d(e).post("actions/confirm")},markRead:function(e){return d(e).post("events",{read_at:p})},downloadFile:function(e,t){return l(e).one("files",t.id).get()},operator:{createJob:function(){return n.all("marketplace/jobs").post({data:{}})},listFilesets:function(e,t){var r,i;return null==t&&(t=null),r={choices:e.configuration},i=n.one("marketplace/products",e.product.id),t&&(i=i.withHttpConfig({timeout:t})),i.post("filesets",{data:r})},createBasketItem:function(e,t,r){var i,o,a;return i={choices:t.configuration,fileset_version_id:r,product:t.product.path()},o=n.one("marketplace/jobs",e.id).all("basket-items"),a=o.post({data:i})},basketItemFilesets:function(e){var t;return t=n.one("marketplace/basket-items",e.id),t.customGET("filesets")}},loadUse:function(e,t,r){var i;return i=n.one("designs/"+e+"/uses/"+t,r?"":"public"),i.get().then(function(e){return e.uses[0]})},createUse:function(e){return n.all("uses").post(e)},loadJob:function(e){return n.one("marketplace/jobs",e).get()},lookupDesignByPath:function(e){return n.one("designs/"+e).get().then(function(e){return e.designs[0]})},allProducts:function(e){return n.all("marketplace/products").get("",{scopes:e})},productsForDesign:function(e,t){var r;return null==t&&(t="customer"),r=n.one("marketplace/designs",e),r.customGET("products",{scopes:t})},createBasketItem:function(e,t,r){var i,o,a;return i={product:t.path()},null!=r&&(i.choices={quantity:r}),o=n.one("marketplace/jobs",e.id).all("basket-items"),a=o.post({data:i})},basketItem:function(e){return n.one("marketplace/basket-items",e).get()},addProductToBasket:function(e,t,r,i){var o;return o={product:e},t&&(o.choices=t),r&&(o.configuration_image=r),i&&(o.should_avoid_channel_prices=i),n.all("marketplace/jobs/current/basket-items").post({data:o})},loadProductOptions:function(e,t,r){var i,o;return i={version:t,scope:r},o=n.one("marketplace/products",e).customGET("options",i)},sessionJob:function(){return n.one("marketplace/jobs/current").get({_:(new Date).valueOf()})},jobBasket:function(e){return n.one("marketplace/jobs",e.id).customGET("basket-items")},ensureBasketItem:function(e){},updateBasketItem:function(e,t,r,o,a,s){var u,l,c;return c={choices:t,fileset_version_id:r,operator_choices:o,maker_choices:a},u={},l={},i.forEach(c,function(e,t){return null!=e?u[t]=e:void 0}),s.dry_run&&(l.dry_run=!0,delete s.dry_run),i.extend(u,s),n.one("marketplace/basket-items",e.id).customPUT({data:u},void 0,l)},removeBasketItem:function(e){return n.one("marketplace/basket-items",e.id).remove()},updateJob:function(e,t){return n.one("marketplace/jobs",e.id).customPUT({data:t})},makerSearch:function(e,t){return null==t&&(t=3),n.one("marketplace/jobs",e.id).customGET("find-makers",{sort:"nearest",limit:t})},publishJob:function(e,t){var r;return r=n.one("marketplace/jobs",e.id).all("publish"),r.post({user_email:t})},express:{publishJob:function(e){return n.one("marketplace/jobs",e.id).all("publish").post()},acceptQuote:function(e){return n.one("marketplace/quotes",e.id).all("accept").post()},payBill:function(e,t){return n.one("marketplace/bills",e.id).all("pay").post({data:t})},requestInvoice:function(e,t){return n.one("marketplace/bills",e.id).all("request-offline-payment").post({data:t})},pendingPayment:function(){return n.one("marketplace/outstanding-jobs").get({_:(new Date).valueOf()})}},specifyJob:function(e){var t;return t=n.one("marketplace/jobs",e.id).all("specify"),t.post()},downloadJob:function(r){var i,o,a,s;return a=0,o=30,i=e.defer(),s=function(){var e,u;return e=n.one("marketplace/jobs/"+r.id+"/manufacturing-download"),u=e.get(),u.then(function(e){return e.data?i.resolve(e.data):o>a?(a+=1,t.setTimeout(s,2e3)):void 0})},s(),i.promise},design:{stats:function(e){var t;return t=["designs",e,"stats.json"].join("/"),n.one(t).get()}},join:function(e){return n.all("joins").post(e)}}}]),e.exports=r.name},function(e,t,n){var r=n(1),i=n(6);/**
	 * Restful Resources service for AngularJS apps
	 * @version v1.4.0 - 2015-04-03 * @link https://github.com/mgonto/restangular
	 * @author Martin Gontovnikas <martin@gon.to>
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */
!function(){var e=r.module("restangular",[]);e.provider("Restangular",function(){var e={};e.init=function(e,t){function n(e,t,n,r){var o={};return i.each(i.keys(r),function(a){var s=r[a];s.params=i.extend({},s.params,e.defaultRequestParams[s.method.toLowerCase()]),i.isEmpty(s.params)&&delete s.params,o[a]=e.isSafe(s.method)?function(){return t(i.extend(s,{url:n}))}:function(e){return t(i.extend(s,{url:n,data:e}))}}),o}e.configuration=t;var o=["get","head","options","trace","getlist"];t.isSafe=function(e){return i.contains(o,e.toLowerCase())};var a=/^https?:\/\//i;t.isAbsoluteUrl=function(e){return i.isUndefined(t.absoluteUrl)||i.isNull(t.absoluteUrl)?e&&a.test(e):t.absoluteUrl},t.absoluteUrl=i.isUndefined(t.absoluteUrl)?!0:t.absoluteUrl,e.setSelfLinkAbsoluteUrl=function(e){t.absoluteUrl=e},t.baseUrl=i.isUndefined(t.baseUrl)?"":t.baseUrl,e.setBaseUrl=function(e){return t.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},t.extraFields=t.extraFields||[],e.setExtraFields=function(e){return t.extraFields=e,this},t.defaultHttpFields=t.defaultHttpFields||{},e.setDefaultHttpFields=function(e){return t.defaultHttpFields=e,this},t.withHttpValues=function(e,n){return i.defaults(n,e,t.defaultHttpFields)},t.encodeIds=i.isUndefined(t.encodeIds)?!0:t.encodeIds,e.setEncodeIds=function(e){t.encodeIds=e},t.defaultRequestParams=t.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},e.setDefaultRequestParams=function(e,n){var r=[],o=n||e;return i.isUndefined(n)?r.push("common"):i.isArray(e)?r=e:r.push(e),i.each(r,function(e){t.defaultRequestParams[e]=o}),this},e.requestParams=t.defaultRequestParams,t.defaultHeaders=t.defaultHeaders||{},e.setDefaultHeaders=function(n){return t.defaultHeaders=n,e.defaultHeaders=t.defaultHeaders,this},e.defaultHeaders=t.defaultHeaders,t.methodOverriders=t.methodOverriders||[],e.setMethodOverriders=function(e){var n=i.extend([],e);return t.isOverridenMethod("delete",n)&&n.push("remove"),t.methodOverriders=n,this},t.jsonp=i.isUndefined(t.jsonp)?!1:t.jsonp,e.setJsonp=function(e){t.jsonp=e},t.isOverridenMethod=function(e,n){var r=n||t.methodOverriders;return!i.isUndefined(i.find(r,function(t){return t.toLowerCase()===e.toLowerCase()}))},t.urlCreator=t.urlCreator||"path",e.setUrlCreator=function(e){if(!i.has(t.urlCreatorFactory,e))throw new Error("URL Path selected isn't valid");return t.urlCreator=e,this},t.restangularFields=t.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},e.setRestangularFields=function(e){return t.restangularFields=i.extend(t.restangularFields,e),this},t.isRestangularized=function(e){return!!e[t.restangularFields.restangularized]},t.setFieldToElem=function(e,t,n){var r=e.split("."),o=t;return i.each(i.initial(r),function(e){o[e]={},o=o[e]}),o[i.last(r)]=n,this},t.getFieldFromElem=function(e,t){var n=e.split("."),o=t;return i.each(n,function(e){o&&(o=o[e])}),r.copy(o)},t.setIdToElem=function(e,n){return t.setFieldToElem(t.restangularFields.id,e,n),this},t.getIdFromElem=function(e){return t.getFieldFromElem(t.restangularFields.id,e)},t.isValidId=function(e){return""!==e&&!i.isUndefined(e)&&!i.isNull(e)},t.setUrlToElem=function(e,n){return t.setFieldToElem(t.restangularFields.selfLink,e,n),this},t.getUrlFromElem=function(e){return t.getFieldFromElem(t.restangularFields.selfLink,e)},t.useCannonicalId=i.isUndefined(t.useCannonicalId)?!1:t.useCannonicalId,e.setUseCannonicalId=function(e){return t.useCannonicalId=e,this},t.getCannonicalIdFromElem=function(e){var n=e[t.restangularFields.cannonicalId],r=t.isValidId(n)?n:t.getIdFromElem(e);return r},t.responseInterceptors=t.responseInterceptors||[],t.defaultResponseInterceptor=function(e){return e},t.responseExtractor=function(e,n,o,a,s,u){var l=r.copy(t.responseInterceptors);l.push(t.defaultResponseInterceptor);var c=e;return i.each(l,function(e){c=e(c,n,o,a,s,u)}),c},e.addResponseInterceptor=function(e){return t.responseInterceptors.push(e),this},t.errorInterceptors=t.errorInterceptors||[],e.addErrorInterceptor=function(e){return t.errorInterceptors.push(e),this},e.setResponseInterceptor=e.addResponseInterceptor,e.setResponseExtractor=e.addResponseInterceptor,e.setErrorInterceptor=e.addErrorInterceptor,t.requestInterceptors=t.requestInterceptors||[],t.defaultInterceptor=function(e,t,n,r,i,o,a){return{element:e,headers:i,params:o,httpConfig:a}},t.fullRequestInterceptor=function(e,n,o,a,s,u,l){var c=r.copy(t.requestInterceptors),p=t.defaultInterceptor(e,n,o,a,s,u,l);return i.reduce(c,function(e,t){return i.extend(e,t(e.element,n,o,a,e.headers,e.params,e.httpConfig))},p)},e.addRequestInterceptor=function(e){return t.requestInterceptors.push(function(t,n,r,i,o,a,s){return{headers:o,params:a,element:e(t,n,r,i),httpConfig:s}}),this},e.setRequestInterceptor=e.addRequestInterceptor,e.addFullRequestInterceptor=function(e){return t.requestInterceptors.push(e),this},e.setFullRequestInterceptor=e.addFullRequestInterceptor,t.onBeforeElemRestangularized=t.onBeforeElemRestangularized||function(e){return e},e.setOnBeforeElemRestangularized=function(e){return t.onBeforeElemRestangularized=e,this},e.setRestangularizePromiseInterceptor=function(e){return t.restangularizePromiseInterceptor=e,this},t.onElemRestangularized=t.onElemRestangularized||function(e){return e},e.setOnElemRestangularized=function(e){return t.onElemRestangularized=e,this},t.shouldSaveParent=t.shouldSaveParent||function(){return!0},e.setParentless=function(e){return i.isArray(e)?t.shouldSaveParent=function(t){return!i.contains(e,t)}:i.isBoolean(e)&&(t.shouldSaveParent=function(){return!e}),this},t.suffix=i.isUndefined(t.suffix)?null:t.suffix,e.setRequestSuffix=function(e){return t.suffix=e,this},t.transformers=t.transformers||{},e.addElementTransformer=function(n,r,o){var a=null,s=null;2===arguments.length?s=r:(s=o,a=r);var u=t.transformers[n];return u||(u=t.transformers[n]=[]),u.push(function(e,t){return i.isNull(a)||e===a?s(t):t}),e},e.extendCollection=function(t,n){return e.addElementTransformer(t,!0,n)},e.extendModel=function(t,n){return e.addElementTransformer(t,!1,n)},t.transformElem=function(e,n,r,o,a){if(!a&&!t.transformLocalElements&&!e[t.restangularFields.fromServer])return e;var s=t.transformers[r],u=e;return s&&i.each(s,function(e){u=e(n,u)}),t.onElemRestangularized(u,n,r,o)},t.transformLocalElements=i.isUndefined(t.transformLocalElements)?!1:t.transformLocalElements,e.setTransformOnlyServerElements=function(e){t.transformLocalElements=!e},t.fullResponse=i.isUndefined(t.fullResponse)?!1:t.fullResponse,e.setFullResponse=function(e){return t.fullResponse=e,this},t.urlCreatorFactory={};var s=function(){};s.prototype.setConfig=function(e){return this.config=e,this},s.prototype.parentsArray=function(e){for(var t=[];e;)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},s.prototype.resource=function(e,r,o,a,s,u,l,c){var p=i.defaults(s||{},this.config.defaultRequestParams.common),d=i.defaults(a||{},this.config.defaultHeaders);l&&(t.isSafe(c)?d["If-None-Match"]=l:d["If-Match"]=l);var f=this.base(e);if(u){var h="";/\/$/.test(f)||(h+="/"),h+=u,f+=h}return this.config.suffix&&-1===f.indexOf(this.config.suffix,f.length-this.config.suffix.length)&&!this.config.getUrlFromElem(e)&&(f+=this.config.suffix),e[this.config.restangularFields.httpConfig]=void 0,n(this.config,r,f,{getList:this.config.withHttpValues(o,{method:"GET",params:p,headers:d}),get:this.config.withHttpValues(o,{method:"GET",params:p,headers:d}),jsonp:this.config.withHttpValues(o,{method:"jsonp",params:p,headers:d}),put:this.config.withHttpValues(o,{method:"PUT",params:p,headers:d}),post:this.config.withHttpValues(o,{method:"POST",params:p,headers:d}),remove:this.config.withHttpValues(o,{method:"DELETE",params:p,headers:d}),head:this.config.withHttpValues(o,{method:"HEAD",params:p,headers:d}),trace:this.config.withHttpValues(o,{method:"TRACE",params:p,headers:d}),options:this.config.withHttpValues(o,{method:"OPTIONS",params:p,headers:d}),patch:this.config.withHttpValues(o,{method:"PATCH",params:p,headers:d})})};var u=function(){};u.prototype=new s,u.prototype.normalizeUrl=function(e){var t=/(http[s]?:\/\/)?(.*)?/.exec(e);return t[2]=t[2].replace(/[\\\/]+/g,"/"),"undefined"!=typeof t[1]?t[1]+t[2]:t[2]},u.prototype.base=function(e){var n=this;return i.reduce(this.parentsArray(e),function(e,r){var i,o=n.config.getUrlFromElem(r);if(o){if(n.config.isAbsoluteUrl(o))return o;i=o}else if(i=r[n.config.restangularFields.route],r[n.config.restangularFields.restangularCollection]){var a=r[n.config.restangularFields.ids];a&&(i+="/"+a.join(","))}else{var s;s=n.config.useCannonicalId?n.config.getCannonicalIdFromElem(r):n.config.getIdFromElem(r),t.isValidId(s)&&!r.singleOne&&(i+="/"+(n.config.encodeIds?encodeURIComponent(s):s))}return e=e.replace(/\/$/,"")+"/"+i,n.normalizeUrl(e)},this.config.baseUrl)},u.prototype.fetchUrl=function(e,t){var n=this.base(e);return t&&(n+="/"+t),n},u.prototype.fetchRequestedUrl=function(e,n){function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function o(e,t,n){for(var r=i(e),o=0;o<r.length;o++)t.call(n,e[r[o]],r[o]);return r}function a(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var s=this.fetchUrl(e,n),u=e[t.restangularFields.reqParams];if(!u)return s+(this.config.suffix||"");var l=[];return o(u,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)||(e=[e]),r.forEach(e,function(e){r.isObject(e)&&(e=r.toJson(e)),l.push(a(t)+"="+a(e))}))}),s+(this.config.suffix||"")+(-1===s.indexOf("?")?"?":"&")+l.join("&")},t.urlCreatorFactory.path=u};var t={};e.init(this,t),this.$get=["$http","$q",function(n,o){function a(t){function s(e,n,r,o,a){if(n[t.restangularFields.route]=r,n[t.restangularFields.getRestangularUrl]=i.bind(V.fetchUrl,V,n),n[t.restangularFields.getRequestedUrl]=i.bind(V.fetchRequestedUrl,V,n),n[t.restangularFields.addRestangularMethod]=i.bind(N,n),n[t.restangularFields.clone]=i.bind($,n,n),n[t.restangularFields.reqParams]=i.isEmpty(o)?null:o,n[t.restangularFields.withHttpConfig]=i.bind(S,n),n[t.restangularFields.plain]=i.bind(v,n,n),n[t.restangularFields.restangularized]=!0,n[t.restangularFields.one]=i.bind(u,n,n),n[t.restangularFields.all]=i.bind(l,n,n),n[t.restangularFields.several]=i.bind(c,n,n),n[t.restangularFields.oneUrl]=i.bind(p,n,n),n[t.restangularFields.allUrl]=i.bind(d,n,n),n[t.restangularFields.fromServer]=!!a,e&&t.shouldSaveParent(r)){var s=t.getIdFromElem(e),f=t.getUrlFromElem(e),h=i.union(i.values(i.pick(t.restangularFields,["route","singleOne","parentResource"])),t.extraFields),m=i.pick(e,h);t.isValidId(s)&&t.setIdToElem(m,s,r),t.isValidId(f)&&t.setUrlToElem(m,f,r),n[t.restangularFields.parentResource]=m}else n[t.restangularFields.parentResource]=null;return n}function u(e,n,r,o){var a;if(i.isNumber(n)||i.isNumber(e))throw a="You're creating a Restangular entity with the number ",a+="instead of the route or the parent. For example, you can't call .one(12).",new Error(a);if(i.isUndefined(n))throw a="You're creating a Restangular entity either without the path. ",a+="For example you can't call .one(). Please check if your arguments are valid.",new Error(a);var s={};return t.setIdToElem(s,r,n),t.setFieldToElem(t.restangularFields.singleOne,s,o),b(e,s,n,!1)}function l(e,t){return w(e,[],t,!1)}function c(e,n){var r=[];return r[t.restangularFields.ids]=Array.prototype.splice.call(arguments,2),w(e,r,n,!1)}function p(e,n,r){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return t.setUrlToElem(i,r,n),b(e,i,n,!1)}function d(e,n,r){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return t.setUrlToElem(i,r,n),w(e,i,n,!1)}function f(e,n,r){return e.call=i.bind(h,e),e.get=i.bind(m,e),e[t.restangularFields.restangularCollection]=n,n&&(e.push=i.bind(h,e,"push")),e.$object=r,t.restangularizePromiseInterceptor&&t.restangularizePromiseInterceptor(e),e}function h(e){var n=o.defer(),r=arguments,i={};return this.then(function(t){var o=Array.prototype.slice.call(r,1),a=t[e];a.apply(t,o),i=t,n.resolve(t)}),f(n.promise,this[t.restangularFields.restangularCollection],i)}function m(e){var n=o.defer(),r={};return this.then(function(t){r=t[e],n.resolve(r)}),f(n.promise,this[t.restangularFields.restangularCollection],r)}function g(e,n,r,o){return i.extend(o,r),t.fullResponse?e.resolve(i.extend(n,{data:r})):void e.resolve(r)}function v(e){if(i.isArray(e)){var n=[];return i.each(e,function(e){n.push(t.isRestangularized(e)?v(e):e)}),n}return i.omit(e,i.values(i.omit(t.restangularFields,"id")))}function y(e){e[t.restangularFields.customOperation]=i.bind(R,e),i.each(["put","post","get","delete"],function(t){i.each(["do","custom"],function(n){var r,o="delete"===t?"remove":t,a=n+t.toUpperCase();r="put"!==o&&"post"!==o?R:function(e,t,n,r,o){return i.bind(R,this)(e,n,r,o,t)},e[a]=i.bind(r,e,o)})}),e[t.restangularFields.customGETLIST]=i.bind(_,e),e[t.restangularFields.doGETLIST]=e[t.restangularFields.customGETLIST]}function $(e,n){var i=r.copy(e,n);return b(i[t.restangularFields.parentResource],i,i[t.restangularFields.route],!0)}function b(e,n,r,o,a,u){var l=t.onBeforeElemRestangularized(n,!1,r),c=s(e,l,r,u,o);return t.useCannonicalId&&(c[t.restangularFields.cannonicalId]=t.getIdFromElem(c)),a&&(c[t.restangularFields.getParentList]=function(){return a}),c[t.restangularFields.restangularCollection]=!1,c[t.restangularFields.get]=i.bind(O,c),c[t.restangularFields.getList]=i.bind(_,c),c[t.restangularFields.put]=i.bind(M,c),c[t.restangularFields.post]=i.bind(F,c),c[t.restangularFields.remove]=i.bind(T,c),c[t.restangularFields.head]=i.bind(I,c),c[t.restangularFields.trace]=i.bind(D,c),c[t.restangularFields.options]=i.bind(j,c),c[t.restangularFields.patch]=i.bind(U,c),c[t.restangularFields.save]=i.bind(A,c),y(c),t.transformElem(c,!1,r,B,!0)}function w(e,n,r,o,a){var u=t.onBeforeElemRestangularized(n,!0,r),l=s(e,u,r,a,o);return l[t.restangularFields.restangularCollection]=!0,l[t.restangularFields.post]=i.bind(F,l,null),l[t.restangularFields.remove]=i.bind(T,l),l[t.restangularFields.head]=i.bind(I,l),l[t.restangularFields.trace]=i.bind(D,l),l[t.restangularFields.putElement]=i.bind(E,l),l[t.restangularFields.options]=i.bind(j,l),l[t.restangularFields.patch]=i.bind(U,l),l[t.restangularFields.get]=i.bind(k,l),l[t.restangularFields.getList]=i.bind(_,l,null),y(l),t.transformElem(l,!0,r,B,!0)}function x(e,t,n){var r=w(e,t,n,!1);return i.each(r,function(t){b(e,t,n,!1)}),r}function k(e,t,n){return this.customGET(e.toString(),t,n)}function E(e,n,r){var i=this,a=this[e],s=o.defer(),u=[];return u=t.transformElem(u,!0,a[t.restangularFields.route],B),a.put(n,r).then(function(t){var n=$(i);n[e]=t,u=n,s.resolve(n)},function(e){s.reject(e)}),f(s.promise,!0,u)}function C(e,n,r,i,o,a){var s=t.responseExtractor(e,n,r,i,o,a),u=o.headers("ETag");return s&&u&&(s[t.restangularFields.etag]=u),s}function _(e,r,a){var s=this,u=o.defer(),l="getList",c=V.fetchUrl(this,e),p=e||s[t.restangularFields.route],d=t.fullRequestInterceptor(null,l,p,c,a||{},r||{},this[t.restangularFields.httpConfig]||{}),h=[];h=t.transformElem(h,!0,p,B);var m="getList";t.jsonp&&(m="jsonp");var v=function(n){var r=n.data,o=n.config.params,a=C(r,l,p,c,n,u);if((i.isUndefined(a)||""===a)&&(a=[]),!i.isArray(a))throw new Error("Response for getList SHOULD be an array and not an object or something else");var d=i.map(a,function(n){return s[t.restangularFields.restangularCollection]?b(s[t.restangularFields.parentResource],n,s[t.restangularFields.route],!0,a):b(s,n,e,!0,a)});d=i.extend(a,d),s[t.restangularFields.restangularCollection]?g(u,n,w(s[t.restangularFields.parentResource],d,s[t.restangularFields.route],!0,o),h):g(u,n,w(s,d,e,!0,o),h)};return V.resource(this,n,d.httpConfig,d.headers,d.params,e,this[t.restangularFields.etag],l)[m]().then(v,function(e){304===e.status&&s[t.restangularFields.restangularCollection]?g(u,e,s,h):i.every(t.errorInterceptors,function(t){return t(e,u,v)!==!1})&&u.reject(e)}),f(u.promise,!0,h)}function S(e){return this[t.restangularFields.httpConfig]=e,this}function A(e,n){return this[t.restangularFields.fromServer]?this[t.restangularFields.put](e,n):i.bind(P,this)("post",void 0,e,void 0,n)}function P(e,r,a,s,u){var l=this,c=o.defer(),p=a||{},d=r||this[t.restangularFields.route],h=V.fetchUrl(this,r),m=s||this,y=m[t.restangularFields.etag]||("post"!==e?this[t.restangularFields.etag]:null);i.isObject(m)&&t.isRestangularized(m)&&(m=v(m));var $=t.fullRequestInterceptor(m,e,d,h,u||{},p||{},this[t.restangularFields.httpConfig]||{}),w={};w=t.transformElem(w,!1,d,B);var x=function(n){var r=n.data,i=n.config.params,o=C(r,e,d,h,n,c);if(o)if("post"!==e||l[t.restangularFields.restangularCollection]){var a=b(l[t.restangularFields.parentResource],o,l[t.restangularFields.route],!0,null,i);a[t.restangularFields.singleOne]=l[t.restangularFields.singleOne],g(c,n,a,w)}else{var a=b(l[t.restangularFields.parentResource],o,d,!0,null,i);g(c,n,a,w)}else g(c,n,void 0,w)},k=function(n){304===n.status&&t.isSafe(e)?g(c,n,l,w):i.every(t.errorInterceptors,function(e){return e(n,c,x)!==!1})&&c.reject(n)},E=e,_=i.extend({},$.headers),S=t.isOverridenMethod(e);return S?(E="post",_=i.extend(_,{"X-HTTP-Method-Override":"remove"===e?"DELETE":e.toUpperCase()})):t.jsonp&&"get"===E&&(E="jsonp"),t.isSafe(e)?S?V.resource(this,n,$.httpConfig,_,$.params,r,y,E)[E]({}).then(x,k):V.resource(this,n,$.httpConfig,_,$.params,r,y,E)[E]().then(x,k):V.resource(this,n,$.httpConfig,_,$.params,r,y,E)[E]($.element).then(x,k),f(c.promise,!1,w)}function O(e,t){return i.bind(P,this)("get",void 0,e,void 0,t)}function T(e,t){return i.bind(P,this)("remove",void 0,e,void 0,t)}function M(e,t){return i.bind(P,this)("put",void 0,e,void 0,t)}function F(e,t,n,r){return i.bind(P,this)("post",e,n,t,r)}function I(e,t){return i.bind(P,this)("head",void 0,e,void 0,t)}function D(e,t){return i.bind(P,this)("trace",void 0,e,void 0,t)}function j(e,t){return i.bind(P,this)("options",void 0,e,void 0,t)}function U(e,t,n){return i.bind(P,this)("patch",void 0,t,e,n)}function R(e,t,n,r,o){return i.bind(P,this)(e,t,n,o,r)}function N(e,n,r,o,a,s){var u;u="getList"===n?i.bind(_,this,r):i.bind(R,this,n,r);var l=function(e,t,n){var r=i.defaults({params:e,headers:t,elem:n},{params:o,headers:a,elem:s});return u(r.params,r.headers,r.elem)};this[e]=t.isSafe(n)?l:function(e,t,n){return l(t,n,e)}}function L(n){var o=r.copy(i.omit(t,"configuration"));return e.init(o,o),n(o),a(o)}function q(e,n){var r=i.values(t.restangularFields),o={},a=(n||B).all(e);o.one=i.bind(u,n||B,n,e),o.post=i.bind(a.post,a),o.getList=i.bind(a.getList,a);for(var s in a)a.hasOwnProperty(s)&&i.isFunction(a[s])&&!i.contains(r,s)&&(o[s]=i.bind(a[s],a));return o}var B={},V=new t.urlCreatorFactory[t.urlCreator];return V.setConfig(t),e.init(B,t),B.copy=i.bind($,B),B.service=i.bind(q,B),B.withConfig=i.bind(L,B),B.one=i.bind(u,B,null),B.all=i.bind(l,B,null),B.several=i.bind(c,B,null),B.oneUrl=i.bind(p,B,null),B.allUrl=i.bind(d,B,null),B.stripRestangular=i.bind(v,B),B.restangularizeElement=i.bind(b,B),B.restangularizeCollection=i.bind(x,B),B}return a(t)}]})}()},function(e,t,n){var r=!1;(function(){function n(e){function t(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=x(r,o,4);var a=!P(n)&&w.keys(n),s=(a||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=e),t(n,r,i,a,u,s)}}function i(e){return function(t,n,r){n=k(n,r);for(var i=A(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function o(e,t,n){return function(r,i,o){var a=0,s=A(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(f.call(r,a,s),w.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function a(e,t){var n=I.length,r=e.constructor,i=w.isFunction(r)&&r.prototype||c,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)o=I[n],o in e&&e[o]!==i[o]&&!w.contains(t,o)&&t.push(o)}var s=this,u=s._,l=Array.prototype,c=Object.prototype,p=Function.prototype,d=l.push,f=l.slice,h=c.toString,m=c.hasOwnProperty,g=Array.isArray,v=Object.keys,y=p.bind,$=Object.create,b=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=w),t._=w,w.VERSION="1.8.3";var x=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?w.identity:w.isFunction(e)?x(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return k(e,t,1/0)};var E=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;s>u;u++){var l=a[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}},C=function(e){if(!w.isObject(e))return{};if($)return $(e);b.prototype=e;var t=new b;return b.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,A=_("length"),P=function(e){var t=A(e);return"number"==typeof t&&t>=0&&S>=t};w.each=w.forEach=function(e,t,n){t=x(t,n);var r,i;if(P(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=w.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},w.map=w.collect=function(e,t,n){t=k(t,n);for(var r=!P(e)&&w.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},w.reduce=w.foldl=w.inject=n(1),w.reduceRight=w.foldr=n(-1),w.find=w.detect=function(e,t,n){var r;return r=P(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},w.filter=w.select=function(e,t,n){var r=[];return t=k(t,n),w.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},w.reject=function(e,t,n){return w.filter(e,w.negate(k(t)),n)},w.every=w.all=function(e,t,n){t=k(t,n);for(var r=!P(e)&&w.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,n){t=k(t,n);for(var r=!P(e)&&w.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,r){return P(e)||(e=w.values(e)),("number"!=typeof n||r)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=f.call(arguments,2),r=w.isFunction(t);return w.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var r,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=P(e)?e:w.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>o&&(o=r)}else t=k(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},w.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=P(e)?e:w.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],o>r&&(o=r)}else t=k(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(a>i||i===1/0&&o===1/0)&&(o=e,a=i)});return o},w.shuffle=function(e){for(var t,n=P(e)?e:w.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=w.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},w.sample=function(e,t,n){return null==t||n?(P(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=k(t,n),w.pluck(w.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={};return n=k(n,r),w.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};w.groupBy=O(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=O(function(e,t,n){e[n]=t}),w.countBy=O(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?f.call(e):P(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:P(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=k(t,n);var r=[],i=[];return w.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},w.first=w.head=w.take=function(e,t,n){return null!=e?null==t||n?e[0]:w.initial(e,e.length-t):void 0},w.initial=function(e,t,n){return f.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t)):void 0},w.rest=w.tail=w.drop=function(e,t,n){return f.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var T=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=A(e);s>a;a++){var u=e[a];if(P(u)&&(w.isArray(u)||w.isArguments(u))){t||(u=T(u,t,n));var l=0,c=u.length;for(i.length+=c;c>l;)i[o++]=u[l++]}else n||(i[o++]=u)}return i};w.flatten=function(e,t){return T(e,t,!1)},w.without=function(e){return w.difference(e,f.call(arguments,1))},w.uniq=w.unique=function(e,t,n,r){w.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=k(n,r));for(var i=[],o=[],a=0,s=A(e);s>a;a++){var u=e[a],l=n?n(u,a,e):u;t?(a&&o===l||i.push(u),o=l):n?w.contains(o,l)||(o.push(l),i.push(u)):w.contains(i,u)||i.push(u)}return i},w.union=function(){return w.uniq(T(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=A(e);i>r;r++){var o=e[r];if(!w.contains(t,o)){for(var a=1;n>a&&w.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},w.difference=function(e){var t=T(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,A).length||0,n=Array(t),r=0;t>r;r++)n[r]=w.pluck(e,r);return n},w.object=function(e,t){for(var n={},r=0,i=A(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},w.findIndex=i(1),w.findLastIndex=i(-1),w.sortedIndex=function(e,t,n,r){n=k(n,r,1);for(var i=n(t),o=0,a=A(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},w.indexOf=o(1,w.findIndex,w.sortedIndex),w.lastIndexOf=o(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var M=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=C(e.prototype),a=e.apply(o,i);return w.isObject(a)?a:o};w.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,f.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),r=function(){return M(e,r,t,this,n.concat(f.call(arguments)))};return r},w.partial=function(e){var t=f.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===w?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return M(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return w.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},w.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:w.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=w.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,i=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,c)),o}},w.debounce=function(e,t,n){var r,i,o,a,s,u=function(){var l=w.now()-a;t>l&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=w.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(o,i),o=i=null),s}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},w.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},w.once=w.partial(w.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(v)return v(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return F&&a(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return F&&a(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},w.mapObject=function(e,t,n){t=k(t,n);for(var r,i=w.keys(e),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=t(e[r],r,e);return a},w.pairs=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},w.invert=function(e){for(var t={},n=w.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=E(w.allKeys),w.extendOwn=w.assign=E(w.keys),w.findKey=function(e,t,n){t=k(t,n);for(var r,i=w.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],t(e[r],r,e))return r},w.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;w.isFunction(t)?(i=w.allKeys(a),r=x(t,n)):(i=T(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,u=i.length;u>s;s++){var l=i[s],c=a[l];r(c,l,a)&&(o[l]=c)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var r=w.map(T(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(r,t)}}return w.pick(e,t,n)},w.defaults=E(w.allKeys,!0),w.create=function(e,t){var n=C(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var D=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),
r.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!D(e[u],t[u],n,r))return!1}else{var l,c=w.keys(e);if(u=c.length,w.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!w.has(t,l)||!D(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};w.isEqual=function(e,t){return D(e,t)},w.isEmpty=function(e){return null==e?!0:P(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=g||function(e){return"[object Array]"===h.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&m.call(e,t)},w.noConflict=function(){return s._=u,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=_,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var r=Array(Math.max(0,e));t=x(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},U=w.invert(j),R=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};w.escape=R(j),w.unescape=R(U),w.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),w.isFunction(r)?r.call(e):r};var N=0;w.uniqueId=function(e){var t=++N+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+q[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var r=RegExp([(t.escape||L).source,(t.interpolate||L).source,(t.evaluate||L).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(B,V),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(e){return a.call(this,e,w)},l=t.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},w.chain=function(e){var t=w(e);return t._chain=!0,t};var z=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),z(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],z(this,n)}}),w.each(["concat","join","slice"],function(e){var t=l[e];w.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof r&&r.amd&&r("underscore",[],function(){return w})}).call(this)},function(e,t,n){var r,i=n(1),o={}.hasOwnProperty;r=i.module("opendesk.common.marketplace.utils",[]),r.service("MarketplaceUtils",function(){var e,t,n;return t=function(n){var r,i;for(r in n)if(o.call(n,r))switch(i=n[r],typeof i){case"object":t(i);break;case"string":n[r]=e(r,i)}return n},e=function(e,t){return"deadline"===e||"_at"===e.substr(-3)?n(t):t},n=function(e){return e?e instanceof Date?e:(e=""+e,e.endsWith("Z")||(e+="Z"),new Date(Date.parse(e))):null},{recursiveParseTimestamps:t,parseTimestamps:t}}),e.exports=r.name},function(e,t,n){var r,i=n(1),o=function(e,t){return function(){return e.apply(t,arguments)}},a=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};n(5),r=i.module("opendesk.common.user-service",["restangular",n(9)]),r.service("userService",["$q","$rootScope","$window","Restangular","Environment",function(e,t,n,r,i){var s,u,l,c,p,d;return d={customer:0,designer:1,maker:2,admin:3},p={admin:"operator"},c=function(e){return e.sort(function(e,t){})},l=function(e){var t;return null==e?null:(t=c(e),t[t.length-1])},u=function(e){var t;return null==e?null:(t=c(e),t[0])},new(s=function(){function s(){this.isOperator=o(this.isOperator,this),this.lowestScope=o(this.lowestScope,this),this.productConfigurationScope=o(this.productConfigurationScope,this),this.hasRole=o(this.hasRole,this),this.isUser=o(this.isUser,this),this._handle=o(this._handle,this)}return s.prototype.user=null,s.prototype.bearer_token=null,s.prototype.isAuthenticated=function(){return null!=this.user&&this.user&&this.user.username?!0:!1},s.prototype.userPromise=function(){var n;return null!=this._identify_promise?this._identify_promise:(n=e.defer(),setTimeout(function(e){return function(){return t.$apply(function(){return n.resolve(e.user)})}}(this),.01),n.promise)},s.prototype.setUser=function(e){return this.user=e,t.$broadcast("event:user-changed",this.user,this.isAuthenticated())},s.prototype.setBearerToken=function(e){return this.bearer_token=e,t.$broadcast("event:bearer_token-changed",this.bearer_token)},s.prototype.goToDashboard=function(){var e;return e=i.get("opendesk.urls.dashboard"),n.location.href=e},s.prototype._handle=function(e){return this.setUser(e.original)},s.prototype.isUser=function(e){return this.isAuthenticated()&&null!=e&&e.username===this.user.username},s.prototype.hasRole=function(e){return this.isAuthenticated()&&null!=e&&a.call(this.user.roles,e)>=0},s.prototype.productConfigurationScope=function(e){var t;return t=u(e.roles),p[t]||t},s.prototype.lowestScope=function(e){return l(e)},s.prototype.isOperator=function(){return this.hasRole("admin")},s.prototype.identify=function(e){var t;return null==this.user||e?(null==this._identify_promise&&(t=r.one("auth/identify"),this._identify_promise=t.get(),this._identify_promise.then(function(e){return function(t){return e._identify_promise=null,e._handle(t)}}(this))),this._identify_promise):this.userPromise()},s.prototype.authenticate=function(e,t){var i,o;return e.can_create_user=!t,e.can_return_bearer_token=!0,i=r.all("auth/authenticate"),o=i.post(e),o.then(function(e){return function(t){var r;return null!=t.original&&(null!=t.original.bearer_token?(e.setBearerToken(t.original.bearer_token),delete t.original.bearer_token):e.setBearerToken(null),t.original.has_created_user&&(r=n.analytics,null!=r&&null!=r.user&&null===r.user().id()&&r.alias(t.id),delete t.original.has_created_user)),e._handle(t)}}(this))},s.prototype.logout=function(e){var t;return null!=this.user||e?(t=r.one("auth/logout"),t.post().then(function(e){return function(){return e.setBearerToken(null),e.setUser(null)}}(this))):this.userPromise()},s.prototype.reset=function(e){var t;return t=r.one("auth/reset/"+e),t.post()},s}())}]),r.directive("captureButton",["authService","formService","userService",function(e,t,n){return{controller:["$scope",function(e){return e.auth_handler=function(){},e.complete_handler=function(){},this.setAuthHandler=function(t){return e.auth_handler=t},this.setCompleteHandler=function(t){return e.complete_handler=t}}],link:function(e,t,r){var o,a,s,u;e.action_requested=!1,e.auth_data={},u=function(){return e.is_authenticated=n.isAuthenticated(),e.action_requested=!1},e.$on("$destroy",e.$on("event:user-changed",u)),u(),o=t.find("input[type='email']");try{o.placeholder()}catch(s){a=s}return e.click=function(t){var n,r;return r=i.element(t.target),n=r.closest(".btn"),n.length?(e.action_requested&&!e.is_authenticated?e.action_requested=!1:e.is_authenticated?(e.action_requested=!1,e.complete_handler()):e.action_requested=!0,!1):!1},e.authenticate=function(){return e.auth_handler(e.auth_data)},e.$on("$destroy",e.$watchCollection("[is_authenticated,action_requested]",function(){var t,n;return t=e.is_authenticated||!e.action_requested,n=!t,e.$emit("capture-button:expanded",n)})),e.$on("$destroy",e.$on("capture-button:collapse",function(){return e.action_requested=!1}))},replace:!0,scope:{actionName:"@",compressed:"=",formClass:"@",formLegend:"@"},template:'<div class="capture-button">\n<div class="capture-button-click-container"\n    ng-click="click($event)">\n    <div ng-transclude></div>\n</div>\n<form role="form" class="capture-form {{ formClass }}" name="capture_form"\n    ng-hide="is_authenticated || !action_requested"\n    ng-class="{compressed: compressed}"\n    ng-submit="authenticate()">\n    <legend ng-show="formLegend" ng-bind="formLegend" />\n    <div class="row">\n    <div form-group class-name="col-sm-12 form-group"\n        label="Your name:" ng-if="!compressed">\n        <input type="text" name="name"\n            autocomplete="off"\n            class="form-control"\n            ng-model="auth_data.name"\n            pick-up-auto-fill\n            placeholder="Firstname Lastname"\n            required\n        />\n    </div>\n    <div form-group class-name="col-sm-12 form-group"\n        label="{{ compressed ? \'Your email:\' : \'Email:\' }}">\n        <input type="email" name="email"\n            autocomplete="off"\n            class="form-control"\n            ng-model="auth_data.email"\n            pick-up-auto-fill\n            placeholder="you@domain.com"\n            required\n        />\n    </div>\n    </div>\n    <div class="form-actions">\n    <button type="submit" class="btn btn-block btn-primary"\n        ng-disabled="capture_form.$invalid || is_authenticated"\n        ng-class="{\'btn-lg\': !compressed}">\n        {{ actionName }} &raquo;</button>\n    <span ng-show="in_progress">\n        <br />\n        <img ng-src="{{ assetgen.static_url(\'opendesk:assets/gfx/loading.gif\') }}" />\n        <br />\n    </span>\n    </div>\n</form>\n</div>',transclude:!0}}]),e.exports=r.name},function(e,t,n){var r,i=n(1);n(5),r=i.module("restangular-original",["restangular"]),r.config(["RestangularProvider",function(e){return e.setResponseExtractor(function(e){return e&&(e.original=i.copy(e)),e})}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("underscore",[]).factory("_",function(){return n(6)}),e.exports=r.name},function(e,t,n){var r,i=n(1),o=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};n(5),r=i.module("opendesk-configuration",[n(12),n(10),"restangular"]),r.run(["$rootScope","Restangular","_","Environment",function(e,t,n,r){var i;return i=r.get("fabbed.api_base_url"),t.setBaseUrl(i),t.setDefaultHttpFields({withCredentials:!0}),r.getAsync(["weblayer.token","weblayer.methods"],function(e,r){return t.setFullRequestInterceptor(function(t,i,a,s,u,l,c){var p;return u["X-Requested-With"]="XMLHttpRequest",p=n.isString(i)?i.toUpperCase():null,"REMOVE"===p&&(p="DELETE"),null!=p&&null!=r&&o.call(r,p)>=0&&(u["X-CSRFToken"]=e),{element:t,headers:u,params:l,httpConfig:c}})})}]),e.exports=r.name},function(e,t,n){var r,i,o,a,s,u,l,c,p,d,f=n(1);p=f.module("opendesk.environment",[n(13)]),s=n(15),r=n(17),d=r(),l=n(14),l.ajaxSetup({xhrFields:{withCredentials:!0}}),i="weblayer.bootstrap.csrf",o={get:function(e){var t,n,r;try{r=JSON.parse(e.sessionStorage.getItem(i))}catch(n){t=n}return r},set:function(e,t){var n,r;try{return e.sessionStorage.setItem(i,JSON.stringify(t))}catch(r){n=r}}},u=function(e,t){var n,r,i,o,a;for(o=t.split("."),a=e,n=0,r=o.length;r>n;n++){if(i=o[n],!(i in a))return!1;a=a[i]}return!0},c=function(e,t){var n,r;return n=t.split("."),r=e,f.forEach(n,function(e){return r=r[e]}),r},a=function(e){return console.warn("Key "+e+" missing from environment"),null},p.provider("Environment",function(){var e,t,n;t={},e=f.extend({},s),d.promise.then(function(t){return f.extend(e,{weblayer:t})}),n=function(n){var r,i,o,s;for(s=[e,t],i=0,o=s.length;o>i;i++)if(r=s[i],u(r,n))return c(r,n);return a(n)},this.location={html5mode:function(){return n("location.html5mode")}},this.$get=["$window","_","$q",function(e,r,i){return{get:n,getAsync:function(e,t){return d.promise.then(function(){var r;return r=[],f.forEach(e,function(e){return r.push(n(e))}),t.apply(null,r)})},promise:d.promise,session:function(e){return t=e,t.fx.rates=JSON.parse(e.fx.rates)}}}]}),p.config(["$windowProvider","EnvironmentProvider","$httpProvider",function(e,t,n){var r,i;return i=e.$get(),r=o.get(i),null!=r?d.resolve(r):l.ajax({dataType:"json",success:function(e){return o.set(i,e.weblayer),d.resolve(e.weblayer)},type:"GET",url:s.fabbed.api_base_url+"/bootstrap/csrf"})}]),e.exports=p.name},function(e,t,n){var r,i,o=n(1);r=n(14),i=o.module("jquery",[]),i.factory("jQuery",function(){return r}),e.exports=i.name},function(e,t){e.exports=jQuery},function(e,t,n){n(1);console.log("Using production environment"),e.exports=n(16)("https://www.opendesk.cc/api/v1")},function(e,t,n){n(1);e.exports=function(e){return{location:{html5mode:!0},opendesk:{urls:{studio:"/open-making/studio",basket:"/basket",dashboard:"/dashboard",use:"/make"}},fabbed:{api_base_url:e,filepicker:{base_domain:"www.filepicker.io",cdn_domain:"d3fx6b6vcyh3uo.cloudfront.net",key:"AxBJJGkuQXm7lQDVrB9F4z"},map_styles:'[{"featureType": "water", "stylers": [{"color": "#F9F9FA"}]}, {"featureType": "landscape.natural.landcover", "stylers": [{"saturation": -10}]}]',static_map_styles:"&style=feature:water|color:0xF9F9FA&style=feature:landscape.natural.landcover|saturation:-10",stripe:{publish_key:"pk_live_w45hLGte2a3hHyEXPOR7VYCj"}}}}},function(e,t,n){(function(t){var n=!1;!function(r){"use strict";function i(e){h(function(){throw e})}function o(e){return this.then(e,r)}function a(e){return this.then(r,e)}function s(e,t){return this.then(function(t){return m(e)?e.apply(null,g(t)?t:[t]):E.onlyFuncs?t:e},t||r)}function u(e){function t(){e()}return this.then(t,t),this}function l(e){return this.then(function(t){return m(e)?e.apply(null,g(t)?t.splice(0,0,void 0)&&t:[void 0,t]):E.onlyFuncs?t:e},function(t){return e(t)})}function c(e){return this.then(r,e?function(t){throw e(t),t}:i)}function p(e,t){var n=$(e);if(1===n.length&&g(n[0])){if(!n[0].length)return E.fulfilled([]);n=n[0]}var r=[],i=E(),o=n.length;if(o)for(var a=function(e){n[e]=E.promisify(n[e]),n[e].then(function(a){r[e]=t?n[e]:a,--o||i.resolve(r)},function(a){t?(r[e]=n[e],--o||i.resolve(r)):i.reject(a)})},s=0,u=o;u>s;s++)a(s);else i.resolve(r);return i.promise}function d(e,t){return e.then(m(t)?t:function(){return t})}function f(e){var t=$(e);1===t.length&&g(t[0])&&(t=t[0]);for(var n=E(),r=0,i=t.length,o=E.resolved();i>r;r++)o=d(o,t[r]);return n.resolve(o),n.promise}var h,m=function(e){return"function"==typeof e},g=function(e){return Array.isArray?Array.isArray(e):e instanceof Array},v=function(e){return!(!e||!(typeof e).match(/function|object/))},y=function(e){return e===!1||e===r||null===e},$=function(e,t){return[].slice.call(e,t)},b="undefined",w=typeof TypeError===b?Error:TypeError;if(typeof t!==b&&t.nextTick)h=t.nextTick;else if(typeof MessageChannel!==b){var x=new MessageChannel,k=[];x.port1.onmessage=function(){k.length&&k.shift()()},h=function(e){k.push(e),x.port2.postMessage(0)}}else h=function(e){setTimeout(e,0)};var E=function(e){function t(){if(0!==f){var e,t=g,n=0,r=t.length,i=~f?0:1;for(g=[];r>n;n++)(e=t[n][i])&&e(p)}}function n(e){function r(e){return function(t){return o?void 0:(o=!0,e(t))}}var o=!1;if(f)return this;try{var a=v(e)&&e.then;if(m(a)){if(e===$)throw new w("Promise can't resolve itself");return a.call(e,r(n),r(i)),this}}catch(s){return r(i)(s),this}return d(function(){p=e,f=1,t()}),this}function i(e){return f||d(function(){try{throw e}catch(n){p=n}f=-1,t()}),this}var p,d=(r!==e?e:E.alwaysAsync)?h:function(e){e()},f=0,g=[],$={then:function(e,n){var r=E();return g.push([function(t){try{y(e)?r.resolve(t):r.resolve(m(e)?e(t):E.onlyFuncs?t:e)}catch(n){r.reject(n)}},function(e){if((y(n)||!m(n)&&E.onlyFuncs)&&r.reject(e),n)try{r.resolve(m(n)?n(e):n)}catch(t){r.reject(t)}}]),0!==f&&d(t),r.promise},success:o,error:a,otherwise:a,apply:s,spread:s,ensure:u,nodify:l,rethrow:c,isPending:function(){return 0===f},getStatus:function(){return f}};return $.toSource=$.toString=$.valueOf=function(){return p===r?this:p},{promise:$,resolve:n,fulfill:n,reject:i}};if(E.deferred=E.defer=E,E.nextTick=h,E.alwaysAsync=!0,E.onlyFuncs=!0,E.resolved=E.fulfilled=function(e){return E(!0).resolve(e).promise},E.rejected=function(e){return E(!0).reject(e).promise},E.wait=function(e){var t=E();return setTimeout(t.resolve,e||0),t.promise},E.delay=function(e,t){var n=E();return setTimeout(function(){try{n.resolve(m(e)?e.apply(null):e)}catch(t){n.reject(t)}},t||0),n.promise},E.promisify=function(e){return e&&m(e.then)?e:E.resolved(e)},E.all=function(){return p(arguments,!1)},E.resolveAll=function(){return p(arguments,!0)},E.sequence=function(){return f(arguments)},E.nodeCapsule=function(e,t){return t||(t=e,e=void 0),function(){var n=E(),r=$(arguments);r.push(function(e,t){e?n.reject(e):n.resolve(arguments.length>2?$(arguments,1):t)});try{t.apply(e,r)}catch(i){n.reject(i)}return n.promise}},"function"==typeof n&&n.amd)n("D.js",[],function(){return E});else if(typeof e!==b&&e.exports)e.exports=E;else if(typeof window!==b){var C=window.D;E.noConflict=function(){return window.D=C,E},window.D=E}}()}).call(t,n(18))},function(e,t){function n(){l=!1,a.length?u=a.concat(u):c=-1,u.length&&r()}function r(){if(!l){var e=setTimeout(n);l=!0;for(var t=u.length;t;){for(a=u,u=[];++c<t;)a&&a[c].run();c=-1,t=u.length}a=null,l=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var a,s=e.exports={},u=[],l=!1,c=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new i(e,t)),1!==u.length||l||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){var r,i=n(1),o=function(e,t){return function(){return e.apply(t,arguments)}};r=i.module("opendesk.common.marketplace.models.collection",[n(20),n(21)]),r.factory("Collection",["_","Range","Design",function(e,t,n){var r;return r=function(){function e(){this.build=o(this.build,this),this.scopes={}}return e.prototype.scope=function(e){var t;return(t=this.scopes)[e]||(t[e]=[])},e.prototype.build=function(e,t){return this.buildWithScope(this.scope(e),t)},e.prototype.buildWithScope=function(e,r){return i.forEach(r,function(r){var i,o;return o=t.findOrCreate(r.rangeData()),i=n.findOrCreate(r.designData()),o.addDesign(i),i.joinCollection(o),i.addProduct(r),r.joinCollection(o,i),e.push(r)}),r},e}()}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.models.design",[]),r.factory("Design",["_",function(e){var t,n,r,o,a;return a=function(e,t){return e.toLowerCase().indexOf(t)>=0},t=function(){function t(e,t){this._name=e,this.href=t,this.products=[],this.id=this.href}return t.prototype.joinCollection=function(e){return this._range=e},t.prototype.addProduct=function(e){return this.products.push(e)},t.prototype.defaultProduct=function(){return e.find(this.products,function(e){return e.isDefault()})},t.prototype.range=function(){return this._range},t.prototype.taxonomy=function(){return[this.range(),this]},t.prototype.qualifiedName=function(){return e.map(this.taxonomy(),function(e){return e.name()}).join(" > ")},t.prototype.name=function(){return this._name},t.prototype.path=function(){return this.href},t.prototype.description=function(){return""},t}(),r={instances:{}},o=function(e){return new t(e.id,e.doc)},n=function(t){var n;return n=t.data||t,i.isArray(n)?e.map(n,function(e){return o(e)}):o(n)},n.findOrCreate=function(e){var n;return n=r.instances[e.href],null!=n?n:r.instances[e.href]=new t(e.name,e.href)},n}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.models.range",[]),r.factory("Range",["_",function(e){var t,n,r,o,a;return a=function(e,t){return e.toLowerCase().indexOf(t)>=0},t=function(){function t(e,t){this._name=e,this.href=t,this.designs=[],this.id=this.href}return t.prototype.addDesign=function(e){return this.designs.push(e)},t.prototype.name=function(){return this._name},t.prototype.path=function(){return this.href},t.prototype.description=function(){return""},t.prototype.taxonomy=function(){return[this]},t.prototype.qualifiedName=function(){return e.map(this.taxonomy(),function(e){return e.name()}).join(" > ")},t}(),r={instances:{}},o=function(e){return new t(e.id,e.doc)},n=function(t){var n;return n=t.data||t,i.isArray(n)?e.map(n,function(e){return o(e)}):o(n)},n.findOrCreate=function(e){var n;return n=r.instances[e.href],null!=n?n:r.instances[e.href]=new t(e.name,e.href)},n}]),e.exports=r.name},function(e,t,n){var r,i,o,a,s=n(1);o=s.module("opendesk.common.marketplace.models.product",[n(19),n(20),n(21),n(10)]),r={quantity:-1},i=function(e){return r[e]||0},a=function(e){var t;return t=Object.keys(e).sort(function(e,t){var n,r,o;return o=[i(e),i(t)],n=o[0],r=o[1],r===n?0:r>n?1:-1})},o.factory("DesignSearch",["_",function(e){var t,n,r;return n=function(e,t){var n,r,i,o,a,s,u,l;for(a=0,n=0,i=t.length;i>n;n++){for(u=t[n],s=0,r=0,o=e.length;o>r;r++)l=e[r],l===u&&(s+=1),l.indexOf(u)>=0&&(s+=1);if(0===s)return 0;a+=s}return a},r=function(e){return e.sort(function(e,t){return e.score<t.score?1:e.score>t.score?-1:0})},t=function(){function t(){this.index=[],this.designs={}}return t.prototype.addProducts=function(e){return s.forEach(e,function(e){return function(t){return e.addProduct(t)}}(this))},t.prototype.addProduct=function(e){var t;return t=e.design(),this.designs[t.id]?void 0:(this.index.push({design:t,values:[e.name(),t.name().toLowerCase(),e.range().name().toLowerCase()]}),this.designs[t.id]=!0)},t.prototype.search=function(t){var i,o,a;return o=t.toLowerCase().replace(/(^\s)|(\s+$)/g,""),a=o.split(/\s+/),i=[],s.forEach(this.index,function(e){var t;return t=n(e.values,a),t>0?i.push({design:e.design,score:t}):void 0}),e.map(r(i),function(e){return e.design})},t}()}]),o.factory("Product",["Collection","Design","Range","_","MarketplaceApi","$q","DesignSearch",function(e,t,n,r,i,o,u){var l,c,p,d,f,h,m,g,v;return v=function(e){var t,n,i;return i=e.doc.options,t=a(i),n=t.map(function(e){return r.extend({},i[e],{key:e})})},f=new u,l=function(){function e(e){this.data=e,this.id=this.data.id}return e.prototype.designData=function(){return{name:this.data.design_name,href:this.data.design_href}},e.prototype.rangeData=function(){return{name:this.data.range_name,href:this.data.range_href}},e.prototype.joinCollection=function(e,t){return this._range=e,this._design=t},e.prototype.taxonomy=function(){return[this.range(),this.design(),this]},e.prototype.design=function(){return this._design},e.prototype.range=function(){return this._range},e.prototype.rangeName=function(){return this.data.range_name},e.prototype.rangeHref=function(){return this.data.range_href},e.prototype.name=function(){return this.data.name},e.prototype.path=function(){return this.data.path},e.prototype.isDefault=function(){return this.data.is_default},e.prototype.isPublic=function(){return this.data.is_public},e.prototype.qualifiedName=function(){return r.map(this.taxonomy(),function(e){return e.name()}).join(" > ")},e.prototype.description=function(){return""},e.prototype.versionString=function(){return this.data.version_str},e.prototype.version=function(){return this.versionString.split(".")},e.prototype.options=function(e){return c.productOptions(this.id,this.versionString(),e)},e}(),m=function(e){return new l(e)},p={allProducts:null,productOptions:{}},h=function(e){return f.addProducts(e),e},d=new e,g=function(e){var t;return t=function(t){return d.build(e,t)},p.allProducts||(p.allProducts=i.allProducts(e).then(c).then(t).then(h))},c=function(e){var t;return t=e.data,s.isArray(t)?r.map(t,function(e){return m(e)}):m(t)},c.all=function(e){return null==e&&(e="customer"),g(e)},c.operatorSearch=function(e){var t,n,r;return r=String(e).toLowerCase(),t=o.defer(),n=g("operator"),r.length<2?t.resolve([]):n.then(function(e){var n;return n=f.search(r),t.resolve(n)}),t.promise},c.productOptions=function(e,t,n){var r,o;return o=n+"-"+e+"-"+t,(r=p.productOptions[o])?r:(p.productOptions[o]=i.loadProductOptions(e,t,n).then(function(e){return v(e.data)}),p.productOptions[o])},c["default"]=function(e){return r.find(e,function(e){return e.isDefault()})},c}]),e.exports=o.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.models.basket",[n(24),n(20),n(22),n(33),n(8),n(10),n(4)]),r.factory("Basket",["_","MarketplaceApi","Product","Design","Fileset","Price","userService","$q",function(e,t,n,r,o,a,s,u){var l,c,p,d,f,h,m,g,v,y,$,b,w,x,k,E,C,_;return x=function(t){var n,r,i,o,a;if(null!=t.value)return t.value;if(a=t.values,e.isArray(a)){for(n=t["default"],r=0,i=a.length;i>r;r++)if(o=a[r],o.value===n)return o}else if(e.isObject(a))return a;return""},_=function(e){var t,n,r,i;n=[];for(t in e)r=e[t],"quantity"!==t&&(i=x(r),n.push({name:r.name,description:r.description,value:i.name,image:i.image}));return n},k=function(e){var t,n,r,i;t={};for(n in e)r=e[n],t[n]=(null!=(i=r.values)?i.value:void 0)||r.value||r["default"];return t},w=function(e){var t;return null!=(t=e.doc)?t.options:void 0},C=function(t,n){return e.map(t,function(e){return E(e,n)})},E=function(t,n){var r;return null==t?{}:(r=n[t.type],e.find(r,function(e){return function(e){return e.id===t.id}}(this)))},y=function(){function t(e){this.data=e}return t.prototype.isValid=function(){return!e.isEmpty(this.data)},t.prototype.options=function(){return this.data.doc.options},t.prototype.operatorOptions=function(){var e;return e={},i.forEach(this.options(),function(t,n){var r;return r=s.lowestScope(t.scopes),"operator"===r?(null==t.key&&(t.key=n),e[n]=t):void 0}),e},t}(),$=function(e){return new y(e)},f=function(){function e(e){this.doc=e,this.id=this.doc.id}return e.prototype.qualifiedName=function(){return[this.doc.range_name,this.doc.design_name].join(" > ")},e.prototype.name=function(){return this.qualifiedName()},e.prototype.description=function(){return this.doc.name},e.prototype.productName=function(){return this.doc.name},e.prototype.productName=function(){return this.doc.design_name},e.prototype.rangeName=function(){return this.doc.range_name},e.prototype.image=function(){return this.doc.image},e.prototype.designLink=function(){return this.doc.design_href},e}(),p=function(){function r(e,t,n,r){this.replace(e,t,n,r)}return r.prototype.replace=function(e,t,n,r){return this.job=r,this.basket=e,this.data=t,this.should_avoid_channel_prices=t.should_avoid_channel_prices,this.included=n,this.id=this.data.id,this._product=new f(E(this.data.product,this.included)),this._quantified_conf=E(this.data.quantified_configuration,this.included).doc,this._choice_document=k(this._quantified_conf.options),this._mspec=$(E(this.data.manufacturing_specification,this.included)),this._operator_choice=w(E(this.data.operator_choice,this.included)),this._maker_choice=k(this.data.maker_choice)},r.prototype.product=function(){return this._product},r.prototype.taxonomy=function(){return this._product.taxonomy()},r.prototype.qualifiedName=function(){return this._product.qualifiedName()},r.prototype.simpleProductName=function(){return this._product.productName()},r.prototype.simpleDesignName=function(){return this._product.designName()},r.prototype.simpleRangeName=function(){return this._product.rangeName()},r.prototype.image=function(){return null!=this.data.configuration_image?this.data.configuration_image:this._product.image()},r.prototype.designLink=function(){return this._product.designLink()},r.prototype.loadConfigurationOptions=function(){return this.basket.loader.scope().then(function(e){return function(t){return n.productOptions(e._product.id,e.data.product_version_str,t)}}(this))},r.prototype.choices=function(){return this._quantified_conf.options},r.prototype.productName=function(){return this._product.name()},r.prototype.productDescription=function(){return this._product.description()},r.prototype.productOptions=function(){return this._productOptions||(this._productOptions=_(this._quantified_conf.options))},r.prototype.quantity=function(){var e,t;return(null!=(e=this._quantified_conf.options.quantity)?e.value:void 0)||(null!=(t=this._quantified_conf.options.quantity)?t["default"]:void 0)},r.prototype.isLocked=function(){return this.job.is_locked},r.prototype.costLineItem=function(){var t;return t=this.id,e.find(this.included.cost_line_items,function(e){return e.basket_item.id===t})},r.prototype.purchasePrice=function(){var e;return e=this.costLineItem(),null!=e?new a(e.price):null},r.prototype.updatePartially=function(e){var t;return t=i.extend({},this.flatCustomerChoices(),e),this.update(t)},r.prototype.update=function(e,t,n,r){return null==t&&(t=null),null==n&&(n=null),null==r&&(r=null),this._update(e,t,n,r).then(function(e){return function(){return e.basket.dirty()}}(this))},r.prototype._update=function(e,n,r,i,o){var a;return null==e&&(e=null),null==n&&(n=null),null==r&&(r=null),null==i&&(i=null),null==o&&(o={}),a=function(e,t){return null===t?e:t},e=a(this.flatCustomerChoices(),e),n=a(this.filesetVersionId(),n),r=a(this.flatOperatorChoices(),r),i=a(this.flatMakerChoices(),i),t.updateBasketItem(this,e,n,r,i,o)},r.prototype.filesets=function(){return o.basketItem(this)},r.prototype.filesetVersionId=function(){var e;return null!=(e=this.data.fileset_version)?e.id:void 0},r.prototype.manufacturingSpecification=function(){return this._mspec},r.prototype.generateManufacturingSpecification=function(){return this._update(null,null,null,null,{should_ensure_mspec:!0}).then(function(e){return function(t){return e.replace(e.basket,t.data,t.included)}}(this))},r.prototype.getManufacturingSpecification=function(e){return this._update(null,e.id(),null,null,{should_ensure_mspec:!0,dry_run:!0}).then(function(e){return function(t){return new r(e.basket,t.data,t.included)}}(this))},r.prototype.flatCustomerChoices=function(){return k(this._quantified_conf.options)},r.prototype.flatOperatorChoices=function(){return this._operator_choice},r.prototype.flatMakerChoices=function(){return this._maker_choice},r.prototype.productVersion=function(){return this._product_version||(this._product_version=E(this.data.product_version,this.included).doc)},r.prototype.productChoiceConfig=function(e){var t;return t=this.productVersion(),null!=t?t.options[e]:null},r.prototype.isPurchasable=function(){return!this.data.should_avoid_channel_prices},r}(),d=function(e,t,n,r){return new p(e,t,n,r)},h=function(t,n,r,i){var o;return o=e.map(n,function(e){return d(t,e,r,i)}),
o.sort(function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})},g=function(t){return e.map(t.data,function(e){return new m(e)})},m=function(){function e(e){this.data=e}return e.prototype.isDefault=function(){return this.data.is_default},e.prototype.path=function(){return this.data.path},e}(),l=function(){function e(e){this.loader=e}return e.prototype.job=function(){return this.loader.job()},e.prototype.items=function(){var e;return e=this,this._itemsPromise||(this._itemsPromise=this.job().then(function(t){return function(t){var n,r;return n=C(t.data.basket_items,t.included),r=h(e,n,t.included,t)}}(this)))},e.prototype.itemCount=function(){return this.items().then(function(e){var t;return t=0,i.forEach(e,function(e){return t+=e.quantity()}),t})},e.prototype.isEmpty=function(){return this.items().then(function(e){return 0===e.length})},e.prototype.addItem=function(e){return this.dirty(),d(this,e.data,e.included)},e.prototype.addDesign=function(e,r){var i,o;return i=this,o=this.loader,this.job().then(function(a){return o.scope().then(function(o){var s;return s=t.productsForDesign(e,o),s=s.then(g),s.then(function(e){var t;return t=n["default"](e),i.addProduct(a,t,r).then(function(e){return i.dirty(),e})})})})},e.prototype.addDesignByPath=function(e,n){return t.lookupDesignByPath(e).then(function(e){return function(t){return e.addDesign(t.id,n)}}(this))},e.prototype.addProduct=function(e,n,r){return t.createBasketItem(e,n,r)},e.prototype.updateItem=function(e){return this.dirty()},e.prototype.dirty=function(){return this._itemsPromise=null,this.loader.dirty()},e.prototype.removeItem=function(e){return t.removeBasketItem(e).then(function(e){return function(t){return e.dirty()}}(this))},e.prototype.estimatedPrice=function(){return this.job().then(function(e){return function(e){var t,n,r;return t=e.estimatedPrice(),r=t.scale(.9),n=t.scale(1.2),{min:r,max:n}}}(this))},e.prototype.find=function(e){return this.items().then(function(t){var n,r,i,o;for(r=parseInt(e,10),n=0,o=t.length;o>n;n++)if(i=t[n],i.id===r)return i;return null})},e.prototype.resolveForCustomer=function(e,n){return"customer"===s.productConfigurationScope(n)?this.find(e):t.basketItem(e).then(function(e){return function(t){return d(e,t.data,t.included)}}(this))},e.prototype.allBasketItemsPurchasable=function(){return this.items().then(function(e){var t,n,r;for(t=0,r=e.length;r>t;t++)if(n=e[t],!n.isPurchasable())return!1;return!0})},e.prototype.isPurchasable=function(){return this.job().then(function(e){return e.isPurchasable()})},e}(),v=function(){function e(e){var t;this._job=e,t=u.defer(),t.resolve(this._job),this.promise=t.promise}return e.prototype.job=function(){return this.promise||(this.promise=this.reloadJob())},e.prototype.dirty=function(){return this.promise=null},e.prototype.reloadJob=function(){return t.loadJob(this._job.id).then(function(e){return e})},e.prototype.scope=function(){return s.identify().then(function(e){return s.productConfigurationScope(e)})},e}(),b=function(e){return new l(e)},c=function(e){return b(new v(e))},c.withLoader=b,c}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.models.cost",[n(4),n(25),n(32)]),r.factory("Price",["Session","locationService",function(e,t){var n,r,o,a,s;return s=function(e,t){var n;return n=i.extend({},e),i.forEach(n,function(e,r){return i.isNumber(e)?n[r]=e*t:void 0}),n},r=function(e,t){var n;return n=i.extend({},e),i.forEach(n,function(e,r){return i.isNumber(e)?n[r]=e+t[r]:void 0}),n},o=function(e,n){return t.displayPrice(e,n,0)},a=function(t,n){return e.localizeCurrency(t,n).then(function(e,t){return o(e,t)})},n=function(){function e(e){this.data=e}return e.prototype.currency=function(){return this.data.currency||"GBP"},e.prototype.tax=function(){return this.data.tax_value},e.prototype.royalty=function(){return this.data.royalty},e.prototype.markup=function(){return this.data.markup},e.prototype.express=function(){return this.data.express},e.prototype.excludingTax=function(){return this.data.pre_tax_total},e.prototype.base=function(){return this.data.base_cost},e.prototype.localisedExcludingTax=function(){return a(this.excludingTax(),this.currency())},e.prototype.includingTax=function(){return this.data.taxed_total},e.prototype.localisedincludingTax=function(){return a(this.includingTax(),this.currency())},e.prototype.scale=function(t){return new e(s(this.data,t))},e.prototype.cents=function(){return Math.round(100*this.includingTax())},e.prototype.forStripe=function(){return 100*Math.round(this.includingTax())},e.prototype.add=function(t){return new e(r(this.data,t.data))},e}(),n.zero=function(){return new n({base_cost:0,currency:"EUR",markup:0,pre_tax_total:0,royalty:0,tax:0,tax_value:0,taxed_total:0,value:0})},n}]),r.factory("Cost",["_","MarketplaceApi","GeoSegment","Session","locationService","Price",function(e,t,n,r,o,a){var s,u,l;return s=function(){function e(e){this.data=e}return e.prototype.hasPurchasableQuote=function(){return this.data.purchasable_quotes.length>0},e.prototype.purchasableQuote=function(){return this.data.purchasable_quotes[0]},e.prototype.purchasablePrice=function(){var e;return(e=this.purchasableQuote())?new a(e):null},e.prototype.ideaOfPrice=function(){return new a(this.data.idea_of_price)},e.prototype.bestPrice=function(){var e;return(e=this.purchasableQuote())?new a(e):this.ideaOfPrice()},e.prototype.geoSegments=function(){return[this.data.query_info.maker_path]},e.prototype.fakePrice=function(){return new a({base_cost:888.88,currency:"GBP",markup:0,royalty:0,pre_tax_total:888.88,tax:0,tax_value:0,taxed_total:888.88,value:888.88})},e}(),l=function(e){return new s(e)},u=function(e){var t;return t={},i.forEach(e.costs||{},function(e,n){return t[n]=l(e)}),null!=e.geo_segment_path&&n.resolve(e.geo_segment_path),t},u.load=function(e,n){return t.costs(e,n).then(u)},u}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.session",[n(4),n(12),n(26)]),r.service("Session",["Environment","MarketplaceApi","$q","locationService",function(e,t,n,r){var i,o,a,s;return s=!1,i=n.defer(),a=function(){return s=!0,e.promise.then(function(){return t.session().then(function(t){return i.resolve(e.session(t))})})},o=function(){return s||a(),i.promise},{load:o,localizeCurrency:function(e,t){var i;return i=n.defer(),o().then(function(){var n,o;return n=r.getCurrency(),o=r.convertCurrency(e,t,n),i.resolve(o,n)}),i.promise}}}]),e.exports=r.name},function(e,t,n){var r,i,o,a=n(1);n(5),i=n(27),r=n(28),o=a.module("opendesk.common.location-service",[n(29),"restangular",n(9),n(12)]),o.service("locationService",["$q","$rootScope","Environment","Restangular",function(e,t,n,o){var a;return new(a=function(){function a(){}return a.prototype.currency_formats={GBP:{format:"%s%v",precision:2,symbol:"£"},USD:{format:"%s%v",precision:2,symbol:"$"},EUR:{format:"%s%v",precision:2,symbol:"€"}},a.prototype.data=null,a.prototype.currency=null,a.prototype.setLocation=function(e){return this.data=e,this.currency=e.currency,t.$broadcast("event:location-changed",this.data,this.isShop())},a.prototype.getLocation=function(){return null==this.data&&this.setLocation(n.get("fabbed.location_data")),this.data},a.prototype.getDisplayName=function(){var e;return e=this.getLocation(),e.display_name},a.prototype.getShop=function(){return null},a.prototype.isShop=function(){return!1},a.prototype.getCurrency=function(){return null==this.currency&&(this.currency=n.get("fabbed.currency")),this.currency},a.prototype.getCurrencyLabel=function(e){var t;return e in this.currency_formats?(t=this.currency_formats[e].symbol,t+" ("+e+")"):e},a.prototype.convertCurrency=function(e,t,r){var o,a,s,u;if(o=null!=e&&null!=t&&null!=r,!o||t===r)return null!=e?e:0;try{return u={from:t,to:r},i.base=n.get("fx.base"),i.rates=n.get("fx.rates"),i.convert(e,u)}catch(s){return a=s,console.error(a),null!=e?e:0}},a.prototype.displayPrice=function(e,t,n){var i;return e?(null==t&&(t=this.getCurrency()),i=t in this.currency_formats?this.currency_formats[t]:{format:"%v %s",precision:2,symbol:t},null!=n&&(i.precision=n),r.formatMoney(e,i)):"FREE"},a.prototype.localisePrice=function(e,t){var n,r,i;return r=this.getCurrency(),i=this.convertCurrency(e.value,e.currency,r),n=this.displayPrice(i,r,t),{value:i,currency:r,display:n}},a.prototype.locate=function(n){var r,i,a;return null!=this._locate_promise?this._locate_promise:(i=this.getLocation(),i&&!n?(r=e.defer(),setTimeout(function(e){return function(){return t.$apply(function(){return r.resolve(i)})}}(this),.01),r.promise):(a=o.one("location"),this._locate_promise=a.get(),this._locate_promise.then(function(e){return function(t){return e._locate_promise=null,e.setLocation(t.original)}}(this)),this._locate_promise))},a.prototype.save=function(e){var t,n;return t=o.one("location"),n=t.post(null,e.params),this._last_save_promise=n,n.then(function(e){return function(t){return n===e._last_save_promise?e.setLocation(t.original):void 0}}(this)),this._last_save_promise},a}())}]),o.directive("editLocationWidget",["$rootScope","$window","locationService",function(e,t,n){return{replace:!0,restrict:"A",scope:{location:"=",containerClassNames:"@",inputClassNames:"@",noWrap:"@"},transclude:!0,template:'<div class="{{ containerClassNames }}">\n<p>\n    <span ng-transclude="true" />\n    <span ng-hide="editing_location">\n    <span ng-show="location.display_name_prefixed_with_the">\n        the</span>\n    <a ng-click="edit_location()" class="edit-location-display">\n        <span class="primary" ng-class="{\'no-wrap\': noWrap != \'false\'}">\n        {{ location.display_name }}\n        <span class="thin-text glyphicon glyphicon-edit"\n            style="font-size: 60%; height: 1.3em; vertical-align: middle; margin-left: 0.15em;"\n        >\n        </span>\n        </span>\n    </a>\n    </span>\n</p>\n<form ng-show="editing_location" class="edit-location-form">\n    <div class="form-group">\n    <label class="sr-only" for="address">\n        Enter your location:\n    </label>\n    <input geocode-typeahead\n        location="{{ location.display_name }}"\n        inputClasses="{{ inputClassNames }}"\n    />\n    </div>\n</form>\n</div>',link:function(r,i){var o,a;return o=i.find(".edit-location-display"),a=i.find(".edit-location-form input[type=text]"),o.click(function(){var e,t;return a.focus(),t=a.get(0),null!=t.setSelectionRange?(e=2*a.val().length,t.setSelectionRange(e,e)):a.val(a.val()),a.val(a.val()),!1}),r.editing_location=!1,r.edit_location=function(){return r.editing_location=!0,!1},r.stop_editing_location=function(){return r.editing_location=!1,!1},r.$on("$destroy",r.$on("geocoded:location",function(i,o){return n.save(o).then(function(){return e.$broadcast("location:saved",o)}),t.setTimeout(r.stop_editing_location)}))}}}]),e.exports=o.name},function(e,t,n){/*!
	 * money.js / fx() v0.2
	 * Copyright 2014 Open Exchange Rates
	 *
	 * JavaScript library for realtime currency conversion and exchange rate calculation.
	 *
	 * Freely distributable under the MIT license.
	 * Portions of money.js are inspired by or borrowed from underscore.js
	 *
	 * For details, examples and documentation:
	 * http://openexchangerates.github.io/money.js/
	 */
!function(n,r){var i=function(e){return new u(e)};i.version="0.2";var o=n.fxSetup||{rates:{},base:""};i.rates=o.rates,i.base=o.base,i.settings={from:o.from||i.base,to:o.to||i.base};var a=i.convert=function(e,t){if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)e[n]=a(e[n],t);return e}return t=t||{},t.from||(t.from=i.settings.from),t.to||(t.to=i.settings.to),e*s(t.to,t.from)},s=function(e,t){var n=i.rates;if(n[i.base]=1,!n[e]||!n[t])throw"fx error";return t===i.base?n[e]:e===i.base?1/n[t]:n[e]*(1/n[t])},u=function(e){"string"==typeof e?(this._v=parseFloat(e.replace(/[^0-9-.]/g,"")),this._fx=e.replace(/([^A-Za-z])/g,"")):this._v=e},l=i.prototype=u.prototype;l.convert=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this._v),a.apply(i,e)},l.from=function(e){var t=i(a(this._v,{from:e,to:i.base}));return t._fx=i.base,t},l.to=function(e){return a(this._v,{from:this._fx?this._fx:i.settings.from,to:e})},"undefined"!=typeof e&&e.exports&&(t=e.exports=i),t.fx=i}(this)},function(e,t,n){/*!
	 * accounting.js v0.4.1
	 * Copyright 2014 Open Exchange Rates
	 *
	 * Freely distributable under the MIT license.
	 * Portions of accounting.js are inspired or borrowed from underscore.js
	 *
	 * Full details and documentation:
	 * http://openexchangerates.github.io/accounting.js/
	 */
!function(n,r){function i(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function o(e){return f?f(e):"[object Array]"===h.call(e)}function a(e){return e&&"[object Object]"===h.call(e)}function s(e,t){var n;e=e||{},t=t||{};for(n in t)t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function u(e,t,n){var r,i,o=[];if(!e)return o;if(d&&e.map===d)return e.map(t,n);for(r=0,i=e.length;i>r;r++)o[r]=t.call(n,e[r],r,e);return o}function l(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function c(e){var t=p.settings.currency.format;return"function"==typeof e&&(e=e()),i(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:i(t)?p.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var p={};p.version="0.4.1",p.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var d=Array.prototype.map,f=Array.isArray,h=Object.prototype.toString,m=p.unformat=p.parse=function(e,t){if(o(e))return u(e,function(e){return m(e,t)});if(e=e||0,"number"==typeof e)return e;t=t||p.settings.number.decimal;var n=new RegExp("[^0-9-"+t+"]",["g"]),r=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(r)?0:r},g=p.toFixed=function(e,t){t=l(t,p.settings.number.precision);var n=Math.pow(10,t);return(Math.round(p.unformat(e)*n)/n).toFixed(t)},v=p.formatNumber=p.format=function(e,t,n,r){if(o(e))return u(e,function(e){return v(e,t,n,r)});e=m(e);var i=s(a(t)?t:{precision:t,thousand:n,decimal:r},p.settings.number),c=l(i.precision),d=0>e?"-":"",f=parseInt(g(Math.abs(e||0),c),10)+"",h=f.length>3?f.length%3:0;return d+(h?f.substr(0,h)+i.thousand:"")+f.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+i.thousand)+(c?i.decimal+g(Math.abs(e),c).split(".")[1]:"")},y=p.formatMoney=function(e,t,n,r,i,d){if(o(e))return u(e,function(e){return y(e,t,n,r,i,d)});e=m(e);var f=s(a(t)?t:{symbol:t,precision:n,thousand:r,decimal:i,format:d},p.settings.currency),h=c(f.format),g=e>0?h.pos:0>e?h.neg:h.zero;return g.replace("%s",f.symbol).replace("%v",v(Math.abs(e),l(f.precision),f.thousand,f.decimal))};p.formatColumn=function(e,t,n,r,d,f){if(!e)return[];var h=s(a(t)?t:{symbol:t,precision:n,thousand:r,decimal:d,format:f},p.settings.currency),g=c(h.format),y=g.pos.indexOf("%s")<g.pos.indexOf("%v")?!0:!1,$=0,b=u(e,function(e,t){if(o(e))return p.formatColumn(e,h);e=m(e);var n=e>0?g.pos:0>e?g.neg:g.zero,r=n.replace("%s",h.symbol).replace("%v",v(Math.abs(e),l(h.precision),h.thousand,h.decimal));return r.length>$&&($=r.length),r});return u(b,function(e,t){return i(e)&&e.length<$?y?e.replace(h.symbol,h.symbol+new Array($-e.length+1).join(" ")):new Array($-e.length+1).join(" ")+e:e})},"undefined"!=typeof e&&e.exports&&(t=e.exports=p),t.accounting=p}(this)},function(e,t,n){var r,i=n(1),o=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=i.module("opendesk.common.geocode",[n(30)]),r.service("geocodeService",["$q","$window",function(e,t){var n;return new(n=function(){function n(){this.geocoder=new t.google.maps.Geocoder,this.statuses=t.google.maps.GeocoderStatus}return n.prototype._to_point=function(e){return{lat:e.lat(),lng:e.lng(),str:e.toUrlValue()}},n.prototype.parse=function(e){var t,n,r,i,a,s,u,l,c,p,d,f,h,m;for(l=e.geometry.location,m=e.geometry.viewport,c=this._to_point(l),t={ne:this._to_point(m.getNorthEast()),sw:this._to_point(m.getSouthWest())},r="",p=e.address_components,i=0,s=p.length;s>i;i++)if(n=p[i],o.call(n.types,"country")>=0){r=n.short_name;break}for(f="",d=e.address_components,a=0,u=d.length;u>a;a++)if(n=d[a],o.call(n.types,"administrative_area_level_1")>=0){f=n.long_name;break}return h={_original:e,address:e.formatted_address,bounds:t,country_code:r,point:c,region_name:f},h.params={address:h.address,country_code:h.country_code,region_name:h.region_name,lat:h.point.lat,lng:h.point.lng,ne_str:h.bounds.ne.str,sw_str:h.bounds.sw.str},h},n.prototype.geocode=function(t){var n,r,i;return r=e.defer(),i={address:t},n=function(e){return function(t,n){var i;return n!==e.statuses.OK?r.reject(n):r.resolve(function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],r.push(this.parse(i));return r}.call(e))}}(this),this.geocoder.geocode(i,n),r.promise},n}())}]),r.directive("geocodeTypeahead",["$rootScope","geocodeService",function(e,t){return{replace:!0,restrict:"A",scope:{location:"@",inputClasses:"@",callback:"&"},template:'<input type="text"\n    autocomplete="off"\n    ng-model="location"\n    placeholder="Enter your location"\n    typeahead="item.address for item in geocode($viewValue)"\n    typeahead-editable="false"\n    typeahead-loading="indicator"\n    typeahead-on-select="select($item, $model, $label)"\n    class="form-control {{ inputClasses }}"\n/>',link:function(e){return e.select=function(t,n,r){return e.callback&&e.callback({location:t}),e.$emit("geocoded:location",t)},e.geocode=function(e){return t.geocode(e)}}}}]),e.exports=r.name},function(e,t,n){n(31),e.exports="ui.bootstrap"},function(e,t){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,r){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function a(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void e.removeClass(n,"in",{to:{height:"0"}}).then(s)):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(r.collapse,function(e){e?a():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,n),n&&r.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,r,i){e(function(){i.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,r,i){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),r.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(e){r.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(e,t,n,r){var i=r[0],o=r[1];t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){if(!n.disabled){var r=t.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(r?null:e.$eval(n.btnRadio)),o.$render()})}})}}}).directive("btnCheckbox",["$document",function(e){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(t,n,r,i){function o(){return s(r.btnCheckboxTrue,!0)}function a(){return s(r.btnCheckboxFalse,!1)}function s(e,n){var r=t.$eval(e);return angular.isDefined(r)?r:n}var u=i[0],l=i[1];n.find("input").css({display:"none"}),l.$render=function(){n.toggleClass(u.activeClass,angular.equals(l.$modelValue,o()))},n.bind(u.toggleEvent,function(){r.disabled||t.$apply(function(){l.$setViewValue(n.hasClass(u.activeClass)?a():o()),l.$render()})}),n.on("keypress",function(i){r.disabled||32!==i.which||e[0].activeElement!==n[0]||t.$apply(function(){l.$setViewValue(n.hasClass(u.activeClass)?a():o()),l.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(e,t,n,r){function i(t,n,i){v||(angular.extend(t,{direction:i,active:!0}),angular.extend(p.currentSlide||{},{direction:i,active:!1}),r.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&p.slides.length>1&&(t.$element.data(m,t.direction),p.currentSlide&&p.currentSlide.$element&&p.currentSlide.$element.data(m,t.direction),e.$currentTransition=!0,f?r.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),p.currentSlide=t,g=n,a())}function o(e){if(angular.isUndefined(d[e].index))return d[e];var t;d.length;for(t=0;t<d.length;++t)if(d[t].index==e)return d[t]}function a(){s();var t=+e.interval;!isNaN(t)&&t>0&&(l=n(u,t))}function s(){l&&(n.cancel(l),l=null)}function u(){var t=+e.interval;c&&!isNaN(t)&&t>0&&d.length?e.next():e.pause()}var l,c,p=this,d=p.slides=e.slides=[],f=angular.version.minor>=4,h="uib-noTransition",m="uib-slideDirection",g=-1;p.currentSlide=null;var v=!1;p.select=e.select=function(t,n){var r=e.indexOfSlide(t);void 0===n&&(n=r>p.getCurrentIndex()?"next":"prev"),t&&t!==p.currentSlide&&!e.$currentTransition&&i(t,r,n)},e.$on("$destroy",function(){v=!0}),p.getCurrentIndex=function(){return p.currentSlide&&angular.isDefined(p.currentSlide.index)?+p.currentSlide.index:g},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:d.indexOf(e)},e.next=function(){var t=(p.getCurrentIndex()+1)%d.length;return 0===t&&e.noWrap()?void e.pause():p.select(o(t),"next")},e.prev=function(){var t=p.getCurrentIndex()-1<0?d.length-1:p.getCurrentIndex()-1;return e.noWrap()&&t===d.length-1?void e.pause():p.select(o(t),"prev")},e.isActive=function(e){return p.currentSlide===e},e.$watch("interval",a),e.$on("$destroy",s),e.play=function(){c||(c=!0,a())},e.pause=function(){e.noPause||(c=!1,s())},p.addSlide=function(t,n){t.$element=n,d.push(t),1===d.length||t.active?(p.select(d[d.length-1]),1==d.length&&e.play()):t.active=!1},p.removeSlide=function(e){angular.isDefined(e.index)&&d.sort(function(e,t){return+e.index>+t.index});var t=d.indexOf(e);d.splice(t,1),d.length>0&&e.active?t>=d.length?p.select(d[t-1]):p.select(d[t]):g>t&&g--,0===d.length&&(p.currentSlide=null)},e.$watch("noTransition",function(e){t.data(h,e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var r="uib-noTransition",i="uib-slideDirection",o=null;return e.has("$animateCss")&&(o=e.get("$animateCss")),{beforeAddClass:function(e,a,s){if("active"==a&&e.parent()&&!e.parent().data(r)){var u=!1,l=e.data(i),c="next"==l?"left":"right",p=n.bind(this,e,c+" "+l,s);return e.addClass(l),o?o(e,{addClass:c}).start().done(p):t.addClass(e,c).then(function(){u||p(),s()}),function(){u=!0}}s()},beforeRemoveClass:function(e,a,s){if("active"===a&&e.parent()&&!e.parent().data(r)){var u=!1,l=e.data(i),c="next"==l?"left":"right",p=n.bind(this,e,c,s);return o?o(e,{addClass:c}).start().done(p):t.addClass(e,c).then(function(){u||p(),s()}),function(){u=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,n){function r(e){var t=[],r=e.split("");return angular.forEach(a,function(n,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),r[o]="("+n.regex+")",e[o]="$";for(var a=o+1,s=o+i.length;s>a;a++)r[a]="",e[a]="$";e=e.join(""),t.push({index:o,apply:n.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:n(t,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var a={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(n,a,s){if(!angular.isString(n)||!a)return n;a=t.DATETIME_FORMATS[a]||a,a=a.replace(o,"\\$&"),this.parsers[a]||(this.parsers[a]=r(a));var u=this.parsers[a],l=u.regex,c=u.map,p=n.match(l);if(p&&p.length){var d,f;angular.isDate(s)&&!isNaN(s.getTime())?d={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&e.warn("dateparser:","baseDate is not a valid date"),d={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var h=1,m=p.length;m>h;h++){var g=c[h-1];g.apply&&g.apply.call(d,p[h])}return i(d.year,d.month,d.date)&&(f=new Date(d.year,d.month,d.date,d.hours,d.minutes,d.seconds,d.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},o=i(t[0]);o!=e[0]&&(r=this.offset(angular.element(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,o,a,s,u=n.split("-"),l=u[0],c=u[1]||"center";i=r?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var p={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(l){case"right":s={top:d[c](),left:p[l]()};break;case"left":s={top:d[c](),left:i.left-o};break;case"bottom":s={top:d[l](),left:p[c]()};break;default:s={top:i.top-a,left:p[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(e,t,n,r,i,o,a,s){var u=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){u[n]=angular.isDefined(t[n])?6>i?r(t[n])(e.$parent):e.$parent.$eval(t[n]):a[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){u[r]=e?new Date(e):null,u.refreshView()}):u[r]=a[r]?new Date(a[r]):null}),angular.forEach(["minMode","maxMode"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(n){u[r]=angular.isDefined(n)?n:t[r],e[r]=u[r],("minMode"==r&&u.modes.indexOf(e.datepickerMode)<u.modes.indexOf(u[r])||"maxMode"==r&&u.modes.indexOf(e.datepickerMode)>u.modes.indexOf(u[r]))&&(e.datepickerMode=u[r])}):(u[r]=a[r]||null,e[r]=u[r])}),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(l.$isEmpty(l.$modelValue)||l.$invalid)&&(u.activeDate=e,u.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===u.compare(t.date,u.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){l=e,l.$render=function(){u.render()}},this.render=function(){if(l.$viewValue){var e=new Date(l.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=l.$viewValue?new Date(l.$viewValue):null;l.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=l.$viewValue?new Date(l.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===u.minMode){var n=l.$viewValue?new Date(l.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),l.$setViewValue(n),l.$render()}else u.activeDate=t,e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),n=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,n,1),u.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===u.maxMode&&1===t||e.datepickerMode===u.minMode&&-1===t||(e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){u.element[0].focus()};e.$on("datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),u.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(u.isDisabled(u.activeDate))return;e.select(u.activeDate),c()}else!t.ctrlKey||"up"!==n&&"down"!==n?(u.handleKeyDown(n,t),u.refreshView()):(e.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,r,i){function o(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?u[t]:29}function a(e,t){for(var n,r=new Array(t),o=new Date(e),a=0;t>a;)n=new Date(o),i.fixTimeZone(n),r[a++]=n,o.setDate(o.getDate()+1);return r}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var u=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),o=new Date(n,r,1),u=i.startingDay-o.getDay(),l=u>0?7-u:-u,c=new Date(o);l>0&&c.setDate(-l+1);for(var p=a(c,42),d=0;42>d;d++)p[d]=angular.extend(i.createDateObject(p[d],i.formatDay),{secondary:p[d].getMonth()!==r,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(p[f].date,i.formatDayHeader),full:e(p[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(p,7),t.showWeeks){t.weekNumbers=[];for(var h=(11-i.startingDay)%7,m=t.rows.length,g=0;m>g;g++)t.weekNumbers.push(s(t.rows[g][h].date))}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e,t){var n=i.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(r,1),n=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(n)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,r=new Array(12),o=i.activeDate.getFullYear(),a=0;12>a;a++)n=new Date(o,a,1),i.fixTimeZone(n),r[a]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:t.uniqueId+"-"+a});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(r,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e,t){var n=i.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var r=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);i.activeDate.setMonth(n)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,r){function i(e){return parseInt((e-1)/o,10)*o+1}var o=r.yearRange;r.step={years:o},r.element=t,r._refreshView=function(){for(var t,n=new Array(o),a=0,s=i(r.activeDate.getFullYear());o>a;a++)t=new Date(s+a,0,1),r.fixTimeZone(t),n[a]=angular.extend(r.createDateObject(t,r.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=r.split(n,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e,t){var n=r.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*r.step.years:"home"===e?n=i(r.activeDate.getFullYear()):"end"===e&&(n=i(r.activeDate.getFullYear())+o-1),r.activeDate.setFullYear(n)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,n,r,i,o,a,s,u){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(l,c,p,d){function f(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function h(e){angular.isNumber(e)&&(e=new Date(e));{if(!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=a.parse(e,g,l.date);return isNaN(t)?void 0:t}}}function m(e,t){var n=e||t;if(!p.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var r=a.parse(n,g);return!isNaN(r)}return!1}return!0}var g,v=angular.isDefined(p.closeOnDateSelection)?l.$parent.$eval(p.closeOnDateSelection):s.closeOnDateSelection,y=angular.isDefined(p.datepickerAppendToBody)?l.$parent.$eval(p.datepickerAppendToBody):s.appendToBody,$=angular.isDefined(p.onOpenFocus)?l.$parent.$eval(p.onOpenFocus):s.onOpenFocus,b=angular.isDefined(p.datepickerPopupTemplateUrl)?p.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,w=angular.isDefined(p.datepickerTemplateUrl)?p.datepickerTemplateUrl:s.datepickerTemplateUrl,x={};l.showButtonBar=angular.isDefined(p.showButtonBar)?l.$parent.$eval(p.showButtonBar):s.showButtonBar,l.getText=function(e){return l[e+"Text"]||s[e+"Text"]},l.isDisabled=function(e){return"today"===e&&(e=new Date),l.watchData.minDate&&l.compare(e,x.minDate)<0||l.watchData.maxDate&&l.compare(e,x.maxDate)>0},l.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};var k=!1;if(s.html5Types[p.type]?(g=s.html5Types[p.type],k=!0):(g=p.datepickerPopup||s.datepickerPopup,p.$observe("datepickerPopup",function(e,t){var n=e||s.datepickerPopup;if(n!==g&&(g=n,d.$modelValue=null,!g))throw new Error("datepickerPopup must have a date format specified.")})),!g)throw new Error("datepickerPopup must have a date format specified.");if(k&&p.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var E=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");E.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":b});var C=angular.element(E.children()[0]);if(C.attr("template-url",w),k&&"month"===p.type&&(C.attr("datepicker-mode",'"month"'),C.attr("min-mode","month")),p.datepickerOptions){var _=l.$parent.$eval(p.datepickerOptions);_&&_.initDate&&(l.initDate=_.initDate,C.attr("init-date","initDate"),delete _.initDate),angular.forEach(_,function(e,t){C.attr(f(t),e)})}l.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(p[e]){var n=t(p[e]);if(l.$parent.$watch(n,function(t){l.watchData[e]=t,("minDate"===e||"maxDate"===e)&&(x[e]=new Date(t))}),C.attr(f(e),"watchData."+e),"datepickerMode"===e){var r=n.assign;l.$watch("watchData."+e,function(e,t){angular.isFunction(r)&&e!==t&&r(l.$parent,e)})}}}),p.dateDisabled&&C.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),p.showWeeks&&C.attr("show-weeks",p.showWeeks),p.customClass&&C.attr("custom-class","customClass({ date: date, mode: mode })"),
k?d.$formatters.push(function(e){return l.date=e,e}):(d.$$parserName="date",d.$validators.date=m,d.$parsers.unshift(h),d.$formatters.push(function(e){return l.date=e,d.$isEmpty(e)?e:o(e,g)})),l.dateSelection=function(e){angular.isDefined(e)&&(l.date=e);var t=l.date?o(l.date,g):null;c.val(t),d.$setViewValue(t),v&&(l.isOpen=!1,c[0].focus())},d.$viewChangeListeners.push(function(){l.date=a.parse(d.$viewValue,g,l.date)});var S=function(e){!l.isOpen||c[0].contains(e.target)||E[0].contains(e.target)||l.$apply(function(){l.isOpen=!1})},A=function(e){27===e.which&&l.isOpen?(e.preventDefault(),e.stopPropagation(),l.$apply(function(){l.isOpen=!1}),c[0].focus()):40!==e.which||l.isOpen||(e.preventDefault(),e.stopPropagation(),l.$apply(function(){l.isOpen=!0}))};c.bind("keydown",A),l.keydown=function(e){27===e.which&&(l.isOpen=!1,c[0].focus())},l.$watch("isOpen",function(e){e?(l.position=y?i.offset(c):i.position(c),l.position.top=l.position.top+c.prop("offsetHeight"),u(function(){$&&l.$broadcast("datepicker.focus"),n.bind("click",S)},0,!1)):n.unbind("click",S)}),l.select=function(e){if("today"===e){var t=new Date;angular.isDate(l.date)?(e=new Date(l.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}l.dateSelection(e)},l.close=function(){l.isOpen=!1,c[0].focus()};var P=e(E)(l);E.remove(),y?n.find("body").append(P):c.after(P),l.$on("$destroy",function(){l.isOpen===!0&&(r.$$phase||l.$apply(function(){l.isOpen=!1})),P.remove(),c.unbind("keydown",A),n.unbind("click",S)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",r),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",r),e.unbind("keydown",i))};var r=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),r()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,r,i,o,a,s,u,l){var c,p,d=this,f=e.$new(),h=r.openClass,m=angular.noop,g=t.onToggle?n(t.onToggle):angular.noop,v=!1,y=!1,$=s.find("body");this.init=function(r){d.$element=r,t.isOpen&&(p=n(t.isOpen),m=p.assign,e.$watch(p,function(e){f.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),y=angular.isDefined(t.keyboardNav),v&&d.dropdownMenu&&($.append(d.dropdownMenu),$.addClass("dropdown"),r.on("$destroy",function(){d.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return d.toggleElement},f.getAutoClose=function(){return t.autoClose||"always"},f.getElement=function(){return d.$element},f.isKeynavEnabled=function(){return y},f.focusDropdownEntry=function(e){var t=d.dropdownMenu?angular.element(d.dropdownMenu).find("a"):angular.element(d.$element).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(d.selectedOption)?d.selectedOption=d.selectedOption===t.length-1?d.selectedOption:d.selectedOption+1:d.selectedOption=0;break;case 38:angular.isNumber(d.selectedOption)?d.selectedOption=0===d.selectedOption?0:d.selectedOption-1:d.selectedOption=t.length-1}t[d.selectedOption].focus()},f.getDropdownElement=function(){return d.dropdownMenu},f.focusToggleElement=function(){d.toggleElement&&d.toggleElement[0].focus()},f.$watch("isOpen",function(t,n){if(v&&d.dropdownMenu){var r=a.positionElements(d.$element,d.dropdownMenu,"bottom-left",!0),s={top:r.top+"px",display:t?"block":"none"},p=d.dropdownMenu.hasClass("dropdown-menu-right");p?(s.left="auto",s.right=window.innerWidth-(r.left+d.$element.prop("offsetWidth"))+"px"):(s.left=r.left+"px",s.right="auto"),d.dropdownMenu.css(s)}var y=v?$:d.$element;if(o[t?"addClass":"removeClass"](y,h).then(function(){angular.isDefined(t)&&t!==n&&g(e,{open:!!t})}),t)d.dropdownMenuTemplateUrl&&l(d.dropdownMenuTemplateUrl).then(function(e){c=f.$new(),u(e.trim())(c,function(e){var t=e;d.dropdownMenu.replaceWith(t),d.dropdownMenu=t})}),f.focusToggleElement(),i.open(f);else{if(d.dropdownMenuTemplateUrl){c&&c.$destroy();var b=angular.element('<ul class="dropdown-menu"></ul>');d.dropdownMenu.replaceWith(b),d.dropdownMenu=b}i.close(f),d.selectedOption=null}angular.isFunction(m)&&m(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var b=e.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",b)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,r){r.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,r){if(r){var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,r){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=r.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(r.selectedOption)?r.selectedOption=r.selectedOption===t.length-1?r.selectedOption:r.selectedOption+1:r.selectedOption=0;break;case 38:angular.isNumber(r.selectedOption)?r.selectedOption=0===r.selectedOption?0:r.selectedOption-1:r.selectedOption=t.length-1}t[r.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(e,t,n){function r(t,r,o){o.modalInClass&&(i?i(r,{addClass:o.modalInClass}).start():e.addClass(r,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var a=n();i?i(r,{removeClass:o.modalInClass}).start().then(a):e.removeClass(r,o.modalInClass).then(a)}))}var i=null;return t.has("$animateCss")&&(i=t.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(e,t,n,r){var i=null;return r.has("$animateCss")&&(i=r.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowClass||""),r.size=a.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},r.$isRendered=!0;var s=t.defer();a.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=i?i(o,{addClass:a.modalInClass}).start():n.addClass(o,a.modalInClass),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();i?i(o,{removeClass:a.modalInClass}).start().then(r):n.removeClass(o,a.modalInClass).then(r)})),t.when(s).then(function(){var e=o[0].querySelectorAll("[autofocus]");e.length?e[0].focus():o[0].focus()});var u=e.getTop();u&&e.modalRendered(u.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,r,i,o,a,s,u){function l(){for(var e=-1,t=$.keys(),n=0;n<t.length;n++)$.get(t[n]).value.backdrop&&(e=n);return e}function c(e,t){var r=n.find("body").eq(0),i=$.get(e).value;$.remove(e),d(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||y;b.remove(t,e),r.toggleClass(t,b.hasKey(t))}),p(),t&&t.focus?t.focus():r.focus()}function p(){if(m&&-1==l()){var e=g;d(m,g,function(){e=null}),m=void 0,g=void 0}}function d(t,n,r){function i(){i.done||(i.done=!0,h?h(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),r&&r())}var a,s=null,u=function(){return a||(a=o.defer(),s=a.promise),function(){a.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,u),o.when(s).then(i)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var h=null;a.has("$animateCss")&&(h=a.get("$animateCss"));var m,g,v,y="modal-open",$=u.createNew(),b=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,k="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(l,function(e){g&&(g.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=$.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply(function(){w.dismiss(t.key,"escape key press")});break;case 9:w.loadFocusElementList(t);var n=!1;e.shiftKey?w.isFocusInFirstItem(e)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(e)&&(n=w.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),w.open=function(e,t){var o=n[0].activeElement,a=t.openedClass||y;$.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass}),b.put(a,e);var s=n.find("body").eq(0),u=l();if(u>=0&&!m){g=i.$new(!0),g.index=u;var c=angular.element('<div modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),m=r(c)(g),s.append(m)}var p=angular.element('<div modal-window="modal-window"></div>');p.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:$.length()-1,animate:"animate"}).html(t.content),t.animation&&p.attr("modal-animation","true");var d=r(p)(t.scope);$.top().value.modalDomEl=d,$.top().value.modalOpener=o,s.append(d),s.addClass(a),w.clearFocusListCache()},w.close=function(e,t){var n=$.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),c(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=$.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),c(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return $.top()},w.modalRendered=function(e){var t=$.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)==v[0]:!1},w.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)==v[v.length-1]:!1},w.clearFocusListCache=function(){v=[],x=0},w.loadFocusElementList=function(e){if((void 0===v||!v.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(k))}},w}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,r,i,o,a){function s(e){return e.template?r.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function u(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(r.when(t.invoke(e))):angular.isString(e)?n.push(r.when(t.get(e))):n.push(r.when(e))}),n}var l={},c=null;return l.getPromiseChain=function(){return c},l.open=function(t){var i=r.defer(),l=r.defer(),p=r.defer(),d={result:i.promise,opened:l.promise,rendered:p.promise,close:function(e){return a.close(d,e)},dismiss:function(e){return a.dismiss(d,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var f,h=r.all([s(t)].concat(u(t.resolve)));return f=c=r.all([c]).then(function(){return h},function(){return h}).then(function(e){var r=(t.scope||n).$new();r.$close=d.close,r.$dismiss=d.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var s,u={},c=1;t.controller&&(u.$scope=r,u.$modalInstance=d,angular.forEach(t.resolve,function(t,n){u[n]=e[c++]}),s=o(t.controller,u),t.controllerAs&&(t.bindToController&&angular.extend(s,r),r[t.controllerAs]=s)),a.open(d,{scope:r,deferred:i,renderDeferred:p,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),l.resolve(!0)},function(e){l.reject(e),i.reject(e)})["finally"](function(){c===f&&(c=null)}),d},l}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,s){i=a,this.config=s,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var r=!e.ngDisabled||!n;r&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,r,i,o){function a(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],r=1,i=t,o=angular.isDefined(c)&&t>c;o&&(p?(r=Math.max(e-Math.floor(c/2),1),i=r+c-1,i>t&&(i=t,r=i-c+1)):(r=(Math.ceil(e/c)-1)*c+1,i=Math.min(r+c-1,t)));for(var s=r;i>=s;s++){var u=a(s,s,s===e);n.push(u)}if(o&&!p){if(r>1){var l=a(r-1,"...",!1);n.unshift(l)}if(t>i){var d=a(i+1,"...",!1);n.push(d)}}return n}var u=o[0],l=o[1];if(l){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,p=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,u.init(l,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){c=parseInt(e,10),u.render()});var d=u.render;u.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,r,i){var o=i[0],a=i[1];a&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,o.init(a,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(i,o,a,s,u,l,c,p){return function(i,d,f,h){function m(e){var t=(e||h.trigger||f).split(" "),r=t.map(function(e){return n[e]||e});return{show:t,hide:r}}h=angular.extend({},t,r,h);var g=e(i),v=l.startSymbol(),y=l.endSymbol(),$="<div "+g+'-popup title="'+v+"title"+y+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(e,t){var n=o($);return function(e,t,r,o){function l(){I.isOpen?g():f()}function f(){(!F||e.$eval(r[d+"Enable"]))&&(w(),I.popupDelay?P||(P=a(v,I.popupDelay,!1)):v())}function g(){y(),c.$$phase||c.$digest()}function v(){return P=null,A&&(a.cancel(A),A=null),(h.useContentExp?I.contentExp():I.content)?($(),I.isOpen=!0,j&&j.assign(I.origScope,I.isOpen),c.$$phase||I.$apply(),_.css({display:"block"}),void U()):angular.noop}function y(){I.isOpen=!1,j&&j.assign(I.origScope,I.isOpen),a.cancel(P),P=null,a.cancel(O),O=null,I.animation?A||(A=a(b,500)):b()}function $(){_&&b(),S=I.$new(),_=n(S,function(e){T?s.find("body").append(e):t.after(e)}),h.useContentExp&&(S.$watch("contentExp()",function(e){!e&&I.isOpen&&y()}),S.$watch(function(){D||(D=!0,S.$$postDigest(function(){D=!1,I.isOpen&&U()}))}))}function b(){A=null,_&&(_.remove(),_=null),S&&(S.$destroy(),S=null)}function w(){x(),k(),E()}function x(){I.popupClass=r[d+"Class"]}function k(){var e=r[d+"Placement"];I.placement=angular.isDefined(e)?e:h.placement}function E(){var e=r[d+"PopupDelay"],t=parseInt(e,10);I.popupDelay=isNaN(t)?h.popupDelay:t}function C(){var e=r[d+"Trigger"];R(),M=m(e),"none"!==M.show&&M.show.forEach(function(e,n){e===M.hide[n]?t[0].addEventListener(e,l):e&&(t[0].addEventListener(e,f),t[0].addEventListener(M.hide[n],g))})}var _,S,A,P,O,T=angular.isDefined(h.appendToBody)?h.appendToBody:!1,M=m(void 0),F=angular.isDefined(r[d+"Enable"]),I=e.$new(!0),D=!1,j=angular.isDefined(r[d+"IsOpen"])?p(r[d+"IsOpen"]):!1,U=function(){_&&(O||(O=a(function(){_.css({top:0,left:0,width:"auto",height:"auto"});var e=u.position(_),n=u.positionElements(t,_,I.placement,T);n.top+="px",n.left+="px",n.width=e.width+"px",n.height=e.height+"px",_.css(n),O=null},0,!1)))};I.origScope=e,I.isOpen=!1,I.contentExp=function(){return e.$eval(r[i])},h.useContentExp||r.$observe(i,function(e){I.content=e,!e&&I.isOpen?y():U()}),r.$observe("disabled",function(e){P&&e&&(a.cancel(P),P=null),e&&I.isOpen&&y()}),r.$observe(d+"Title",function(e){I.title=e,U()}),r.$observe(d+"Placement",function(){I.isOpen&&(k(),U())}),j&&e.$watch(j,function(e){e!==I.isOpen&&l()});var R=function(){M.show.forEach(function(e){t.unbind(e,f)}),M.hide.forEach(function(e){t.unbind(e,g)})};C();var N=e.$eval(r[d+"Animation"]);I.animation=angular.isDefined(N)?!!N:h.animation;var L=e.$eval(r[d+"AppendToBody"]);T=angular.isDefined(L)?L:T,T&&e.$on("$locationChangeSuccess",function(){I.isOpen&&y()}),e.$on("$destroy",function(){a.cancel(A),a.cancel(P),a.cancel(O),R(),b(),I=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,o,a){var s,u,l,c=i.$eval(a.tooltipTemplateTranscludeScope),p=0,d=function(){u&&(u.remove(),u=null),s&&(s.$destroy(),s=null),l&&(e.leave(l).then(function(){u=null}),u=l,l=null)};i.$watch(t.parseAsResourceUrl(a.tooltipTemplateTransclude),function(t){var a=++p;t?(r(t,!0).then(function(r){if(a===p){var i=c.$new(),u=r,f=n(u)(i,function(t){d(),e.enter(t,o)});s=i,l=f,s.$emit("$includeContentLoaded",t)}},function(){a===p&&(d(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):d()}),i.$on("$destroy",d)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=r.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(t){r.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){t&&e.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,r,i,o){t&&e.warn("bar is now deprecated. Use uib-bar instead"),o.addBar(n,r)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(r.$viewValue===t?0:t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!r){var o=i==n.length-1?i-1:i+1;t.select(n[o])}n.splice(i,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,r,i,o,a){n.$watch("active",function(e){e&&o.select(n)}),n.disabled=!1,i.disable&&n.$parent.$watch(e(i.disable),function(e){n.disabled=!!e}),i.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(i.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=a}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t,n,r){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,r,i,o){function a(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===g[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function u(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function l(e){c(),m.$setViewValue(new Date(h)),p(e)}function c(){m.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function p(t){var n=h.getHours(),r=h.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),
e.hours="h"===t?n:u(n),"m"!==t&&(e.minutes=u(r)),e.meridian=h.getHours()<12?g[0]:g[1]}function d(e,t){var n=new Date(e.getTime()+6e4*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes()),r}function f(e){h=d(h,e),l()}var h=new Date,m={$setViewValue:angular.noop},g=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){m=n,m.$render=this.render,m.$formatters.unshift(function(e){return e?new Date(e):null});var i=r.eq(0),a=r.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,a);var u=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):o.arrowkeys;u&&this.setupArrowkeyEvents(i,a),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(i,a)};var v=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){v=parseInt(e,10)});var y=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){y=parseInt(e,10)});var $;e.$parent.$watch(n(t.min),function(e){var t=new Date(e);$=isNaN(t)?void 0:t});var b;e.$parent.$watch(n(t.max),function(e){var t=new Date(e);b=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=d(h,60*v);return e>b||h>e&&$>e},e.noDecrementHours=function(){var e=d(h,60*-v);return $>e||e>h&&e>b},e.noIncrementMinutes=function(){var e=d(h,y);return e>b||h>e&&$>e},e.noDecrementMinutes=function(){var e=d(h,-y);return $>e||e>h&&e>b},e.noToggleMeridian=function(){return h.getHours()<13?d(h,720)>b:d(h,-720)<$},e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,m.$error.time){var n=a(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(h.setHours(n),l())}else p()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(t,n){m.$setViewValue(null),m.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=a(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(h.setHours(e),$>h||h>b?r(!0):l("h")):r(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=u(e.hours)})}),e.updateMinutes=function(){var e=s(),t=a();angular.isDefined(e)&&angular.isDefined(t)?(h.setMinutes(e),$>h||h>b?r(void 0,!0):l("m")):r(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=u(e.minutes)})})},this.render=function(){var t=m.$viewValue;isNaN(t)?(m.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(h=t),$>h||h>b?(m.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):c(),p())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*v)},e.decrementHours=function(){e.noDecrementHours()||f(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(y)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-y)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(h.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,r,i){function o(e){for(var t in e)if(void 0!==s.style[t])return e[t]}i||r.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var a=function(r,i,o){o=o||{};var s=e.defer(),u=a[o.animation?"animationEndEventName":"transitionEndEventName"],l=function(e){n.$apply(function(){r.unbind(u,l),s.resolve(r)})};return u&&r.bind(u,l),t(function(){angular.isString(i)?r.addClass(i):angular.isFunction(i)?i(r):angular.isObject(i)&&r.css(i),u||s.resolve(r)}),s.promise.cancel=function(){u&&r.unbind(u,l),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),u={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=o(u),a.animationEndEventName=o(l),a}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,r,i,o,a,s,u){var l=[9,13,27,38,40],c=200;return{require:["ngModel","^?ngModelOptions"],link:function(p,d,f,h){function m(){j.moveInProgress||(j.moveInProgress=!0,j.$digest()),z&&r.cancel(z),z=r(function(){j.matches.length&&g(),j.moveInProgress=!1,j.$digest()},c)}function g(){j.position=P?s.offset(d):s.position(d),j.position.top+=d.prop("offsetHeight")}var v=h[0],y=h[1],$=p.$eval(f.typeaheadMinLength);$||0===$||($=1);var b,w,x=p.$eval(f.typeaheadWaitMs)||0,k=p.$eval(f.typeaheadEditable)!==!1,E=t(f.typeaheadLoading).assign||angular.noop,C=t(f.typeaheadOnSelect),_=angular.isDefined(f.typeaheadSelectOnBlur)?p.$eval(f.typeaheadSelectOnBlur):!1,S=t(f.typeaheadNoResults).assign||angular.noop,A=f.typeaheadInputFormatter?t(f.typeaheadInputFormatter):void 0,P=f.typeaheadAppendToBody?p.$eval(f.typeaheadAppendToBody):!1,O=p.$eval(f.typeaheadFocusFirst)!==!1,T=f.typeaheadSelectOnExact?p.$eval(f.typeaheadSelectOnExact):!1,M=t(f.ngModel),F=t(f.ngModel+"($$$p)"),I=function(e,t){return angular.isFunction(M(p))&&y&&y.$options&&y.$options.getterSetter?F(e,{$$$p:t}):M.assign(e,t)},D=u.parse(f.typeahead),j=p.$new(),U=p.$on("$destroy",function(){j.$destroy()});j.$on("$destroy",U);var R="typeahead-"+j.$id+"-"+Math.floor(1e4*Math.random());d.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":R});var N=angular.element("<div typeahead-popup></div>");N.attr({id:R,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&N.attr("template-url",f.typeaheadTemplateUrl),angular.isDefined(f.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",f.typeaheadPopupTemplateUrl);var L=function(){j.matches=[],j.activeIdx=-1,d.attr("aria-expanded",!1)},q=function(e){return R+"-option-"+e};j.$watch("activeIdx",function(e){0>e?d.removeAttr("aria-activedescendant"):d.attr("aria-activedescendant",q(e))});var B=function(e,t){return j.matches.length>t&&e?e.toUpperCase()===j.matches[t].label.toUpperCase():!1},V=function(e){var t={$viewValue:e};E(p,!0),S(p,!1),n.when(D.source(p,t)).then(function(n){var r=e===v.$viewValue;if(r&&b)if(n&&n.length>0){j.activeIdx=O?0:-1,S(p,!1),j.matches.length=0;for(var i=0;i<n.length;i++)t[D.itemName]=n[i],j.matches.push({id:q(i),label:D.viewMapper(j,t),model:n[i]});j.query=e,g(),d.attr("aria-expanded",!0),T&&1===j.matches.length&&B(e,0)&&j.select(0)}else L(),S(p,!0);r&&E(p,!1)},function(){L(),E(p,!1),S(p,!0)})};P&&(angular.element(o).bind("resize",m),i.find("body").bind("scroll",m));var z;j.moveInProgress=!1,L(),j.query=void 0;var H,W=function(e){H=r(function(){V(e)},x)},G=function(){H&&r.cancel(H)};v.$parsers.unshift(function(e){return b=!0,0===$||e&&e.length>=$?x>0?(G(),W(e)):V(e):(E(p,!1),G(),L()),k?e:e?void v.$setValidity("editable",!1):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(e){var t,n,r={};return k||v.$setValidity("editable",!0),A?(r.$model=e,A(p,r)):(r[D.itemName]=e,t=D.viewMapper(p,r),r[D.itemName]=void 0,n=D.viewMapper(p,r),t!==n?t:e)}),j.select=function(e){var t,n,i={};w=!0,i[D.itemName]=n=j.matches[e].model,t=D.modelMapper(p,i),I(p,t),v.$setValidity("editable",!0),v.$setValidity("parse",!0),C(p,{$item:n,$model:t,$label:D.viewMapper(p,i)}),L(),j.$eval(f.typeaheadFocusOnSelect)!==!1&&r(function(){d[0].focus()},0,!1)},d.bind("keydown",function(e){if(0!==j.matches.length&&-1!==l.indexOf(e.which)){if(-1===j.activeIdx&&(9===e.which||13===e.which))return L(),void j.$digest();e.preventDefault(),40===e.which?(j.activeIdx=(j.activeIdx+1)%j.matches.length,j.$digest()):38===e.which?(j.activeIdx=(j.activeIdx>0?j.activeIdx:j.matches.length)-1,j.$digest()):13===e.which||9===e.which?j.$apply(function(){j.select(j.activeIdx)}):27===e.which&&(e.stopPropagation(),L(),j.$digest())}}),d.bind("blur",function(){_&&j.matches.length&&-1!==j.activeIdx&&!w&&(w=!0,j.$apply(function(){j.select(j.activeIdx)})),b=!1,w=!1});var Y=function(e){d[0]!==e.target&&3!==e.which&&0!==j.matches.length&&(L(),a.$$phase||j.$digest())};i.bind("click",Y),p.$on("$destroy",function(){i.unbind("click",Y),P&&J.remove(),N.remove()});var J=e(N)(j);P?i.find("body").append(J):d.after(J)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,i,o){var a=n(o.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e(a).then(function(e){t(e.trim())(r,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,a){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(r(a),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>')},function(e,t,n){var r,i,o=n(1);i=o.module("opendesk.common.marketplace.geosegment",[]),r="geo-segmentation:location",i.service("GeoLocation",function(){var e,t,n,r,i,a,s,u,l;return r=Array.prototype.slice,a=function(e){return e.match(/\//g).length},s=function(e,t){var n,r;return n=a(e),r=a(t),n===r?0:n>r?-1:1},u=function(e){return r.call(e).sort(s)},l=function(e,t){return 0===e.indexOf(t)},t=function(e,t){var n,r,i;for(r=0,i=e.length;i>r;r++)if(n=e[r],l(n,t))return!0;return!1},n=function(e,n){var r,i,o,a;for(a=u(n),r=0,i=a.length;i>r;r++)if(o=a[r],t(e,o))return o;return!1},e=function(e,t,r,i){var o,a,s,u,l,c;for(u=[],o=0,a=t.length;a>o;o++)l=t[o],c=r(l),s=n(e,c),s&&(i?u.push({match:s,object:l}):u.push(l));return u},i=function(e,t){return r.call(e).sort(function(e,n){return s(t(e),t(n))})},function(t){var r;return o.isArray(t)||(t=[t]),r=u(t),{location:r,matches:function(e){return n(r,e)},filter:function(t,n){return e(r,t,n,!1)},filterSort:function(t,n){var o,a,s,u,l,c;for(s=e(r,t,n,!0),c=i(s,function(e){return e.match}),l=[],o=0,a=c.length;a>o;o++)u=c[o],l.push(u.object);return l}}}}),i.service("GeoSegment",["$q","GeoLocation",function(e,t){var n;return n=e.defer(),{then:function(e,t){return n.promise.then(e,t)},resolve:function(e){return n.resolve(t(e))},resolvedEvent:r}}]),i.directive("geoSegmentation",function(){return{controller:["$scope","GeoSegment","$rootScope",function(e,t,n){
return t.then(function(e){return n.$broadcast(r,e)})}]}}),e.exports=i.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.models.fileset",[]),r.factory("Fileset",["_","MarketplaceApi","$q",function(e,t,n){var r,o,a,s,u,l;return l=function(t,n){var r;return r=n[t.type],e.find(r,function(e){return e.id===t.id})},r=function(){function e(e){this.data=e}return e.prototype.name=function(){return this.fileName()},e.prototype.numSheets=function(){return this.data.num_sheets},e.prototype.dxfUrl=function(){return this.data.path},e.prototype.fileName=function(){var e;return(null!=(e=this.data.file)?e.name:void 0)||"-"},e}(),u=function(){function e(e,t){this.data=e,this.included=t}return e.prototype.name=function(){return this.data.doc.name},e.prototype.id=function(){return this.data.id},e.prototype.versionString=function(){return this.data.doc.version.join(".")},e.prototype.updatedAt=function(){return"??"},e.prototype.numberOfSheets=function(){return this.data.doc.manufacturing.cutting.total_sheets},e.prototype.files=function(){return this._files||(this._files=function(e){return function(){var t;return t=[],i.forEach(e.data.files,function(e){return t.push(new r(e))}),t}}(this)())},e.prototype.jsonDump=function(){var e;return e={},e.manufacturing=i.extend({},this.data.doc.manufacturing),delete e.manufacturing.strategies,JSON.stringify(e)},e}(),o=function(){function e(e,t){this.data=e,this.included=t,this.fileset=new u(l(this.data.best_fileset_version,this.included),this.included),this._operatorChoices={}}return e.prototype.name=function(){return this.fileset.name()},e.prototype.id=function(){return this.fileset.id()},e.prototype.versionId=function(){return this.data.best_fileset_version.id},e.prototype.matchesVersion=function(){return this.data.matches_major_version},e.prototype.matchesOptions=function(){return this.data.matches_options},e.prototype.isExactMatch=function(){return this.matchesVersion()&&this.matchesOptions()},e.prototype.isInexactMatch=function(){return!this.isExactMatch()},e.prototype.versionString=function(){return this.fileset.versionString()},e.prototype.updatedAt=function(){return this.fileset.updatedAt()},e.prototype.lastUsedDate=function(){return"??"},e.prototype.versions=function(){return[]},e.prototype.jobCount=function(){return"??"},e.prototype.files=function(){return this.fileset.files()},e.prototype.jsonDump=function(){return this.fileset.jsonDump()},e.prototype.numberOfSheets=function(){return this.fileset.numberOfSheets()},e.prototype.operatorChoices=function(){return this._operatorChoices},e.prototype.operatorChoice=function(e){return this._operatorChoices[e]},e.prototype.setOperatorChoices=function(e){return this._operatorChoices=i.extend({},e)},e.prototype.setOperatorChoice=function(e,t){return this._operatorChoices[e]=t},e}(),a=function(){function t(e,t){this.matches=e,this.included=t}return t.prototype.hasExactMatch=function(){return this.exactMatches().length>0},t.prototype.hasInexactMatch=function(){return this.inexactMatches().length>0},t.prototype.exactMatches=function(){return this._exactMatches||(this._exactMatches=e.select(this.matches,function(e){return e.isExactMatch()}))},t.prototype.inexactMatches=function(){return this._inexactMatches||(this._inexactMatches=e.reject(this.matches,function(e){return e.isExactMatch()}))},t}(),s=function(t){var n,r,i;return n=t.data,r=t.included,i=e.map(n,function(e){return new o(e,r)}),new a(i,r)},s.basketItem=function(e){return t.operator.basketItemFilesets(e).then(s)},s.matchingQuantifiedConfiguration=function(e,n){return null==n&&(n=null),t.operator.listFilesets(e,n).then(s)},s}]),e.exports=r.name},function(e,t,n){var r,i,o,a=n(1);r=a.module("opendesk.common.marketplace.models.job",[n(23),n(35),n(26),n(24)]),i=["name","delivery_address","point","description","deadline","customer_name"],o=function(e,t){var n,r,i,o;for(n={},r=0,o=t.length;o>r;r++)i=t[r],i in e&&(n[i]=e[i]);return n},r.factory("Bill",["MarketplaceApi",function(e){var t;return t=function(){function t(e,t){this.data=e,this.id=this.data.id}return t.prototype.pay=function(t){return e.express.payBill(this,t)},t.prototype.workStatus=function(){return this.data.work_status},t}(),{load:function(e,n){var r,i,o,a,s;if(s=e.bill,!s)return null;for(i=n[s.type],o=0,a=i.length;a>o;o++)if(r=i[o],r.id===s.id)return new t(r,n);return null}}}]),r.factory("PurchasableQuote",["Price","Bill",function(e,t){var n,r,i,o,s;return o=function(e,t){var n,r,i,o;for(o=t[e.type],r=0,i=o.length;i>r;r++)if(n=o[r],n.id===e.id)return n;return null},n=function(){function t(t,n){this.data=t,this._price=new e(this.data.price)}return t.prototype.price=function(){return this._price},t}(),i=function(){function t(e,t){this.data=e,this._line_items=this.data.line_items.map(function(e){return new n(o(e,t),t)})}return t.prototype.price=function(){var t;return null!=this._price?this._price:0===this._line_items.length?e.zero():(t=this._line_items[0].price(),a.forEach(this._line_items.slice(1),function(e){return t=t.add(e.price())}),this._price=t,this._price)},t}(),r=function(){function e(e,n){this.data=e,this.id=this.data.id,this._bill=t.load(this.data,n),this._version=new i(o(this.data.latest_version,n),n)}return e.prototype.price=function(){return this._version.price()},e.prototype.bill=function(){return this._bill},e.prototype.pay=function(e){return this.bill().pay(e)},e}(),s=function(e,t){var n;return n=o(e,t),n?new r(n,t):null},{load:function(e,t){var n,r;return(n=e.accepted_quote)?s(n,t):(r=e.purchasable_quotes,r&&r.length>0?s(r[0],t):null)}}}]),r.factory("Job",["_","MarketplaceApi","Basket","Maker","locationService","Price","PurchasableQuote","$q",function(e,t,n,r,s,u,l,c){var p,d,f;return p=function(){function p(e,t){this.data=e,this.included=t,this.updated(this.data),this.basket=n(this)}return p.prototype.updated=function(e){return this.data=e,this.purchasableQuote=l.load(this.data,this.included),a.extend(this,e)},p.prototype.update=function(e){var n;return n=o(e,i),t.updateJob(this,n).then(function(e){return function(t){return e.updated(t.data),e}}(this))},p.prototype.addBasketItem=function(e,n){return t.operator.createBasketItem(this,e,n).then(function(e){return function(t){return e.basket.addItem(t)}}(this))},p.prototype.deliveryLocation=function(e){var t,n;return n=null,t=this.data.delivery_address,n=t?{display_name:this.data.delivery_address}:s.getLocation()},p.prototype.deliveryAddress=function(e){var t;return t=this.data.delivery_address||e},p.prototype.updateDeliveryLocation=function(e){var t;return t={delivery_address:e.address,point:{lat:e.point.lat,lng:e.point.lng}},this.update(t).then(function(e){return function(){return e.maker_search=null}}(this))},p.prototype.findMakers=function(e){return null==e&&(e=3),this.maker_search||(this.maker_search=t.makerSearch(this,e).then(r))},p.prototype.publish=function(e){return t.publishJob(this,e)},p.prototype.specify=function(){return t.specifyJob(this)},p.prototype.download=function(){return t.downloadJob(this)},p.prototype.files=function(){return e.map(this.included.asset_versions,function(e){var t;return t={id:e.id,ext:e.file.ext,name:e.file.name,num_bytes:e.file.num_bytes,object_hash:"winnow/"+e.local_hash,url:e.path}})},p.prototype.price=function(){return this.isPurchasable().then(function(e){return function(t){return t?e.purchasablePrice():e.estimatedPrice()}}(this))},p.prototype.estimatedPrice=function(){return new u(this.data.estimated_price)},p.prototype.isPurchasable=function(){var e;return null==this.purchasableQuote?(e=c.defer(),e.resolve(!1),e.promise):this.basket.allBasketItemsPurchasable()},p.prototype.isExpressPurchase=function(){return this.isPurchasable()},p.prototype.purchasablePrice=function(){var e;return null!=(e=this.purchasableQuote)?e.price():void 0},p.prototype.expressCheckout=function(){return t.express.publishJob(this).then(d).then(function(e){return function(n){return t.express.acceptQuote(e.purchasableQuote).then(function(e){return n})}}(this))},p.prototype.getBill=function(){var e;return e=this.purchasableQuote,null!=e?e.bill():null},p.prototype.billStateMatches=function(e){var t;return t=this.getBill(),null!=t?t.workStatus().value===e:!1},p.prototype.hasBeenPaid=function(){return this.billStateMatches("state:PAID")},p.prototype.isPendingPayment=function(){return!this.hasBeenPaid()},p.prototype.workStatus=function(){return this.data.work_status.value},p.prototype.displayWorkStatus=function(){return this.workStatus().toLowerCase().replace("_"," ").replace("state:","")},p}(),f=function(e,t){return new p(e,t)},d=function(t){var n,r;return n=t.data||t,r=t.included,a.isArray(n)?e.map(n,function(e){return f(e,r)}):f(n,r)},d.all=function(e){return t.jobs(e,!0).then(d)},d.create=function(){return t.operator.createJob().then(d)},d.load=function(e){return t.loadJob(e).then(d)},d.find=function(e,t){var n,r,i;for(t=parseInt(t,10),n=0,i=e.length;i>n;n++)if(r=e[n],r.id===t)return r},d.session=function(){return t.sessionJob().then(d)},d}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.models.maker",[]),r.factory("Maker",["_","MarketplaceApi",function(e,t){var n,r,o;return n=function(){function e(e){this.data=e}return e.prototype.name=function(){return this.data.name},e.prototype.image=function(){return this.data.image},e.prototype.location=function(){return this.data.location},e}(),o=function(e){return new n(e)},r=function(t){var n;return n=t.data||t,i.isArray(n)?e.map(n,function(e){return o(e)}):o(n)}}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.models.makerjob",[]),r.factory("MakerJob",["_","MarketplaceApi",function(e,t){var n,r,o;return n=function(){function e(){}return e.prototype.initialize=function(){},e}(),o=function(e){var t;return t=new n,i.extend(t,e),t},r=function(t){var n;return n=t.data,i.isArray(n)?e.map(n,function(e){return o(e)}):o(n)},r.all=function(e){return t.makerJobs(e,!0).then(r)},r}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.models.quantifiedConfiguration",[]),r.factory("QuantifiedConfiguration",["_","MarketplaceApi","$q",function(e,t,n){var r,o,a;return a=function(e,t,n){var r;return r={},i.forEach(t,function(e){var t;return r[e.key]=(null!=(t=n[e.key])?t["default"]:void 0)||e["default"]}),r},r=function(){function e(e,t,n){this.product=e,this.options=t,this.choices=n,this.configuration=a(this.product,this.options,this.choices)}return e.prototype.getConfiguration=function(e){return this.configuration[e]},e.prototype.setConfiguration=function(e,t){return this.configuration[e]=t},e}(),o=function(e,t,n){return null==n&&(n={}),new r(e,t,n)}}]),e.exports=r.name},,function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.loading-indicator",[]),r.directive("loadingIndicator",function(){return{template:'<div class="od-client--loading-indicator" ng-hide="hide || notfound || disabled"></div>',scope:{hide:"="},controller:["$scope","$state",function(e,t){return e.notfound=!1,e.disabled=!1,e.$on("$stateChangeSuccess",function(t,n){return"notfound"===n.name?e.notfound=!0:void 0}),e.$on("$stateNotFound",function(){return e.notfound=!0}),e.$on("event:auth-loginRequired",function(){return e.disabled=!0})}]}}),e.exports=r.name},function(e,t,n){var r,i=n(1);n(5),r=i.module("opendesk-routing",[n(12),n(41),n(42)]),r.config(["$locationProvider","$urlRouterProvider","$urlMatcherFactoryProvider","EnvironmentProvider",function(e,t,n,r){return n.strictMode(!1),e.html5Mode({enabled:r.location.html5mode(),requireBase:!0}),t.otherwise(function(e){return e.invoke(["NotFound",function(e){return e.go()}])})}]),r.run(["$rootScope","NotFound",function(e,t){return e.$on("$stateChangeError",function(e,n,r,i,o,a){return"undefined"!=typeof console&&null!==console&&null!=console.warn&&console.warn(e,n,r,i,o,a),t.go()})}]),e.exports=r.name},function(e,t){/**
	 * State-based routing for AngularJS
	 * @version v0.2.15
	 * @link http://angular-ui.github.com/
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */
"undefined"!=typeof e&&"undefined"!=typeof t&&e.exports===t&&(e.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return N(new(N(function(){},{prototype:e})),t)}function i(e){return R(arguments,function(t){t!==e&&R(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return R(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function u(e,t,n,r){var i,u=o(n,r),l={},c=[];for(var p in u)if(u[p].params&&(i=a(u[p].params),i.length))for(var d in i)s(c,i[d])>=0||(c.push(i[d]),l[i[d]]=e[i[d]]);return N({},l,t)}function l(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return R(e,function(e){n[e]=t[e]}),n}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return R(n,function(n){n in e&&(t[n]=e[n])}),t}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function f(e,t){var n=U(e),r=n?[]:{};return R(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function h(e,t){var n=U(e)?[]:{};return R(e,function(e,r){n[r]=t(e,r)}),n}function m(e,t){var r=1,o=2,u={},l=[],c=u,p=N(e.when(u),{$$promises:u,$$values:u});this.study=function(u){function f(e,n){if(y[n]!==o){if(v.push(n),y[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,D(e))g.push(n,[function(){return t.get(e)}],l);else{var i=t.annotate(e);R(i,function(e){e!==n&&u.hasOwnProperty(e)&&f(u[e],e)}),g.push(n,e,i)}v.pop(),y[n]=o}}function h(e){return j(e)&&e.then&&e.$$promises}if(!j(u))throw new Error("'invocables' must be an object");var m=a(u||{}),g=[],v=[],y={};return R(u,f),u=v=y=null,function(r,o,a){function s(){--b||(w||i($,o.$$values),v.$$values=$,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve($))}function u(e){v.$$failure=e,f.reject(e)}function l(n,i,o){function l(e){p.reject(e),u(e)}function c(){if(!F(v.$$failure))try{p.resolve(t.invoke(i,a,$)),p.promise.then(function(e){$[n]=e,s()},l)}catch(e){l(e)}}var p=e.defer(),d=0;R(o,function(e){y.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(d++,y[e].then(function(t){$[e]=t,--d||c()},l))}),d||c(),y[n]=p.promise}if(h(r)&&a===n&&(a=o,o=r,r=null),r){if(!j(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!h(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=p;var f=e.defer(),v=f.promise,y=v.$$promises={},$=N({},r),b=1+g.length/3,w=!1;if(F(o.$$failure))return u(o.$$failure),v;o.$$inheritedValues&&i($,d(o.$$inheritedValues,m)),N(y,o.$$promises),o.$$values?(w=i($,d(o.$$values,m)),v.$$inheritedValues=d(o.$$values,m),s()):(o.$$inheritedValues&&(v.$$inheritedValues=d(o.$$inheritedValues,m)),o.then(s,u));for(var x=0,k=g.length;k>x;x+=3)r.hasOwnProperty(g[x])?s():l(g[x],g[x+1],g[x+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function g(e,t,n){this.fromConfig=function(e,t,n){return F(e.template)?this.fromString(e.template,t):F(e.templateUrl)?this.fromUrl(e.templateUrl,t):F(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return I(e)?e(t):e},this.fromUrl=function(n,r){return I(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function v(e,t,i){function o(t,n,r,i){if(g.push(t),h[t])return h[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new q.Param(t,n,r,i),m[t]}function a(e,t,n,r){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function s(i,o){var a,s,u,l,c;return a=i[2]||i[3],c=t.params[a],u=e.substring(d,i.index),s=o?i[4]:i[4]||("*"==i[1]?".*":null),l=q.type(s||"string")||r(q.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)}),{id:a,regexp:s,segment:u,type:l,cfg:c}}t=N({params:{}},j(t)?t:{});var u,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p="^",d=0,f=this.segments=[],h=i?i.params:{},m=this.params=i?i.params.$$new():new q.ParamSet,g=[];this.source=e;for(var v,y,$;(u=l.exec(e))&&(v=s(u,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),p+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),f.push(v.segment),d=l.lastIndex;$=e.substring(d);var b=$.indexOf("?");if(b>=0){var w=this.sourceSearch=$.substring(b);if($=$.substring(0,b),this.sourcePath=e.substring(0,d+b),w.length>0)for(d=0;u=c.exec(w);)v=s(u,!0),y=o(v.id,v.type,v.cfg,"search"),d=l.lastIndex}else this.sourcePath=e,this.sourceSearch="";p+=a($)+(t.strict===!1?"/?":"")+"$",f.push($),this.regexp=new RegExp(p,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=g}function y(e){N(this,e)}function $(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(){return{strict:m,caseInsensitive:d}}function u(e){return I(e)||U(e)&&I(e[e.length-1])}function l(){for(;x.length;){var e=x.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(b[e.name],p.invoke(e.def))}}function c(e){N(this,e||{})}q=this;var p,d=!1,m=!0,g=!1,b={},w=!0,x=[],k={string:{encode:e,decode:i,is:function(e){return null==e||!F(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return F(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};$.$$getDefaultValue=function(e){if(!u(e.value))return e.value;if(!p)throw new Error("Injectable functions cannot be called at configuration time");return p.invoke(e.value)},this.caseInsensitive=function(e){return F(e)&&(d=e),d},this.strictMode=function(e){return F(e)&&(m=e),m},this.defaultSquashPolicy=function(e){if(!F(e))return g;if(e!==!0&&e!==!1&&!D(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return g=e,e},this.compile=function(e,t){return new v(e,N(o(),t))},this.isMatcher=function(e){if(!j(e))return!1;var t=!0;return R(v.prototype,function(n,r){I(n)&&(t=t&&F(e[r])&&I(e[r]))}),t},this.type=function(e,t,n){if(!F(t))return b[e];if(b.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return b[e]=new y(N({name:e},t)),n&&(x.push({name:e,def:n}),w||l()),this},R(k,function(e,t){b[t]=new y(N({name:t},e))}),b=r(b,{}),this.$get=["$injector",function(e){return p=e,w=!1,l(),R(k,function(e,t){b[t]||(b[t]=new y(e))}),this}],this.Param=function(e,t,r,i){function o(e){var t=j(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=u(e.value)?e.value:function(){return e.value},e}function l(t,n,r){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof y?t.type:new y(t.type):"config"===r?b.any:b.string}function c(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return N(t,n,r).array}function d(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!F(n)||null==n)return g;if(n===!0||D(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function m(e,t,r,i){var o,a,u=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return o=U(e.replace)?e.replace:[],D(i)&&o.push({from:i,to:n}),a=h(o,function(e){return e.from}),f(u,function(e){return-1===s(a,e.from)}).concat(o)}function v(){if(!p)throw new Error("Injectable functions cannot be called at configuration time");var e=p.invoke(r.$$fn);if(null!==e&&e!==n&&!x.type.is(e))throw new Error("Default value ("+e+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return e}function $(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(f(x.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),F(e)?x.type.$normalize(e):v()}function w(){return"{Param:"+e+" "+t+" squash: '"+C+"' optional: "+E+"}"}var x=this;r=o(r),t=l(r,t,i);var k=c();t=k?t.$asArray(k,"search"===i):t,"string"!==t.name||k||"path"!==i||r.value!==n||(r.value="");var E=r.value!==n,C=d(r,E),_=m(r,k,E,C);N(this,{id:e,type:t,location:i,array:k,squash:C,replace:_,isOptional:E,value:$,dynamic:n,config:r,toString:w})},c.prototype={$$new:function(){return r(this,N(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=a(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),R(t,function(t){R(a(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return R(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return R(r.$$keys(),function(i){var o=e&&e[i],a=t&&t[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var r,i,o,a,s,u=this.$$keys();for(r=0;r<u.length&&(i=this[u[r]],o=e[u[r]],o!==n&&null!==o||!i.isOptional);r++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(s=i.type.encode(a),t.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function b(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return F(r)?r:!0}function s(r,i,o,a){function s(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function d(e){function t(e){var t=e(o,r);return t?(D(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){h&&r.url()===h;h=n;var i,a=l.length;for(i=0;a>i;i++)if(t(l[i]))return;c&&t(c)}}function f(){return u=u||i.$on("$locationChangeSuccess",d)}var h,m=a.baseHref(),g=r.url();return p||f(),{sync:function(){d()},listen:function(){return f()},update:function(e){return e?void(g=r.url()):void(r.url()!==g&&(r.url(g),r.replace()))},push:function(e,t,i){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),r.url(o),h=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var u=n.format(i);if(o=o||{},a||null===u||(u="#"+e.hashPrefix()+u),null!==u&&i&&i["#"]&&(u+="#"+i["#"]),u=s(u,a,o.absolute),!o.absolute||!u)return u;var l=!a&&u?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,l,u].join("")}}}var u,l=[],c=null,p=!1;this.rule=function(e){if(!I(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(D(e)){var t=e;e=function(){return t}}else if(!I(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=D(t);if(D(e)&&(e=r.compile(e)),!s&&!I(t)&&!U(t))throw new Error("invalid 'handler' in when()");var u={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),N(function(n,r){return a(n,t,e.exec(r.path(),r.search()))},{prefix:D(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),N(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:i(e)})}},l={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in l)if(l[c])return this.rule(u[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),p=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function w(e,i){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var r=D(e),i=r?e:e.name,a=o(i);if(a){if(!t)throw new Error("No reference point given for path '"+i+"'");t=d(t);for(var s=i.split("."),u=0,l=s.length,c=t;l>u;u++)if(""!==s[u]||0!==u){if("^"!==s[u])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(u).join("."),i=c.name+(c.name&&s?".":"")+s}var p=C[i];return!p||!r&&(r||p!==e&&p.self!==e)?n:p}function f(e,t){_[e]||(_[e]=[]),_[e].push(t)}function m(e){for(var t=_[e]||[];t.length;)g(t.shift())}function g(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!D(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(C.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):D(t.parent)?t.parent:j(t.parent)&&D(t.parent.name)?t.parent.name:"";if(i&&!C[i])return f(i,t.self);for(var o in A)I(A[o])&&(t[o]=A[o](t,A.$delegates[o]));return C[n]=t,!t[S]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){E.$current.navigable==t&&l(e,n)||E.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function v(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),n=E.$current.name.split("."),r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function $(e,t){return D(e)&&!F(t)?A[e]:I(t)&&D(e)?(A[e]&&!A.$delegates[e]&&(A.$delegates[e]=A[e]),A[e]=t,this):this}function b(e,t){return j(e)?t=e:t.name=e,g(t),this}function w(e,i,o,s,p,f,m,g,$){function b(t,n,r,o){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return m.update(),P;if(!a.retry)return null;if(o.$retry)return m.update(),O;var s=E.transition=i.when(a.retry);return s.then(function(){return s!==E.transition?_:(t.options.$retry=!0,E.transitionTo(t.to,t.toParams,t.options))},function(){return P}),m.update(),s}function w(e,n,r,a,u,l){function d(){var n=[];return R(e.views,function(r,i){var a=r.resolve&&r.resolve!==e.resolve?r.resolve:{};a.$template=[function(){return o.load(i,{view:r,locals:u.globals,params:f,notify:l.notify})||""}],n.push(p.resolve(a,u.globals,u.resolve,e).then(function(n){if(I(r.controllerProvider)||U(r.controllerProvider)){var o=t.extend({},a,u.globals);n.$$controller=s.invoke(r.controllerProvider,null,o)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,u[i]=n}))}),i.all(n).then(function(){return u.globals})}var f=r?n:c(e.params.$$keys(),n),h={$stateParams:f};u.resolve=p.resolve(e.resolve,h,u.resolve,e);var m=[u.resolve.then(function(e){u.globals=e})];return a&&m.push(a),i.all(m).then(d).then(function(e){return u})}var _=i.reject(new Error("transition superseded")),A=i.reject(new Error("transition prevented")),P=i.reject(new Error("transition aborted")),O=i.reject(new Error("transition failed"));return k.locals={resolve:null,globals:{$stateParams:{}}},E={params:{},current:k.self,$current:k,transition:null},E.reload=function(e){return E.transitionTo(E.current,f,{reload:e||!0,inherit:!1,notify:!0})},E.go=function(e,t,n){return E.transitionTo(e,t,N({inherit:!0,relative:E.$current},n))},E.transitionTo=function(t,n,o){n=n||{},o=N({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,l=E.$current,p=E.params,h=l.path,g=d(t,o.relative),v=n["#"];if(!F(g)){var y={to:t,toParams:n,options:o},$=b(y,l.self,p,o);if($)return $;if(t=y.to,n=y.toParams,o=y.options,g=d(t,o.relative),!F(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[S])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=u(f,n||{},E.$current,g)),!g.params.$$validates(n))return O;n=g.params.$$values(n),t=g;var C=t.path,P=0,T=C[P],M=k.locals,I=[];if(o.reload){if(D(o.reload)||j(o.reload)){if(j(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var U=o.reload===!0?h[0]:d(o.reload);if(o.reload&&!U)throw new Error("No such reload state '"+(D(o.reload)?o.reload:o.reload.name)+"'");for(;T&&T===h[P]&&T!==U;)M=I[P]=T.locals,P++,T=C[P]}}else for(;T&&T===h[P]&&T.ownParams.$$equals(n,p);)M=I[P]=T.locals,P++,T=C[P];if(x(t,n,l,p,M,o))return v&&(n["#"]=v),E.params=n,L(E.params,f),o.location&&t.navigable&&t.navigable.url&&(m.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),m.update(!0)),E.transition=null,i.when(E.current);if(n=c(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,l.self,p).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,l.self,p),m.update(),A;for(var R=i.when(M),q=P;q<C.length;q++,T=C[q])M=I[q]=r(M),R=w(T,n,T===t,R,M,o);var B=E.transition=R.then(function(){var r,i,a;if(E.transition!==B)return _;for(r=h.length-1;r>=P;r--)a=h[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=P;r<C.length;r++)i=C[r],i.locals=I[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return v&&(n["#"]=v),E.transition!==B?_:(E.$current=t,E.current=t.self,E.params=n,L(E.params,f),E.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,p),m.update(!0),E.current)},function(r){return E.transition!==B?_:(E.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,l.self,p,r),a.defaultPrevented||m.update(),i.reject(r))});return B},E.is=function(e,t,r){r=N({relative:E.$current},r||{});var i=d(e,r.relative);return F(i)?E.$current!==i?!1:t?l(i.params.$$values(t),f):!0:n},E.includes=function(e,t,r){if(r=N({relative:E.$current},r||{}),D(e)&&v(e)){if(!y(e))return!1;e=E.$current.name}var i=d(e,r.relative);return F(i)?F(E.$current.includes[i.name])?t?l(i.params.$$values(t),f,a(t)):!0:!1:n},E.href=function(e,t,r){r=N({lossy:!0,inherit:!0,absolute:!1,relative:E.$current},r||{});var i=d(e,r.relative);if(!F(i))return null;r.inherit&&(t=u(f,t||{},E.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?m.href(o.url,c(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},E.get=function(e,t){if(0===arguments.length)return h(a(C),function(e){return C[e].self});var n=d(e,t||E.$current);return n&&n.self?n.self:null},E}function x(e,t,n,r,i,o){function a(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),o=p.apply({},[e.params].concat(i)),a=new q.ParamSet(o);return a.$$equals(t,n)}return!o.reload&&e===n&&(i===n.locals||e.self.reloadOnSearch===!1&&a(n,r,t))?!0:void 0}var k,E,C={},_={},S="abstract",A={parent:function(e){if(F(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):k},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=N({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(D(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||k).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new q.ParamSet;return R(e.params||{},function(e,n){t[n]||(t[n]=new q.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?N(e.parent.params.$$new(),e.ownParams):new q.ParamSet},views:function(e){var t={};return R(F(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?N({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};k=g({name:"",url:"^",views:null,"abstract":!0}),k.navigable=null,this.decorator=$,this.state=b,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function e(e,t){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=N(o,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function k(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function E(e,n,r,i){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,t,n){var r=l.enter(e,null,t,n);r&&r.then&&r.then(n)},leave:function(e,t){var n=l.leave(e,t);n&&n.then&&n.then(t)}};if(u){var r=u&&u(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var s=o(),u=s("$animator"),l=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,u){function l(){p&&(p.remove(),p=null),f&&(f.$destroy(),f=null),d&&(v.leave(d,function(){p=null}),p=d,d=null)}function c(a){var c,p=_(n,u,o,i),y=p&&e.$current&&e.$current.locals[p];if(a||y!==h){c=n.$new(),h=e.$current.locals[p];var $=s(c,function(e){v.enter(e,o,function(){f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&r(e)}),l()});d=$,f=c,f.$emit("$viewContentLoaded"),f.$eval(m)}}var p,d,f,h,m=u.onload||"",g=u.autoscroll,v=a(u,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function C(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var u=n.$current,l=_(i,s,a,r),c=u&&u.locals[l];if(c){a.data("$uiView",{name:l,state:c.$$state}),a.html(c.$template?c.$template:o);var p=e(a.contents());if(c.$$controller){c.$scope=i,c.$element=a;var d=t(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=d),a.data("$ngControllerController",d),a.children().data("$ngControllerController",d)}p(i)}}}}}function _(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function S(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function A(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function P(e,n){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){var u=S(a.uiSref,e.current.name),l=null,c=A(o)||e.$current,p="[object SVGAnimatedString]"===Object.prototype.toString.call(o.prop("href"))?"xlink:href":"href",d=null,f="A"===o.prop("tagName").toUpperCase(),h="FORM"===o[0].nodeName,m=h?"action":p,g=!0,v={relative:c,inherit:!0},y=i.$eval(a.uiSrefOpts)||{};t.forEach(r,function(e){e in y&&(v[e]=y[e])});var $=function(n){if(n&&(l=t.copy(n)),g){d=e.href(u.state,l,v);var r=s[1]||s[0];return r&&r.$$addStateInfo(u.state,l),null===d?(g=!1,!1):void a.$set(m,d)}};u.paramExpr&&(i.$watch(u.paramExpr,function(e,t){e!==l&&$(e)},!0),l=t.copy(i.$eval(u.paramExpr))),$(),h||o.bind("click",function(t){var r=t.which||t.button;if(!(r>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var i=n(function(){e.go(u.state,l,v)});t.preventDefault();var a=f&&!d?1:0;t.preventDefault=function(){a--<=0&&n.cancel(i)}}})}}}function O(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,i){function o(){a()?r.addClass(u):r.removeClass(u)}function a(){for(var e=0;e<l.length;e++)if(s(l[e].state,l[e].params))return!0;return!1}function s(t,n){return"undefined"!=typeof i.uiSrefActiveEq?e.is(t.name,n):e.includes(t.name,n)}var u,l=[];u=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$addStateInfo=function(t,n){var i=e.get(t,A(r));l.push({state:i||{name:t},params:n}),o()},t.$on("$stateChangeSuccess",o)}]}}function T(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function M(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var F=t.isDefined,I=t.isFunction,D=t.isString,j=t.isObject,U=t.isArray,R=t.forEach,N=t.extend,L=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),g.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",g);var q;v.prototype.concat=function(e,t){var n={caseInsensitive:q.caseInsensitive(),strict:q.strictMode(),squash:q.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,N(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),i=h(r,t);return h(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,o,a,s=this.parameters(),u=s.length,l=this.segments.length-1,c={};if(l!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;l>i;i++){a=s[i];var p=this.params[a],d=r[i+1];for(o=0;o<p.replace;o++)p.replace[o].from===d&&(d=p.replace[o].to);d&&p.array===!0&&(d=n(d)),c[a]=p.value(d)}for(;u>i;i++)a=s[i],c[a]=this.params[a].value(t[a]);return c},v.prototype.parameters=function(e){return F(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,u=r.length,l=n[0];for(o=0;u>o;o++){var c=s>o,p=r[o],d=i[p],f=d.value(e[p]),m=d.isOptional&&d.type.equals(d.value(),f),g=m?d.squash:!1,v=d.type.encode(f);if(c){var y=n[o+1];if(g===!1)null!=v&&(l+=U(v)?h(v,t).join("-"):encodeURIComponent(v)),l+=y;else if(g===!0){var $=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=y.match($)[1]}else D(g)&&(l+=g+y)}else{if(null==v||m&&g!==!1)continue;U(v)||(v=[v]),v=h(v,encodeURIComponent).join("&"+p+"="),l+=(a?"&":"?")+(p+"="+v),a=!0}}return l},y.prototype.is=function(e,t){return!0},y.prototype.encode=function(e,t){return e},y.prototype.decode=function(e,t){return e},y.prototype.equals=function(e,t){return e==t},y.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},y.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return U(e)?e:F(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){n=i(n);var r=h(n,e);return t===!0?0===f(r,a).length:o(r)}}function u(e){return function(t,n){var r=i(t),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],o[a]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=u(r(e,"equals")),this.pattern=e.pattern,this.$normalize=s(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",$),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",b),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",w),x.$inject=[],t.module("ui.router.state").provider("$view",x),t.module("ui.router.state").provider("$uiViewScroll",k),E.$inject=["$state","$injector","$uiViewScroll","$interpolate"],C.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",E),t.module("ui.router.state").directive("uiView",C),P.$inject=["$state","$timeout"],O.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",P).directive("uiSrefActive",O).directive("uiSrefActiveEq",O),T.$inject=["$state"],M.$inject=["$state"],t.module("ui.router.state").filter("isState",T).filter("includedByState",M)}(window,window.angular)},function(e,t,n){var r,i,o=n(1);i=o.module("opendesk.marketplace.notfound",[n(43),n(41)]),r="notfound",i.config(["$stateProvider",function(e){var t;return t={url:"/notfound",views:{main:{controller:"NotFoundCtrl",template:n(45)}}},e.state(r,t)}]),i.controller("NotFoundCtrl",["$scope","titleService",function(e,t){return t.setTitle("Not Found")}]),i.service("NotFound",["$state",function(e){return{go:function(){return e.go(r,{},{location:!1})},isActive:function(e){return e.name===r}}}]),e.exports=i.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.title-service",[]),r.factory("titleService",["$document",function(e){var t,n;return t=n="",{setPrefix:function(e){return t=e},getPrefix:function(){return t},setTitle:function(r){return n=""!==t?t+r:r,e.prop("title",n)},getTitle:function(){return e.prop("title")}}}]),e.exports=r.name},function(e,t){var n='<div ng-controller="AuthController"> <div class="intercept-auth"> <section id="auth-intercept"> <div data-block="auth-intercept"> <div class="container"> <header class="header-strap expanded"> <div class="header-strap-actions" ng-hide="$state.current.allow_auth_close == false"> <div class="calls-to-action"> <a class="btn btn-lg btn-tertiary call-to-action-button" ng-click="auth_close()"> &laquo; Go back</a> </div> </div> <div class="header-strap-titles"> <div class="title"> <span class="highlight"> Authentication</span>\n<span class="no-wrap"> required</span> </div> <div class="sub-title"> <span ng-repeat="err in auth_errors" ng-show="auth_errors"> {{ err.description }} </span>\n<span ng-hide="auth_errors"> Please log in or sign up to create an account » </span> </div> </div> </header> </div> <div class="form-page"> <div class="container"> <div class="row"> <div class="col-sm-6"> <form name="login_form" ng-submit="auth_login()" novalidate> <legend>Log In</legend> <div form-group label="Email:"> <div ng-class="{ \'has-error\': reset_password_error }"> <input type="email" name="email" ng-model="auth_login_data.email" class="form-control" placeholder="you@domain.com" ng-disabled="reset_password_requested" pick-up-auto-fill required/>\n<span class="help-block" ng-show="reset_password_error"> {{ reset_password_error }} </span> </div> <span class="help-block" ng-show="reset_password_requested"> Please check your email &mdash; we will send you a link to reset your password. </span> </div> <div form-group label="Password:" unsafe-label="true"> <input type="password" name="password" ng-model="auth_login_data.password" class="form-control" password pick-up-auto-fill required/> </div> <div class="form-actions"> <button type="submit" class="btn btn-block" ng-disabled="login_form.$invalid"> Log in &raquo;</button> <p> <div ng-if="!reset_password_requested" ng-class="{error: reset_password_error}"> <button type="button" class="btn btn-info btn-sm" ng-click="auth_forgot()" ng-disabled="!auth_login_data.email" ng-hide="auth_login_data.password"> Forgot password? </button> </div> </p> </div> </form> </div> <div class="col-sm-6"> <form name="signup_form" ng-submit="auth_signup()"> <legend>Sign Up</legend> <div form-group label="Your name:"> <input type="text" name="name" ng-model="auth_signup_data.name" class="form-control" placeholder="Firstname Lastname" pick-up-auto-fill required/> </div> <div form-group label="Email:"> <input type="email" name="email" ng-model="auth_signup_data.email" class="form-control" placeholder="you@domain.com" pick-up-auto-fill required/>\n<span class="help-block"> For notifications. </span> </div> <div form-group label="Password:"> <input type="password" name="password" ng-model="auth_signup_data.password" class="form-control" password pick-up-auto-fill required/>\n<span class="help-block"> At least 8 characters. </span> </div> <div class="form-actions"> <button type="submit" class="btn btn-block" ng-disabled="signup_form.$invalid"> Sign up &raquo;</button> </div> </form> </div> </div> </div> </div> </div> </section> <section id="auth-wrapped"> <div data-block="content"></div> </section> </div> </div>';
window.angular.module(["ng"]).run(["$templateCache",function(e){e.put("common/app.tpl.html",n)}]),e.exports=n},function(e,t){var n='<div data-extend-template="common/app.tpl.html"> <div data-block="content"> <div class="container"> <header class="header-strap"> <div class="header-strap-titles"> <ul class="nav nav-pills pull-right hidden-xs"> <li> <a href="javascript: history.back();"> &laquo; Go back</a> </li> </ul> <div class="title"> 404\n<span class="no-wrap highlight"> Not Found </span> </div> </div> <div class="header-strap-navs visible-xs"> <ul class="nav nav-pills nav-grouped sm-right"> <li class="xs-col-12"> <a href="javascript: history.back();"> &laquo; Go back</a> </li> </ul> </div> </header> </div> <div class="container"> <div class="row"> <div class="col-sm-12"> <div style="position: absolute"> <p> The resource you\'ve navigated to can\'t be found. <br/> You may want to go back, or check the URL. </p> </div> <div class="angular-404-image"></div> </div> </div> </div> </div> </div>';window.angular.module(["ng"]).run(["$templateCache",function(e){e.put("common/notfound/notfound.tpl.html",n)}]),e.exports=n},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.app",[n(47),n(8),n(41)]),r.controller("AppCtrl",["$scope","$rootScope","$sce","$state","$stateParams","$window","userService","filePickerService",function(e,t,n,r,i,o,a,s){var u;return e.$state=r,e.$stateParams=i,t.filepicker={cached_url:function(e){return s.cached_url(e)}},e.$on("event:user-changed",function(e,n){var r;return t.user=n,r=o.analytics,null!=r&&null!=n&&null!=n.id&&n.id?r.identify(n.id):void 0}),e.$on("event:wants-changed",function(e,n){return t.wants=n}),u=!0,t.$on("$stateChangeSuccess",function(e,t,n,r,i,a){var s;return u||(null!=o.ga&&o.ga("send","pageview",location.pathname),s=o.analytics,null!=s&&s.page()),u?u=!1:void 0}),a.identify()}]),e.exports=r.name},function(e,t,n){var r,i,o=n(1);r=n(48),i=o.module("opendesk.common.filePicker",[n(12),n(4)]),i.run(["Environment",function(e){return r.setKey(e.get("fabbed.filepicker.key"))}]),i.factory("filePickerService",["$window","$sce","Environment",function(e,t,n){var i,o,a,s,u;return u=n.get("fabbed.filepicker"),a=function(e){return e},i=u.base_domain,o=u.cdn_domain,i&&o&&(a=function(e){return e.replace(i,o)}),s={api:r,cached_url:function(e){return t.trustAsUrl(a(e))}}}]),i.directive("input",["filePickerService","$window",function(e,t){return{restrict:"E",require:"?ngModel",link:function(t,n,r,i){return i&&"filepicker-dragdrop"===r.type?(e.api.constructWidget(n),t.$on("filepicker-reset",function(){var e;return e=o.element(".form-control div span",n.parent()),o.forEach(e,function(e){return e.click()})}),n.bind("change",function(e){var r;return r=e.originalEvent?e.originalEvent:e,t.$apply(function(){return i.$setViewValue(r.fpfiles),t.$emit("fpfiles-changed",n,r.fpfiles)})})):void 0}}}]),e.exports=i.name},function(e,t,n){n(49),e.exports=filepicker},function(module,exports){var define=!1;!function(){var e=function(){var e={},t=function(t,n,r){for(var i=t.split("."),o=0;o<i.length-1;o++)r[i[o]]||(r[i[o]]={}),r=r[i[o]];"function"==typeof n?n.isClass?r[i[o]]=n:r[i[o]]=function(){return n.apply(e,arguments)}:r[i[o]]=n},n=function(n,r,i){t(n,r,e),i&&t(n,r,window.filepicker)},r=function(t,r,i){"function"==typeof t&&(i=r,r=t,t=""),t&&(t+=".");var o=r.call(e);for(var a in o)n(t+a,o[a],i)},i=function(t){t.apply(e,arguments)};return{extend:r,internal:i}}();if(window.filepicker)for(var t in e)window.filepicker[t]=e[t];else window.filepicker=e}(),filepicker.extend("comm",function(){var e=this,t="filepicker_comm_iframe",n="fpapi_comm_iframe",r=function(){if(void 0===window.frames[t]){a();var r;r=document.createElement("iframe"),r.id=r.name=t,r.src=e.urls.COMM,r.style.display="none",document.body.appendChild(r)}if(void 0===window.frames[n]){a();var i;i=document.createElement("iframe"),i.id=i.name=n,i.src=e.urls.API_COMM,i.style.display="none",document.body.appendChild(i)}},i=function(t){if(t.origin===e.urls.BASE||t.origin===e.urls.DIALOG_BASE){var n=e.json.parse(t.data);e.handlers.run(n)}},o=!1,a=function(){if(!o)if(o=!0,window.addEventListener)window.addEventListener("message",i,!1);else{if(!window.attachEvent)throw new e.FilepickerException("Unsupported browser");window.attachEvent("onmessage",i)}},s=function(){if(window.removeEventListener)window.removeEventListener("message",i,!1);else{if(!window.attachEvent)throw new e.FilepickerException("Unsupported browser");window.detachEvent("onmessage",i)}if(o){o=!1;for(var r=document.getElementsByName(t),a=0;a<r.length;a++)r[a].parentNode.removeChild(r[a]);try{delete window.frames[t]}catch(s){}for(var u=document.getElementsByName(n),l=0;l<u.length;l++)u[l].parentNode.removeChild(u[l]);try{delete window.frames[n]}catch(s){}}};return{openChannel:r,closeChannel:s}}),filepicker.extend("comm_fallback",function(){var e,t,n=this,r="filepicker_comm_iframe",i="host_comm_iframe",o="",a=200,s=function(){u()},u=function(){if(void 0===window.frames[i]){var e;e=document.createElement("iframe"),e.id=e.name=i,o=e.src=n.urls.constructHostCommFallback(),e.style.display="none";var t=function(){o=e.contentWindow.location.href,l()};e.attachEvent?e.attachEvent("onload",t):e.onload=t,document.body.appendChild(e)}},l=function(){if(void 0===window.frames[r]){var e;e=document.createElement("iframe"),e.id=e.name=r,e.src=n.urls.FP_COMM_FALLBACK+"?host_url="+encodeURIComponent(o),e.style.display="none",document.body.appendChild(e)}f()},c=!1,p="",d=function(){var e=window.frames[r];if(e){var t=e.frames[i];if(t){var o=t.location.hash;if(o&&"#"===o.charAt(0)&&(o=o.substr(1)),o!==p&&(p=o)){var a;try{a=n.json.parse(o)}catch(s){}a&&n.handlers.run(a)}}}},f=function(){c||(c=!0,e=window.setInterval(d,a))},h=function(){if(window.clearInterval(e),c){c=!1;for(var t=document.getElementsByName(r),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);try{delete window.frames[r]}catch(o){}for(t=document.getElementsByName(i),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);try{delete window.frames[i]}catch(o){}}},m=!("postMessage"in window),g=function(){t=n.comm,n.comm={openChannel:s,closeChannel:h}};return m&&g(),{openChannel:s,closeChannel:h,isEnabled:m}}),filepicker.extend("cookies",function(){var e=this,t=function(t){var n=function(n){"ThirdPartyCookies"===n.type&&(e.cookies.THIRD_PARTY_COOKIES=!!n.payload,t&&"function"==typeof t&&t(!!n.payload))};return n},n=function(n){var r=t(n);e.handlers.attach("cookies",r),e.comm.openChannel()};return{checkThirdParty:n}}),filepicker.extend("handlers",function(){var e={},t=function(t,n){return e.hasOwnProperty(t)?e[t].push(n):e[t]=[n],n},n=function(t,n){var r=e[t];if(r)if(n){for(var i=0;i<r.length;i++)if(r[i]===n){r.splice(i,1);break}0===r.length&&delete e[t]}else delete e[t]},r=function(t){var n=t.id;if(e.hasOwnProperty(n)){for(var r=e[n],i=0;i<r.length;i++)r[i](t);return!0}return!1};return{attach:t,detach:n,run:r}}),filepicker.extend("exporter",function(){var e=this,t=function(t){var n=function(n,r,i){t[r]&&!e.util.isArray(t[r])?t[r]=[t[r]]:t[n]?t[r]=[t[n]]:i&&(t[r]=i)};if(t.mimetype&&t.extension)throw e.FilepickerException("Error: Cannot pass in both mimetype and extension parameters to the export function");if(n("service","services"),t.services)for(var r=0;r<t.services.length;r++){var i=(""+t.services[r]).replace(" ",""),o=e.services[i];t.services[r]=void 0===o?i:o}t.openTo&&(t.openTo=e.services[t.openTo]||t.openTo),e.util.setDefault(t,"container",e.browser.isMobile?"window":"modal")},n=function(t,n){var r=function(r){if("filepickerUrl"===r.type){if(r.error)e.util.console.error(r.error),n(e.errors.FPError(132));else{var i={};i.url=r.payload.url,i.filename=r.payload.data.filename,i.mimetype=r.payload.data.type,i.size=r.payload.data.size,i.client=r.payload.data.client,i.isWriteable=!0,t(i)}e.modal.close()}};return r},r=function(i,o,a,s){if(t(o),o.debug)return void setTimeout(function(){a({id:1,url:"https://www.filepicker.io/api/file/-nBq2onTSemLBxlcBWn1",filename:"test.png",mimetype:"image/png",size:58979,client:"computer"})},1);if(void 0===e.cookies.THIRD_PARTY_COOKIES){var u=!1;return void e.cookies.checkThirdParty(function(){u||(r(i,o,a,s),u=!0)})}var l=e.util.getId(),c=!1,p=function(e){c=!0,a(e)},d=function(e){c=!0,s(e)},f=function(){c||(c=!0,s(e.errors.FPError(131)))};e.window.open(o.container,e.urls.constructExportUrl(i,o,l),f),e.handlers.attach(l,n(p,d))};return{createExporter:r}}),filepicker.extend("modal",function(){function e(){var e=document.getElementById(o);e&&(e.hidden=!0);var n=document.getElementById(a);n&&(n.hidden=!0),t()}function t(){var e=r();e&&(e.style.overflow=u)}function n(){var e=".fp__overlay {top: 0;right: 0;bottom: 0;left: 0;z-index: 1000;background: rgba(0, 0, 0, 0.8);}.fp__close {top: 104px; right: 108px; width: 35px; height: 35px; z-index: 20; cursor: pointer}@media screen and (max-width: 768px), screen and (max-height: 500px) {.fp__close {top: 15px; right: 12px;}}.fp__close a {text-indent: -9999px; overflow: hidden; display: block; width: 100%; height: 100%; background: url(https://d1zyh3sbxittvg.cloudfront.net/close.png) 50% 50% no-repeat;}.fp__close a:hover {background-color: rgba(0,0,0, .02); opacity: .8;}@media screen and (max-width: 768px), screen and (max-height: 500px) {top: 14px; right: 14px;}.fp__copy {display: none;}.fp__container {-webkit-overflow-scrolling: touch; overflow: hidden; min-height: 300px; top: 100px;right: 100px;bottom: 100px;left: 100px;background: #eee; box-sizing:content-box; -webkit-box-sizing:content-box; -moz-box-sizing:content-box;}@media screen and (max-width: 768px), screen and (max-height: 500px) {.fp__copy {bottom: 0; left: 0; right: 0; height: 20px; background: #333;}}@media screen and (max-width: 768px), screen and (max-height: 500px) {.fp__copy a {margin-left: 5px;}}@media screen and (max-width: 768px), screen and (max-height: 500px) {.fp__container {top: 0;right: 0;bottom: 0;left: 0;}}.fp__overlay, .fp__close, .fp__copy, .fp__container {position: fixed;}",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}function r(){try{return document.getElementsByTagName("html")[0]}catch(e){return null}}var i=this,o="filepicker_shade",a="filepicker_dialog_container",s=r();if(s)var u=s.style.overflow;var l=function(e,t){n();var o=c(t),a=p(),s=d(t),u=document.createElement("iframe");u.name=i.window.WINDOW_NAME,u.id=i.window.WINDOW_NAME,u.style.width="100%",u.style.height="100%",u.style.border="none",u.style.position="relative",u.setAttribute("border",0),u.setAttribute("frameborder",0),u.setAttribute("frameBorder",0),u.setAttribute("marginwidth",0),u.setAttribute("marginheight",0),u.src=e,a.appendChild(u),o.appendChild(s),o.appendChild(a),document.body.appendChild(o);var l=r();return l&&(l.style.overflow="hidden"),u},c=function(e){var t=document.createElement("div");return t.id=o,t.className="fp__overlay",t.onclick=f(e),t},p=function(){var e=document.createElement("div");return e.id=a,e.className="fp__container",e},d=function(e){var t=document.createElement("div");t.className="fp__close";var n=document.createElement("a");return n.appendChild(document.createTextNode("X")),t.appendChild(n),n.onclick=f(e),document.onkeydown=function(t){t=t||window.event,27===t.keyCode&&f(e)()},t},f=function(e,n){return n=!!n,function(){if(!i.uploading||n||window.confirm('You are currently uploading. If you choose "OK", the window will close and your upload will not finish. Do you want to stop uploading and close the window?')){i.uploading=!1,document.onkeydown=null,t();var r=document.getElementById(o);r&&document.body.removeChild(r);var s=document.getElementById(a);s&&document.body.removeChild(s);try{delete window.frames[i.window.WINDOW_NAME]}catch(u){}e&&e()}}},h=f(function(){});return{generate:l,close:h,hide:e}}),filepicker.extend("picker",function(){function e(e,n){if("filepickerProgress"===e.type)t.uploading=!0,n&&n(e.payload.data);else if("notUploading"===e.type)t.uploading=!1;else if("closeModal"===e.type)t.modal.close();else if("hideModal"===e.type)t.modal.hide();else if("filepickerUrl"===e.type)return!1;return!0}var t=this,n=function(e){var n=function(n,r,i){e[r]?t.util.isArray(e[r])||(e[r]=[e[r]]):e[n]?e[r]=[e[n]]:i&&(e[r]=i)};if(n("service","services"),n("mimetype","mimetypes"),n("extension","extensions"),e.services)for(var r=0;r<e.services.length;r++){var i=(""+e.services[r]).replace(" ","");void 0!==t.services[i]&&(i=t.services[i]),e.services[r]=i}if(e.mimetypes&&e.extensions)throw t.FilepickerException("Error: Cannot pass in both mimetype and extension parameters to the pick function");e.mimetypes||e.extensions||(e.mimetypes=["*/*"]),e.openTo&&(e.openTo=t.services[e.openTo]||e.openTo),t.util.setDefault(e,"container",t.browser.isMobile?"window":"modal")},r=function(n,r,i){var o=function(o){if(!e(o,i)){if(t.uploading=!1,o.error)t.util.console.error(o.error),r(t.errors.FPError(102));else{var a=s(o.payload);n(a)}t.modal.close()}};return o},i=function(n,r,i){var o=function(o){e(o,i)||(t.uploading=!1,o.error?(t.util.console.error(o.error),r(t.errors.FPError(102))):(o.payload.data.url=o.payload.url,n(o.payload.data)),t.modal.close())};return o},o=function(e){e=e||function(){};var n=function(n){"uploading"===n.type&&(t.uploading=!!n.payload,e(t.uploading))};return n},a=function(e,t,n){e[n]&&(t[n]=e[n])},s=function(e){var t={},n=e.url;n&&n.url&&(n=n.url),t.url=n;var r=e.url.data||e.data;return t.filename=r.filename,t.mimetype=r.type,t.size=r.size,a(r,t,"id"),a(r,t,"key"),a(r,t,"container"),a(r,t,"path"),a(r,t,"client"),t.isWriteable=!0,t},u=function(n,r,i){var o=function(o){if(!e(o,i)){if(t.uploading=!1,o.error)t.util.console.error(o.error),r(t.errors.FPError(102));else{var a=[];t.util.isArray(o.payload)||(o.payload=[o.payload]);for(var u=0;u<o.payload.length;u++){var l=s(o.payload[u]);a.push(l)}n(a)}t.modal.close()}};return o},l=function(e,a,s,c,p,d,f){if(n(e),e.debug){var h,m={id:1,url:"https://www.filepicker.io/api/file/-nBq2onTSemLBxlcBWn1",filename:"test.png",mimetype:"image/png",size:58979,client:"computer"};return h=c||e.storeLocation?[m,m,m]:m,void setTimeout(function(){a(h)},1)}if(void 0===t.cookies.THIRD_PARTY_COOKIES){var g=!1;return void t.cookies.checkThirdParty(function(){g||(l(e,a,s,!!c,p,d),g=!0)})}var v,y,$=t.util.getId(),b=!1,w=function(t){"window"===e.container&&(window.onbeforeunload=null),b=!0,a(t)},x=function(e){b=!0,s(e)},k=function(){b||(b=!0,s(t.errors.FPError(101)))};f?(v=t.urls.constructConvertUrl(e,$),y=r(w,x,d)):c?(v=t.urls.constructPickUrl(e,$,!0),y=u(w,x,d)):p?(v=t.urls.constructPickFolderUrl(e,$),y=i(w,x,d)):(v=t.urls.constructPickUrl(e,$,!1),y=r(w,x,d)),t.window.open(e.container,v,k),t.handlers.attach($,y);var E=$+"-upload";t.handlers.attach(E,o(function(){t.handlers.detach(E)}))};return{createPicker:l}}),filepicker.extend("window",function(){var e=this,t="filepicker_dialog",n="left=100,top=100,height=600,width=800,menubar=no,toolbar=no,location=no,personalbar=no,status=no,resizable=yes,scrollbars=yes,dependent=yes,dialog=yes",r=100,i=function(i,o,a){a=a||function(){};var s=e.browser.isIOS()||e.browser.isAndroid();if(!i&&s?i="window":i||(i="modal"),"window"===i){var u=t+e.util.getId();window.onbeforeunload=function(){return"Filepicker upload does not complete."};var l=window.open(o,u,n);l||(window.onbeforeunload=null,window.alert("Please disable your popup blocker to upload files."));var c=window.setInterval(function(){(!l||l.closed)&&(window.onbeforeunload=null,window.clearInterval(c),a())},r)}else if("modal"===i)e.modal.generate(o,a);else{var p=document.getElementById(i);if(!p)throw new e.FilepickerException('Container "'+i+'" not found. This should either be set to "window","modal", or the ID of an iframe that is currently in the document.');p.src=o}};return{open:i,WINDOW_NAME:t}}),filepicker.extend("conversions",function(){var e=this,t={align:"string",blurAmount:"number",crop:"string or array",crop_first:"boolean",compress:"boolean",exif:"string or boolean",filter:"string",fit:"string",format:"string",height:"number",policy:"string",quality:"number",page:"number",rotate:"string or number",secure:"boolean",sharpenAmount:"number",signature:"string",storeAccess:"string",storeContainer:"string",storeLocation:"string",storePath:"string",text:"string",text_align:"string",text_color:"string",text_font:"string",text_padding:"number",text_size:"number",watermark:"string",watermark_position:"string",watermark_size:"number",width:"number"},n={w:"width",h:"height"},r=function(e){var r={};for(var i in e)r[n[i]||i]=e[i],"number"===t[n[i]||i]&&(r[n[i]||i]=Number(e[i]));return r},i=function(n){var r;for(var i in n){r=!1;for(var o in t)if(i===o&&(r=!0,-1===t[o].indexOf(e.util.typeOf(n[i]))))throw new e.FilepickerException("Conversion parameter "+i+" is not the right type: "+n[i]+". Should be a "+t[o]);if(!r)throw new e.FilepickerException("Conversion parameter "+i+" is not a valid parameter.")}},o=function(t,n,r,o,a){i(n),n.crop&&e.util.isArray(n.crop)&&(n.crop=n.crop.join(",")),e.ajax.post(t+"/convert",{data:n,json:!0,success:function(t){r(e.util.standardizeFPFile(t))},error:function(t,n,r){o("not_found"===t?new e.errors.FPError(141):"bad_params"===t?new e.errors.FPError(142):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(143))},progress:a})};return{convert:o,mapRestParams:r}}),filepicker.extend("errors",function(){var e=this,t=function(e){if(this===window)return new t(e);if(this.code=e,filepicker.debug){var n=filepicker.error_map[this.code];this.message=n.message,this.moreInfo=n.moreInfo,this.toString=function(){return"FPError "+this.code+": "+this.message+". For help, see "+this.moreInfo}}else this.toString=function(){return"FPError "+this.code+". Include filepicker_debug.js for more info"};return this};t.isClass=!0;var n=function(t){filepicker.debug&&e.util.console.error(t.toString())};return{FPError:t,handleError:n}},!0),filepicker.extend(function(){var e=this,t="2.3.1";e.API_VERSION="v2";var n=function(t){e.apikey=t},r=function(e){return this.text=e,this.toString=function(){return"FilepickerException: "+this.text},this};r.isClass=!0;var i=function(t,n,r,i){e.util.checkApiKey(),"function"==typeof t&&(r=n,n=t,t={}),t=t||{},n=n||function(){},r=r||e.errors.handleError,e.picker.createPicker(t,n,r,!1,!1,i)},o=function(t,n,r,i){e.util.checkApiKey(),"function"==typeof t&&(i=r,r=n,n=t,t={}),t=t||{},n=n||function(){},r=r||e.errors.handleError,e.picker.createPicker(t,n,r,!0,!1,i)},a=function(t,n,r,i,o){if(e.util.checkApiKey(),!t||!n||"function"==typeof t||"function"==typeof t)throw new e.FilepickerException("Not all required parameters given, missing picker or store options");i=i||e.errors.handleError;var a=!!t.multiple,s=t?e.util.clone(t):{};if(s.storeLocation=n.location||"S3",s.storePath=n.path,s.storeContainer=n.storeContainer||n.container,s.storeAccess=n.access||"private",a&&s.storePath&&"/"!==s.storePath.charAt(s.storePath.length-1))throw new e.FilepickerException(NaN);var u=r;a||(u=function(e){r([e])}),e.picker.createPicker(s,u,i,a,!1,o)},s=function(t,n,r,i){e.util.checkApiKey(),"function"==typeof t&&(r=n,n=t,t={}),t=t||{},n=n||function(){},r=r||e.errors.handleError,e.picker.createPicker(t,n,r,!1,!0,i)},u=function(t,n,r,i,o){if(e.util.checkApiKey(),!t)throw new e.FilepickerException("No input given - nothing to read!");if("function"==typeof n&&(o=i,i=r,r=n,n={}),n=n||{},r=r||function(){},i=i||e.errors.handleError,o=o||function(){},"string"==typeof t)e.util.isFPUrl(t)?e.files.readFromFPUrl(t,n,r,i,o):e.files.readFromUrl(t,n,r,i,o);else if(e.util.isFileInputElement(t))t.files?0===t.files.length?i(new e.errors.FPError(115)):e.files.readFromFile(t.files[0],n,r,i,o):l(t,n,r,i,o);else if(e.util.isFile(t))e.files.readFromFile(t,n,r,i,o);else{if(!t.url)throw new e.FilepickerException("Cannot read given input: "+t+". Not a url, file input, DOM File, or FPFile object.");e.files.readFromFPUrl(t.url,n,r,i,o)}},l=function(t,n,r,i,o){o(10),e.store(t,function(t){o(50),e.read(t,n,r,i,function(e){o(50+e/2)})},i)},c=function(t,n,r,i,o,a){if(e.util.checkApiKey(),!t)throw new e.FilepickerException("No fpfile given - nothing to write to!");if(void 0===n||null===n)throw new e.FilepickerException("No input given - nothing to write!");"function"==typeof r&&(a=o,o=i,i=r,r={}),r=r||{},i=i||function(){},o=o||e.errors.handleError,a=a||function(){};var s;if(e.util.isFPUrl(t))s=t;else{if(!t.url)throw new e.FilepickerException("Invalid file to write to: "+t+". Not a filepicker url or FPFile object.");s=t.url}if(s=e.util.trimConvert(s),"string"==typeof n)e.files.writeDataToFPUrl(s,n,r,i,o,a);else if(e.util.isFileInputElement(n))n.files?0===n.files.length?o(new e.errors.FPError(115)):e.files.writeFileToFPUrl(s,n.files[0],r,i,o,a):e.files.writeFileInputToFPUrl(s,n,r,i,o,a);else if(e.util.isFile(n))e.files.writeFileToFPUrl(s,n,r,i,o,a);else{if(!n.url)throw new e.FilepickerException("Cannot read from given input: "+n+". Not a string, file input, DOM File, or FPFile object.");e.files.writeUrlToFPUrl(s,n.url,r,i,o,a)}},p=function(t,n,r,i,o,a){if(e.util.checkApiKey(),!t)throw new e.FilepickerException("No fpfile given - nothing to write to!");if(void 0===n||null===n)throw new e.FilepickerException("No input given - nothing to write!");"function"==typeof r&&(a=o,o=i,i=r,r={}),r=r||{},i=i||function(){},o=o||e.errors.handleError,a=a||function(){};var s;if(e.util.isFPUrl(t))s=t;else{if(!t.url)throw new e.FilepickerException("Invalid file to write to: "+t+". Not a filepicker url or FPFile object.");s=t.url}e.files.writeUrlToFPUrl(e.util.trimConvert(s),n,r,i,o,a)},d=function(t,n,r,i){e.util.checkApiKey(),"function"==typeof n&&(i=r,r=n,n={}),n=n?e.util.clone(n):{},r=r||function(){},i=i||e.errors.handleError;var o;if("string"==typeof t&&e.util.isUrl(t))o=t;else{if(!t.url)throw new e.FilepickerException("Invalid file to export: "+t+". Not a valid url or FPFile object. You may want to use filepicker.store() to get an FPFile to export");o=t.url,n.mimetype||n.extension||(n.mimetype=t.mimetype),n.suggestedFilename||(n.suggestedFilename=t.filename)}n.suggestedFilename&&(n.suggestedFilename=encodeURI(n.suggestedFilename)),e.exporter.createExporter(o,n,r,i)},f=function(t,n,r,i,o){var a;if(e.util.checkApiKey(),"function"==typeof n&&(i=r,r=n,n={}),n=n||{},r=r||function(){},i=i||e.errors.handleError,"string"==typeof t&&e.util.isFPUrlCdn(t))a=t;else{if(!t.url||!e.util.isFPUrl(t.url))throw new e.FilepickerException("Invalid file to convert: "+t+". Not a valid url or FPFile object or not filepicker url. You can convert only filepicker url images.");a=t.url,n.filename||(n.filename=t.filename)}n.convertUrl=a,n.multiple=!1,n.services=["CONVERT","COMPUTER"],n.backgroundUpload=!0,n.hide=!1,e.picker.createPicker(n,r,i,!1,!1,o,!0)},h=function(t,n,r,i,o){if(e.util.checkApiKey(),"function"==typeof n&&(o=i,i=r,r=n,n={}),n=n?e.util.clone(n):{},r=r||function(){},i=i||e.errors.handleError,o=o||function(){},"string"==typeof t)e.files.storeData(t,n,r,i,o);else if(e.util.isFileInputElement(t))t.files?0===t.files.length?i(new e.errors.FPError(115)):e.files.storeFile(t.files[0],n,r,i,o):e.files.storeFileInput(t,n,r,i,o);else if(e.util.isFile(t))e.files.storeFile(t,n,r,i,o);else{if(!t.url)throw new e.FilepickerException("Cannot store given input: "+t+". Not a string, file input, DOM File, or FPFile object.");n.filename||(n.filename=t.filename),e.files.storeUrl(t.url,n,r,i,o)}},m=function(t,n,r,i,o){e.util.checkApiKey(),"function"==typeof n&&(o=i,i=r,r=n,n={}),n=n||{},r=r||function(){},i=i||e.errors.handleError,o=o||function(){},e.files.storeUrl(t,n,r,i,o)},g=function(t,n,r,i){e.util.checkApiKey(),"function"==typeof n&&(i=r,r=n,n={}),n=n||{},r=r||function(){},i=i||e.errors.handleError;var o;if(e.util.isFPUrl(t))o=t;else{if(!t.url)throw new e.FilepickerException("Invalid file to get metadata for: "+t+". Not a filepicker url or FPFile object.");o=t.url}e.files.stat(e.util.trimConvert(o),n,r,i)},v=function(t,n,r,i){e.util.checkApiKey(),"function"==typeof n&&(i=r,r=n,n={}),n=n||{},r=r||function(){},i=i||e.errors.handleError;var o;if(e.util.isFPUrl(t))o=t;else{if(!t.url)throw new e.FilepickerException("Invalid file to remove: "+t+". Not a filepicker url or FPFile object.");o=t.url}e.files.remove(e.util.trimConvert(o),n,r,i)},y=function(t,n,r,i,o,a){if(e.util.checkApiKey(),!t)throw new e.FilepickerException("No fpfile given - nothing to convert!");"function"==typeof r&&(a=o,o=i,i=r,r={});var s=n?e.util.clone(n):{};r=r||{},i=i||function(){},o=o||e.errors.handleError,a=a||function(){},r.location&&(s.storeLocation=r.location),r.path&&(s.storePath=r.path),r.container&&(s.storeContainer=r.container),s.storeAccess=r.access||"private";var u;if(e.util.isFPUrl(t))u=t;else{if(!t.url)throw new e.FilepickerException("Invalid file to convert: "+t+". Not a filepicker url or FPFile object.");if(u=t.url,!e.mimetypes.matchesMimetype(t.mimetype,"image/*")&&!e.mimetypes.matchesMimetype(t.mimetype,"application/pdf"))return void o(new e.errors.FPError(142))}if(u.indexOf("/convert")>-1){var l=e.util.parseUrl(u).params;l=e.conversions.mapRestParams(l),l.crop&&e.util.setDefault(l,"crop_first",!0);for(var c in l)e.util.setDefault(s,c,l[c])}e.conversions.convert(e.util.trimConvert(u),s,i,o,a)},$=function(t){return e.widgets.constructWidget(t)},b=function(t,n){return e.dragdrop.makeDropPane(t,n)},w=function(t){return e.responsiveImages.setResponsiveOptions(t)};return{setKey:n,setResponsiveOptions:w,pick:i,pickFolder:s,pickMultiple:o,pickAndStore:a,read:u,write:c,writeUrl:p,"export":d,exportFile:d,processImage:f,store:h,storeUrl:m,stat:g,metadata:g,remove:v,convert:y,constructWidget:$,makeDropPane:b,FilepickerException:r,version:t}},!0),filepicker.extend("mimetypes",function(){var e=this,t={".stl":"application/sla",".hbs":"text/html",".pdf":"application/pdf",".jpg":"image/jpeg",".jpeg":"image/jpeg",".jpe":"image/jpeg",".imp":"application/x-impressionist"},n=["application/octet-stream","application/download","application/force-download","octet/stream","application/unknown","application/x-download","application/x-msdownload","application/x-secure-download"],r=function(e){if(e.type){var r=e.type;r=r.toLowerCase();for(var i=!1,o=0;o<n.length;o++)i=i||r===n[o];if(!i)return e.type}var a=e.name||e.fileName,s=a.match(/\.\w*$/);return s?t[s[0].toLowerCase()]||"":e.type?e.type:""},i=function(t,r){if(!t)return"*/*"===r;t=e.util.trim(t).toLowerCase(),r=e.util.trim(r).toLowerCase();for(var i=0;i<n.length;i++)if(t===n[i])return!0;var o=t.split("/"),a=r.split("/");return"*"===a[0]?!0:a[0]!==o[0]?!1:"*"===a[1]?!0:a[1]===o[1]};return{getMimetype:r,matchesMimetype:i}}),filepicker.extend("services",function(){return{COMPUTER:1,DROPBOX:2,FACEBOOK:3,GITHUB:4,GMAIL:5,IMAGE_SEARCH:6,URL:7,WEBCAM:8,GOOGLE_DRIVE:9,SEND_EMAIL:10,INSTAGRAM:11,FLICKR:12,VIDEO:13,EVERNOTE:14,PICASA:15,WEBDAV:16,FTP:17,ALFRESCO:18,BOX:19,SKYDRIVE:20,GDRIVE:21,CUSTOMSOURCE:22,CLOUDDRIVE:23,GENERIC:24,CONVERT:25}},!0),filepicker.extend("urls",function(){function e(e,r){return"?key="+i.apikey+"&id="+r+"&referrer="+window.location.hostname+"&iframe="+("window"!==e.container)+"&version="+i.API_VERSION+(e.services?"&s="+e.services.join(","):"")+(void 0!==e.container?"&container="+e.container:"modal")+(e.openTo?"&loc="+e.openTo:"")+"&language="+(e.language||i.browser.getLanguage())+(void 0!==e.mobile?"&mobile="+e.mobile:"")+(void 0!==e.backgroundUpload?"&bu="+e.backgroundUpload:"")+(e.cropRatio?"&cratio="+e.cropRatio:"")+(e.cropDim?"&cdim="+e.cropDim.join(","):"")+(e.cropMax?"&cmax="+e.cropMax.join(","):"")+(e.cropMin?"&cmin="+e.cropMin.join(","):"")+(void 0!==e.cropForce?"&cforce="+e.cropForce:"")+(void 0!==e.hide?"&hide="+e.hide:"")+(e.customCss?"&css="+encodeURIComponent(e.customCss):"")+(e.customText?"&text="+encodeURIComponent(e.customText):"")+(e.imageMin?"&imin="+e.imageMin.join(","):"")+(e.imageMax?"&imax="+e.imageMax.join(","):"")+(e.imageDim?"&idim="+e.imageDim.join(","):"")+(e.imageQuality?"&iq="+e.imageQuality:"")+(i.util.isCanvasSupported()?"":"&canvas=false")+(e.redirectUrl?"&redirect_url="+e.redirectUrl:"")+(e.showClose&&"modal"!==e.container?"&showClose="+e.showClose:"")+t(e)+"&plugin="+n()}function t(e){return(e.signature?"&signature="+e.signature:"")+(e.policy?"&policy="+e.policy:"")}function n(){return filepicker.plugin||"js_lib"}function r(e){e=e||[];var t,n,r=[];for(t in e)for(n in d)e[t]===d[n]&&e.hasOwnProperty(t)&&r.push(e[t]);return r.length||r.push("crop"),"&co="+r.join(",")}var i=this,o="https://www.filepicker.io";window.filepicker.hostname&&(o=window.filepicker.hostname);var a=o.replace("www","dialog"),s=a+"/dialog/open/",u=a+"/dialog/save/",l=a+"/dialog/process/",c=a+"/dialog/folder/",p=o+"/api/store/",d=["crop","rotate","filter"],f=function(t,n,i){return s+e(t,n)+(i?"&multi="+!!i:"")+(void 0!==t.mimetypes?"&m="+t.mimetypes.join(","):"")+(void 0!==t.extensions?"&ext="+t.extensions.join(","):"")+(t.maxSize?"&maxSize="+t.maxSize:"")+(t.customSourceContainer?"&customSourceContainer="+t.customSourceContainer:"")+(t.customSourcePath?"&customSourcePath="+t.customSourcePath:"")+(t.maxFiles?"&maxFiles="+t.maxFiles:"")+(void 0!==t.folders?"&folders="+t.folders:"")+(t.storeLocation?"&storeLocation="+t.storeLocation:"")+(t.storePath?"&storePath="+t.storePath:"")+(t.storeContainer?"&storeContainer="+t.storeContainer:"")+(t.storeAccess?"&storeAccess="+t.storeAccess:"")+(t.webcamDim?"&wdim="+t.webcamDim.join(","):"")+r(t.conversions)},h=function(t,n){var i=t.convertUrl;return(i.indexOf("&")>=0||i.indexOf("?")>=0)&&(i=encodeURIComponent(i)),l+e(t,n)+"&curl="+i+r(t.conversions)},m=function(t,n){return c+e(t,n)},g=function(t,n,r){return(t.indexOf("&")>=0||t.indexOf("?")>=0)&&(t=encodeURIComponent(t)),u+e(n,r)+"&url="+t+(void 0!==n.mimetype?"&m="+n.mimetype:"")+(void 0!==n.extension?"&ext="+n.extension:"")+(n.suggestedFilename?"&defaultSaveasName="+n.suggestedFilename:"")},v=function(e){return p+e.location+"?key="+i.apikey+(e.base64decode?"&base64decode=true":"")+(e.mimetype?"&mimetype="+e.mimetype:"")+(e.filename?"&filename="+encodeURIComponent(e.filename):"")+(e.path?"&path="+e.path:"")+(e.container?"&container="+e.container:"")+(e.access?"&access="+e.access:"")+t(e)+"&plugin="+n()},y=function(e,r){return e+"?nonce=fp"+(r.base64decode?"&base64decode=true":"")+(r.mimetype?"&mimetype="+r.mimetype:"")+t(r)+"&plugin="+n()},$=function(){var e=i.util.parseUrl(window.location.href);return e.origin+"/404"};return{BASE:o,DIALOG_BASE:a,API_COMM:o+"/dialog/comm_iframe/",COMM:a+"/dialog/comm_iframe/",FP_COMM_FALLBACK:a+"/dialog/comm_hash_iframe/",STORE:p,PICK:s,EXPORT:u,constructPickUrl:f,constructConvertUrl:h,constructPickFolderUrl:m,constructExportUrl:g,constructWriteUrl:y,constructStoreUrl:v,constructHostCommFallback:$,getPlugin:n}}),filepicker.extend("ajax",function(){var e=this,t=function(e,t){t.method="GET",o(e,t)},n=function(t,n){n.method="POST",t+=(t.indexOf("?")>=0?"&":"?")+"_cacheBust="+e.util.getId(),o(t,n)},r=function(t,n){var i=[];for(var o in t){var a=t[o];n&&(o=n+". + key + ");var s;switch(e.util.typeOf(a)){case"object":s=r(a,o);break;case"array":for(var u={},l=0;l<a.length;l++)u[l]=a[l];s=r(u,o);break;default:s=o+"="+encodeURIComponent(a)}null!==a&&i.push(s)}return i.join("&")},i=function(){try{return new window.XMLHttpRequest}catch(e){try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}}},o=function(t,n){t=t||"";var o=n.method?n.method.toUpperCase():"POST",s=n.success||function(){},u=n.error||function(){},l=void 0===n.async?!0:n.async,c=n.data||null,p=void 0===n.processData?!0:n.processData,d=n.headers||{},f=e.util.parseUrl(t),h=window.location.protocol+"//"+window.location.host,m=h!==f.origin,g=!1;t+=(t.indexOf("?")>=0?"&":"?")+"plugin="+e.urls.getPlugin(),c&&p&&(c=r(n.data));var v;if(n.xhr)v=n.xhr;else if(v=i(),!v)return n.error("Ajax not allowed"),v;if(m&&window.XDomainRequest&&!("withCredentials"in v))return new a(t,n);n.progress&&v.upload&&v.upload.addEventListener("progress",function(e){
e.lengthComputable&&n.progress(Math.round(95*e.loaded/e.total))},!1);var y=function(){if(4==v.readyState&&!g)if(n.progress&&n.progress(100),v.status>=200&&v.status<300){var t=v.responseText;if(n.json)try{t=e.json.decode(t)}catch(r){return void $.call(v,"Invalid json: "+t)}s(t,v.status,v),g=!0}else $.call(v,v.responseText),g=!0};v.onreadystatechange=y;var $=function(e){return g?void 0:(n.progress&&n.progress(100),g=!0,400==this.status?void u("bad_params",this.status,this):403==this.status?void u("not_authorized",this.status,this):404==this.status?void u("not_found",this.status,this):m?4==this.readyState&&0===this.status?void u("CORS_not_allowed",this.status,this):void u("CORS_error",this.status,this):void u(e,this.status,this))};v.onerror=$,c&&"GET"==o&&(t+=(-1!==t.indexOf("?")?"&":"?")+c,c=null),v.open(o,t,l),n.json?v.setRequestHeader("Accept","application/json, text/javascript"):v.setRequestHeader("Accept","text/javascript, text/html, application/xml, text/xml, */*");var b=d["Content-Type"]||d["content-type"];if(c&&p&&("POST"==o||"PUT"==o)&&void 0===b&&v.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8"),d)for(var w in d)v.setRequestHeader(w,d[w]);return v.send(c),v},a=function(t,n){if(!window.XDomainRequest)return null;var i=n.method?n.method.toUpperCase():"POST",o=n.success||function(){},a=n.error||function(){},s=n.data||{};if("http:"==window.location.protocol?t=t.replace("https:","http:"):"https:"==window.location.protocol&&(t=t.replace("http:","https:")),n.async)throw new e.FilepickerException("Asyncronous Cross-domain requests are not supported");"GET"!==i&&"POST"!==i&&(s._method=i,i="POST"),n.processData!==!1&&(s=s?r(s):null),s&&"GET"==i&&(t+=(t.indexOf("?")>=0?"&":"?")+s,s=null),t+=(t.indexOf("?")>=0?"&":"?")+"_xdr=true&_cacheBust="+e.util.getId();var u=new window.XDomainRequest;return u.onload=function(){var t=u.responseText;if(n.progress&&n.progress(100),n.json)try{t=e.json.decode(t)}catch(r){return void a("Invalid json: "+t,200,u)}o(t,200,u)},u.onerror=function(){n.progress&&n.progress(100),a(u.responseText||"CORS_error",this.status||500,this)},u.onprogress=function(){},u.ontimeout=function(){},u.timeout=3e4,u.open(i,t,!0),u.send(s),u};return{get:t,post:n,request:o}}),filepicker.extend("files",function(){var e=this,t=function(t,r,i,o,a){var s=void 0===r.base64encode;s&&(r.base64encode=!0),r.base64encode=r.base64encode!==!1;var u=function(t){s&&(t=e.base64.decode(t,!!r.asText)),i(t)};n.call(this,t,r,u,o,a)},n=function(t,n,r,i,o){n.cache!==!0&&(n._cacheBust=e.util.getId()),e.ajax.get(t,{data:n,headers:{"X-NO-STREAM":!0},success:r,error:function(t,n,r){i("CORS_not_allowed"===t?new e.errors.FPError(113):"CORS_error"===t?new e.errors.FPError(114):"not_found"===t?new e.errors.FPError(115):"bad_params"===t?new e.errors.FPError(400):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(118))},progress:o})},r=function(t,n,r,i,o){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return o(10),void e.files.storeFile(t,{},function(t){o(50),e.files.readFromFPUrl(t.url,n,r,i,function(e){o(50+e/2)})},i,function(e){o(e/2)});var a=!!n.base64encode,s=!!n.asText,u=new FileReader;u.onprogress=function(e){e.lengthComputable&&o(Math.round(e.loaded/e.total*100))},u.onload=function(t){o(100),r(a?e.base64.encode(t.target.result,s):t.target.result)},u.onerror=function(t){switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:i(new e.errors.FPError(115));break;case t.target.error.NOT_READABLE_ERR:i(new e.errors.FPError(116));break;case t.target.error.ABORT_ERR:i(new e.errors.FPError(117));break;default:i(new e.errors.FPError(118))}},s||!u.readAsBinaryString?u.readAsText(t):u.readAsBinaryString(t)},i=function(t,n,r,i,o,a){var s=r.mimetype||"text/plain";e.ajax.post(e.urls.constructWriteUrl(t,r),{headers:{"Content-Type":s},data:n,processData:!1,json:!0,success:function(t){i(e.util.standardizeFPFile(t))},error:function(t,n,r){o("not_found"===t?new e.errors.FPError(121):"bad_params"===t?new e.errors.FPError(122):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(123))},progress:a})},o=function(t,n,r,i,o,a){var s=function(t,n,r){o("not_found"===t?new e.errors.FPError(121):"bad_params"===t?new e.errors.FPError(122):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(123))},u=function(t){i(e.util.standardizeFPFile(t))};c(n,e.urls.constructWriteUrl(t,r),u,s,a)},a=function(t,n,r,i,o,a){var s=function(t,n,r){o("not_found"===t?new e.errors.FPError(121):"bad_params"===t?new e.errors.FPError(122):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(123))},u=function(t){i(e.util.standardizeFPFile(t))};r.mimetype=n.type,c(n,e.urls.constructWriteUrl(t,r),u,s,a)},s=function(t,n,r,i,o,a){e.ajax.post(e.urls.constructWriteUrl(t,r),{data:{url:n},json:!0,success:function(t){i(e.util.standardizeFPFile(t))},error:function(t,n,r){o("not_found"===t?new e.errors.FPError(121):"bad_params"===t?new e.errors.FPError(122):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(123))},progress:a})},u=function(t,n,r,i,o){if(t.files)return void(0===t.files.length?i(new e.errors.FPError(115)):l(t.files[0],n,r,i,o));e.util.setDefault(n,"location","S3"),n.filename||(n.filename=t.value.replace("C:\\fakepath\\","")||t.name);var a=t.name;t.name="fileUpload",e.iframeAjax.post(e.urls.constructStoreUrl(n),{data:t,processData:!1,json:!0,success:function(n){t.name=a,r(e.util.standardizeFPFile(n))},error:function(t,n,r){i("not_found"===t?new e.errors.FPError(121):"bad_params"===t?new e.errors.FPError(122):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(123))}})},l=function(t,n,r,i,o){e.util.setDefault(n,"location","S3");var a=function(t,n,r){"not_found"===t?i(new e.errors.FPError(121)):"bad_params"===t?i(new e.errors.FPError(122)):"not_authorized"===t?i(new e.errors.FPError(403)):(e.util.console.error(t),i(new e.errors.FPError(123)))},s=function(t){r(e.util.standardizeFPFile(t))};n.filename||(n.filename=t.name||t.fileName),c(t,e.urls.constructStoreUrl(n),s,a,o)},c=function(t,n,r,i,o){t.files&&(t=t.files[0]);var a=!!window.FormData&&!!window.XMLHttpRequest;if(a){var s=new window.FormData;s.append("fileUpload",t),e.ajax.post(n,{json:!0,processData:!1,data:s,success:r,error:i,progress:o})}else e.iframeAjax.post(n,{data:t,json:!0,success:r,error:i})},p=function(t,n,r,i,o){e.util.setDefault(n,"location","S3"),e.util.setDefault(n,"mimetype","text/plain"),e.ajax.post(e.urls.constructStoreUrl(n),{headers:{"Content-Type":n.mimetype},data:t,processData:!1,json:!0,success:function(t){r(e.util.standardizeFPFile(t))},error:function(t,n,r){i("not_found"===t?new e.errors.FPError(121):"bad_params"===t?new e.errors.FPError(122):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(123))},progress:o})},d=function(t,n,r,i,o){e.util.setDefault(n,"location","S3"),e.ajax.post(e.urls.constructStoreUrl(n),{data:{url:t},json:!0,success:function(t){r(e.util.standardizeFPFile(t))},error:function(t,n,r){i("not_found"===t?new e.errors.FPError(151):"bad_params"===t?new e.errors.FPError(152):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(153))},progress:o})},f=function(t,n,r,i){var o=["uploaded","modified","created"];n.cache!==!0&&(n._cacheBust=e.util.getId()),e.ajax.get(t+"/metadata",{json:!0,data:n,success:function(e){for(var t=0;t<o.length;t++)e[o[t]]&&(e[o[t]]=new Date(e[o[t]]));r(e)},error:function(t,n,r){i("not_found"===t?new e.errors.FPError(161):"bad_params"===t?new e.errors.FPError(400):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(162))}})},h=function(t,n,r,i){n.key=e.apikey,e.ajax.post(t+"/remove",{data:n,success:function(e){r()},error:function(t,n,r){i("not_found"===t?new e.errors.FPError(171):"bad_params"===t?new e.errors.FPError(400):"not_authorized"===t?new e.errors.FPError(403):new e.errors.FPError(172))}})};return{readFromUrl:n,readFromFile:r,readFromFPUrl:t,writeDataToFPUrl:i,writeFileToFPUrl:a,writeFileInputToFPUrl:o,writeUrlToFPUrl:s,storeFileInput:u,storeFile:l,storeUrl:d,storeData:p,stat:f,remove:h}}),filepicker.extend("iframeAjax",function(){var e=this,t="ajax_iframe",n=[],r=!1,i=function(e,t){t.method="GET",s(e,t)},o=function(t,n){n.method="POST",t+=(t.indexOf("?")>=0?"&":"?")+"_cacheBust="+e.util.getId(),s(t,n)},a=function(){if(n.length>0){var e=n.shift();s(e.url,e.options)}},s=function(i,o){if(r)return void n.push({url:i,options:o});i+=(i.indexOf("?")>=0?"&":"?")+"plugin="+e.urls.getPlugin()+"&_cacheBust="+e.util.getId(),i+="&Content-Type=text%2Fhtml",e.comm.openChannel();var a;try{a=document.createElement('<iframe name="'+t+'">')}catch(s){a=document.createElement("iframe")}a.id=a.name=t,a.style.display="none";var c=function(){r=!1};a.attachEvent?(a.attachEvent("onload",c),a.attachEvent("onerror",c)):a.onerror=a.onload=c,a.id=t,a.name=t,a.style.display="none",a.onerror=a.onload=function(){r=!1},document.body.appendChild(a),e.handlers.attach("upload",u(o));var p=document.createElement("form");p.method=o.method||"GET",p.action=i,p.target=t;var d=o.data;(e.util.isFileInputElement(d)||e.util.isFile(d))&&(p.encoding=p.enctype="multipart/form-data"),document.body.appendChild(p);var f;if(e.util.isFile(d)){var h=l(d);if(!h)throw e.FilepickerException("Couldn't find corresponding file input.");d={fileUpload:h}}else e.util.isFileInputElement(d)?(f=d,d={},d.fileUpload=f):d&&e.util.isElement(d)&&"INPUT"===d.tagName?(f=d,d={},d[f.name]=f):o.processData!==!1&&(d={data:d});d.format="iframe";var m={};for(var g in d){var v=d[g];if(e.util.isElement(v)&&"INPUT"===v.tagName)m[g]={par:v.parentNode,sib:v.nextSibling,name:v.name,input:v,focused:v===document.activeElement},v.name=g,p.appendChild(v);else{var y=document.createElement("input");y.name=g,y.value=v,p.appendChild(y)}}r=!0,window.setTimeout(function(){p.submit();for(var e in m){var t=m[e];t.par.insertBefore(t.input,t.sib),t.input.name=t.name,t.focused&&t.input.focus()}p.parentNode.removeChild(p)},1)},u=function(t){var n=t.success||function(){},i=t.error||function(){},o=function(t){if("Upload"===t.type){r=!1;var o=t.payload;o.error?i(o.error):n(o),e.handlers.detach("upload"),a()}};return o},l=function(e){for(var t=document.getElementsByTagName("input"),n=0;n<t.length;n++){var r=t[0];if("file"===r.type&&r.files&&r.files.length)for(var i=0;i<r.files.length;i++)if(r.files[i]===e)return r}return null};return{get:i,post:o,request:s}}),filepicker.extend("base64",function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=function(t,n){n=n||void 0===n;var i,o,a,s,u,l,c,p="",d=0;for(n&&(t=r(t));d<t.length;)i=t.charCodeAt(d),o=t.charCodeAt(d+1),a=t.charCodeAt(d+2),d+=3,s=i>>2,u=(3&i)<<4|o>>4,l=(15&o)<<2|a>>6,c=63&a,isNaN(o)?l=c=64:isNaN(a)&&(c=64),p=p+e.charAt(s)+e.charAt(u)+e.charAt(l)+e.charAt(c);return p},n=function(t,n){n=n||void 0===n;var r,o,a,s,u,l,c,p="",d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)s=e.indexOf(t.charAt(d)),u=e.indexOf(t.charAt(d+1)),l=e.indexOf(t.charAt(d+2)),c=e.indexOf(t.charAt(d+3)),d+=4,r=s<<2|u>>4,o=(15&u)<<4|l>>2,a=(3&l)<<6|c,p+=String.fromCharCode(r),64!=l&&(p+=String.fromCharCode(o)),64!=c&&(p+=String.fromCharCode(a));return n&&(p=i(p)),p},r=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},i=function(e){for(var t="",n=0,r=0,i=0;n<e.length;)r=e.charCodeAt(n),128>r?(t+=String.fromCharCode(r),n++):r>191&&224>r?(i=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&i),n+=2):(i=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&c3),n+=3);return t};return{encode:t,decode:n}},!0),filepicker.extend("browser",function(){var e=function(){return!!(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))},t=function(){return!!navigator.userAgent.match(/Android/i)},n=function(){return!!navigator.userAgent.match(/MSIE 7\.0/i)},r=function(){return navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0},i=function(){return!(!navigator.userAgent.match(/(iPod|iPhone|iPad)/)||!navigator.userAgent.match(/AppleWebKit/)||navigator.userAgent.match(/CriOS/))},o=function(){var e=window.navigator.userLanguage||window.navigator.language;return void 0===e&&(e="en"),e=e.replace("-","_").toLowerCase()},a=e()||t();return{isIOS:e,isAndroid:t,isIE7:n,isSafari:r,isMobileSafari:i,getLanguage:o,isMobile:a}}),filepicker.extend("conversionsUtil",function(){var e=this,t=(window.location.protocol||"https")+"//process.filepicker.io/",n=function(e){if(!e)return{url:null,optionsDict:{}};e=e.replace(t,"");var n=e.substring(e.indexOf("/http")+1);e=e.replace("/"+n,"");var r=e.substring(0,e.indexOf("/"));e=e.replace(r+"/","");var i,o,a,s,u,l=e.split("/"),c={};for(s in l)if(i=l[s].split("="),i.length>1){c[i[0]]={},o=i[1].split(",");for(u in o)a=o[u].split(":"),a.length>1&&(c[i[0]][a[0]]=a[1])}else l[s]&&(c[l[s]]=null);return{url:n,apikey:r,optionsDict:c}},r=function(n,r,i){var o,a,s,u=t+i;r=r||{};for(o in r){u+="/"+o,s=e.util.objectKeys(r[o]||{}).length,s&&(u+="=");for(a in r[o])u+=a+":"+r[o][a],0!==--s&&(u+=",")}return u+="/"+n};return{CONVERSION_DOMAIN:t,parseUrl:n,buildUrl:r}}),filepicker.extend("json",function(){var fp=this,special={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},escape=function(e){return special[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},validate=function(e){return e=e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(e)},encode=function(e){if(window.JSON&&window.JSON.stringify)return window.JSON.stringify(e);e&&e.toJSON&&(e=e.toJSON());var t=[];switch(fp.util.typeOf(e)){case"string":return'"'+e.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":for(var n=0;n<e.length;n++)t.push(encode(e[n]));return"["+t+"]";case"object":case"hash":var r,i;for(i in e)r=encode(e[i]),r&&t.push(encode(i)+":"+r),r=null;return"{"+t+"}";case"number":case"boolean":return""+e;case"null":return"null";default:return"null"}return null},decode=function(string,secure){if(!string||"string"!==fp.util.typeOf(string))return null;if(window.JSON&&window.JSON.parse)return window.JSON.parse(string);if(secure&&!validate(string))throw new Error("JSON could not decode the input; security is enabled and the value is not secure.");return eval("("+string+")")};return{validate:validate,encode:encode,stringify:encode,decode:decode,parse:decode}}),filepicker.extend("util",function(){var e=function(e){return e.replace(/^\s+|\s+$/g,"")},t=function(e){return e.replace(/\/convert\b.*/,"")},n=/^(http|https)\:.*\/\//i,r=function(e){return!!e.match(n)},i=function(e){e&&"/"!==e.charAt(0)||(e=window.location.protocol+"//"+window.location.host+e);var t=document.createElement("a");t.href=e;var n=-1===t.hostname.indexOf(":")?t.hostname:t.host,r={source:e,protocol:t.protocol.replace(":",""),host:n,port:t.port,query:t.search,params:function(){for(var e,n={},r=t.search.replace(/^\?/,"").split("&"),i=r.length,o=0;i>o;o++)r[o]&&(e=r[o].split("="),n[e[0]]=e[1]);return n}(),file:(t.pathname.match(/\/([^\/?#]+)$/i)||[void 0,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tps?:\/\/[^\/]+(.+)/)||[void 0,""])[1],segments:t.pathname.replace(/^\//,"").split("/")};return r.origin=r.protocol+"://"+r.host+(r.port?":"+r.port:""),r.rawUrl=(r.origin+r.path).replace("/convert",""),r},o=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},a=function(e,t,n){return e+(e.indexOf("?")>=0?"&":"?")+t+"="+n};return{trim:e,trimConvert:t,parseUrl:i,isUrl:r,endsWith:o,appendQueryToUrl:a}}),filepicker.extend("util",function(){var e=this,t=function(e){return e&&"[object Array]"===Object.prototype.toString.call(e)},n=function(e){return e&&"[object File]"===Object.prototype.toString.call(e)},r=function(e){return"object"==typeof window.HTMLElement?e instanceof window.HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},i=function(e){return r(e)&&"INPUT"===e.tagName&&"file"===e.type},o=function(e){return null===e?"null":t(e)?"array":n(e)?"file":typeof e},a=function(){var e=new Date;return e.getTime().toString()},s=function(e,t,n){void 0===e[t]&&(e[t]=n)},u=function(e){if(window.jQuery)window.jQuery(function(){e()});else{var t="load";if(window.addEventListener)window.addEventListener(t,e,!1);else if(window.attachEvent)window.attachEvent("on"+t,e);else if(window.onload){var n=window.onload;window.onload=function(){n(),e()}}else window.onload=e}},l=function(e){return"string"==typeof e&&e.match("www.filepicker.io/api/file/")},c=function(e){return"string"==typeof e&&e.match("/api/file/")},p=function(e){return function(){if(window.console&&"function"==typeof window.console[e])try{window.console[e].apply(window.console,arguments)}catch(t){window.alert(Array.prototype.join.call(arguments,","))}}},d={};d.log=p("log"),d.error=p("error");var f=function(e){var t={};for(var n in e)t[n]=e[n];return t},h=function(e){var t={};return t.url=e.url,t.filename=e.filename||e.name,t.mimetype=e.mimetype||e.type,t.size=e.size,t.key=e.key||e.s3_key,t.isWriteable=!(!e.isWriteable&&!e.writeable),t},m=function(){try{var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}catch(t){return!1}},g=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},v=function(){if(!e.apikey)throw new e.FilepickerException("API Key not found")},y=function(e){return"function"!=typeof Object.keys?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:Object.keys(e)};return{isArray:t,isFile:n,isElement:r,isFileInputElement:i,getId:a,setDefault:s,typeOf:o,addOnLoad:u,isFPUrl:l,isFPUrlCdn:c,console:d,clone:f,standardizeFPFile:h,isCanvasSupported:m,extend:g,checkApiKey:v,objectKeys:y}}),filepicker.extend("windowUtils",function(){function e(){return document.documentElement.clientWidth||document.body&&document.body.clientWidth||1024}function t(){return document.documentElement.clientHeight||document.body&&document.body.clientHeight||768}return{getWidth:e,getHeight:t}}),filepicker.extend("dragdrop",function(){var e=this,t=function(){return(!!window.FileReader||navigator.userAgent.indexOf("Safari")>=0)&&"draggable"in document.createElement("span")},n=function(n,r){var i="No DOM element found to create drop pane";if(!n)throw new e.FilepickerException(i);if(n.jquery){if(0===n.length)throw new e.FilepickerException(i);n=n[0]}if(!t())return e.util.console.error("Your browser doesn't support drag-drop functionality"),!1;r=r||{};var o=r.dragEnter||function(){},a=r.dragLeave||function(){},s=r.onStart||function(){},u=r.onSuccess||function(){},l=r.onError||function(){},c=r.onProgress||function(){},p=r.mimetypes;p||(p=r.mimetype?[r.mimetype]:["*/*"]),"string"===e.util.typeOf(p)&&(p=p.split(","));var d=r.extensions;d||r.extension&&(d=[r.extension]),"string"===e.util.typeOf(d)&&(d=d.replace(/ /g,"").split(","));var f={location:r.location,path:r.path,container:r.container,access:r.access,policy:r.policy,signature:r.signature},h=function(){return n&&"disabled"!==(n.getAttribute("disabled")||"enabled")};n.addEventListener("dragenter",function(e){return h()&&o(),e.stopPropagation(),e.preventDefault(),!1},!1),n.addEventListener("dragleave",function(e){return h()&&a(),e.stopPropagation(),e.preventDefault(),!1},!1),n.addEventListener("dragover",function(e){return e.dataTransfer.dropEffect="copy",e.preventDefault(),!1},!1),n.addEventListener("drop",function(t){if(t.stopPropagation(),t.preventDefault(),!h())return!1;var r,i,o;if(t.dataTransfer.items)for(i=t.dataTransfer.items,r=0;r<i.length;r++)if(o=i[r]&&i[r].webkitGetAsEntry?i[r].webkitGetAsEntry():void 0,o&&o.isDirectory)return l("WrongType","Uploading a folder is not allowed"),!1;var a=t.dataTransfer.files,u=a.length;if(x(a))for(s(a),n.setAttribute("disabled","disabled"),r=0;r<a.length;r++)e.store(a[r],f,y(r,u),$,b(r,u));return!1});var m=function(){n.setAttribute("disabled","enabled"),window.$&&window.$(n).prop("disabled",!1)},g={},v=[],y=function(e,t){return function(n){r.multiple?(v.push(n),v.length===t?(u(v),v=[],g={}):(g[e]=100,w(t))):u([n]),m()}},$=function(e){l("UploadError",e.toString()),m()},b=function(e,t){return function(n){g[e]=n,w(t)}},w=function(e){var t=0;for(var n in g)t+=g[n];var r=t/e;c(r)},x=function(t){if(t.length>0){if(t.length>1&&!r.multiple)return l("TooManyFiles","Only one file at a time"),!1;if(r.maxFiles>0&&t.length>r.maxFiles)return l("TooManyFiles","Only "+r.maxFiles+" files at a time"),!1;for(var n,i,o,a=0;a<t.length;a++){n=!1,i=t[a],o=i.name||i.fileName||"Unknown file";for(var s=0;s<p.length;s++){var u=e.mimetypes.getMimetype(i);n=n||e.mimetypes.matchesMimetype(u,p[s])}if(!n)return l("WrongType",o+" isn't the right type of file"),!1;if(d){for(n=!1,s=0;s<d.length;s++)n=n||e.util.endsWith(o,d[s]);if(!n)return l("WrongType",o+" isn't the right type of file"),!1}if(i.size&&r.maxSize&&i.size>r.maxSize)return l("WrongSize",o+" is too large ("+i.size+" Bytes)"),!1}return!0}return l("NoFilesFound","No files uploaded"),!1};return!0};return{enabled:t,makeDropPane:n}}),filepicker.extend("responsiveImages",function(){function e(){n(),v(E)}function t(){y(E)}function n(){var e,t,n=document.querySelectorAll("img[data-fp-src]");for(t=0;t<n.length;t++)e=n[t],r(e)&&h(e)}function r(e){var t=u(e),n=a(e)||$().onResize||"all";if(!t||"all"===n)return!0;if("none"===n)return!1;var r=f(t).width<i(e).width;return r&&"up"===n||!r&&"down"===n?!0:!1}function i(e){var t={};return null===e.parentNode?(t.width=x.windowUtils.getWidth(),t.height=x.windowUtils.getWidth(),t):e.alt&&!e.fpAltCheck?(e.parentNode.fpAltCheck=!0,i(e.parentNode)):(t.width=e.offsetWidth,t.height=e.offsetHeight,t.width?t:i(e.parentNode))}function o(e,t){var n=u(e)||l(e);n!==t&&(e.src=t,n&&(e.onerror=function(){e.src=n,e.onerror=null}))}function a(e){return e.getAttribute("data-fp-on-resize")}function s(e){return e.getAttribute("data-fp-pixel-round")}function u(e){return e.getAttribute("src")}function l(e){return e.getAttribute("data-fp-src")}function c(e){return e.getAttribute("data-fp-apikey")}function p(e){return e.getAttribute("data-fp-signature")}function d(e){return e.getAttribute("data-fp-policy")}function f(e){return x.conversionsUtil.parseUrl(e).optionsDict.resize||{}}function h(e){var t=l(e),n=c(e)||x.apikey,r=$();x.apikey||(x.setKey(n),x.util.checkApiKey()),o(e,x.conversionsUtil.buildUrl(t,m(e,r),n))}function m(e,t){t=t||{};var n=i(e),r=s(e)||t.pixelRound||10,o={resize:{width:w(n.width,r)}},a=t.signature||p(e);return a&&(o.security={signature:a,policy:t.policy||d(e)}),o}function g(e,t){var n;return function(){var r=this,i=arguments,o=function(){n=null,e.apply(r,i)};clearTimeout(n),n=setTimeout(o,t)}}function v(e){window.addEventListener?window.addEventListener("resize",e,!1):window.attachEvent&&window.attachEvent("onresize",e)}function y(e){window.removeEventListener?window.removeEventListener("resize",e,!1):window.detachEvent&&window.detachEvent("onresize",e)}function $(){return x.responsiveOptions||{}}function b(e){if(e=e||{},"object"!=typeof e)throw new x.FilepickerException("Responsive options must be an object.");x.responsiveOptions=e}function w(e,t){var n=0===t?1:t;return Math.ceil(e/n)*n}var x=this,k=200,E=g(function(){n()},k);return{activate:e,deactivate:t,setResponsiveOptions:b,getResponsiveOptions:$,getElementDims:i,replaceSrc:o,getCurrentResizeParams:f,construct:h,constructParams:m,shouldConstruct:r,roundWithStep:w,addWindowResizeEvent:v,removeWindowResizeEvent:y}}),filepicker.extend("widgets",function(){function e(){try{var e='.fp__btn{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:inline-block;height:34px;padding:4px 20px 5px 40px;margin-bottom:0;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Open Sans", sans-serif;font-size:12px;font-weight:600;line-height:1.42857143;color:#fff;text-align:center;white-space:nowrap;background:#3ac7ed;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMTI4ZDMwOC1iNjY2LTQyNzgtOTU1MC04NDk5YzViMzBhMmYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTJCRDQ1RUEwQzIxMTFFNThEOTU4QzAyNzQ4QUU2NzUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTJCRDQ1RTkwQzIxMTFFNThEOTU4QzAyNzQ4QUU2NzUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZDgzZTQ5ZS0zYzE1LTQ3MTgtOTFkZi1iNTc0N2EyMjI5M2MiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDEyOGQzMDgtYjY2Ni00Mjc4LTk1NTAtODQ5OWM1YjMwYTJmIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SmKrTgAAAOxJREFUeNqE0bFqQjEYhuFooSjUUhBEujsVXdtJwdFRvBBx1ntwEPdS8Ao6OpU6qbg4ilKRglooqDhV0jf4HTgcYht4SEL+LwlJzFp7b4zpoogE1lhghrl8YosNvg2hvj23IcbY2b/byoV+FDRyhTxeVXSIhF5c0QpfyISCzkJFD5rfIuXGbtIIjkUOMVRCO98hietgw2DXGpq4QSlynaP652goqqPCE0YYoPxfqKXQ0rceN/6WUj/3LYZDT3jUOKt+6t1SR1Z1nTfNJ5pXfNcLBnUVuU8u6AHe9fwXQ+4P2vjAHj2kLzyS+RVgAJKfyOcTLuk9AAAAAElFTkSuQmCC");background-repeat:no-repeat;background-position:17px 9px;border:1px solid transparent;border-radius:17px}.fp__btn:hover{background-color:#12a2c8}.fp__btn:active,.fp__btn:focus{outline:none}@media only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2 / 1), only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2){.fp__btn{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAaCAYAAABCfffNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMTI4ZDMwOC1iNjY2LTQyNzgtOTU1MC04NDk5YzViMzBhMmYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTJCRDQ1RTYwQzIxMTFFNThEOTU4QzAyNzQ4QUU2NzUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTJCRDQ1RTUwQzIxMTFFNThEOTU4QzAyNzQ4QUU2NzUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyYTg3Yjk2MS1lYjk5LTRhODAtYWZjZi0wZjA2MTBlNzA5ZDYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDEyOGQzMDgtYjY2Ni00Mjc4LTk1NTAtODQ5OWM1YjMwYTJmIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+yaecmgAAAftJREFUeNq0ls8rRFEUx9+MSUKR8mPKr4YtxUJJykZkY6HIUlmglKUSFmwssZB/wI+FstGUBcWUBRZWyI8I0+RX2AjxfI/O5Di9Z+7z49Rnuvfcc+Z73733nft8tm1bbDWgF9SCHPAE7sAZOAH7zAE4BreWoflYZACMUN8yNxI5Ys5BDFwx1L7k9jOJ1KOxbP2fzZNIGI1GdjyDOXABAqAAVIHQL0QeLYjc25/WTcvnQB5oAeNgz/Zma/QHb8JR5yIiWRDxryAKHl0ENkEJJcWEcyyBQA54EfHrYiwVZIMQKOf2xxj9hEUSzaj6G5EONdMpgye3/NiYCbFJKWAV9Lkc5wbVjxltPatNO6xnk5hNEWgDNyqmn8eTQC4vlU8/iSWCBsEDJ2+BDBF47LKxJHqlfF1uInGS+bhqv5djO5RIxA1ahiUDgSdQofN9okAmslYqEcq3Am7AC9evGbCjEwMeykOag28YRBIl+j2IpDv4TkwS/b94Erpvon8tkqX6dHG9/bVIturvmiY6ibSDWTAJ8oW/WMVtG09PnekRde6bxdi1Gqs0fMe+iGTwyyStkMdKlX/XVCBeheMWBMmi/8pfKpa4nuM26ukCFopUJA/VjDtBUBXIRadKa7pcRBk4/aY2RVR1/pEIkcmVdJM/Mu7ABugBAa8CxLsAAwAX4ouMwjfqEwAAAABJRU5ErkJggg==");background-size:13px 13px}}',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}catch(r){}}var t=this,n=function(e,t,n,r){var i=r.getAttribute(n);i&&(t[e]=i)},r=function(e,t){var n;document.createEvent?(n=document.createEvent("Event"),n.initEvent("change",!0,!1),n.fpfile=t?t[0]:void 0,n.fpfiles=t,e.dispatchEvent(n)):document.createEventObject?(n=document.createEventObject("Event"),n.eventPhase=2,n.currentTarget=n.srcElement=n.target=e,n.fpfile=t?t[0]:void 0,n.fpfiles=t,e.fireEvent("onchange",n)):e.onchange&&e.onchange(t)},i=function(e,t){t[e]&&(t[e]=t[e].split(","))},o=function(e,t,r){for(var i in r)n(r[i],e,i,t)},a=function(e,r){r=r||"pick";var a={},s={"data-fp-container":"container","data-fp-mimetype":"mimetype","data-fp-extension":"extension","data-fp-openTo":"openTo","data-fp-debug":"debug","data-fp-signature":"signature","data-fp-policy":"policy","data-fp-language":"language","data-fp-background-upload":"backgroundUpload","data-fp-hide":"hide","data-fp-custom-css":"customCss","data-fp-crop-force":"cropForce","data-fp-crop-ratio":"cropRatio","data-fp-crop-dim":"cropDim","data-fp-crop-max":"cropMax","data-fp-crop-min":"cropMin","data-fp-show-close":"showClose","data-fp-conversions":"conversions","data-fp-custom-text":"customText"},u={"data-fp-mimetypes":"mimetypes","data-fp-extensions":"extensions","data-fp-maxSize":"maxSize","data-fp-maxFiles":"maxFiles","data-fp-store-location":"storeLocation","data-fp-store-path":"storePath","data-fp-store-container":"storeContainer","data-fp-store-access":"storeAccess","data-fp-image-quality":"imageQuality","data-fp-image-dim":"imageDim","data-fp-image-max":"imageMax","data-fp-image-min":"imageMin","data-fp-webcam-dim":"webcamDim"};o(a,e,s),"export"===r?n("suggestedFilename",a,"data-fp-suggestedFilename",e):"pick"===r&&o(a,e,u);var l=e.getAttribute("data-fp-services");if(l){l=l.split(",");for(var c=0;c<l.length;c++)l[c]=t.services[l[c].replace(" ","")]||l[c];a.services=l}var p=e.getAttribute("data-fp-service");p&&(a.service=t.services[p.replace(" ","")]||p);var d=["extensions","mimetypes","imageDim","imageMin","imageMax","cropDim","cropMax","cropMin","webcamDim","conversions"];for(var f in d)i(d[f],a);var h=e.getAttribute("data-fp-apikey");return h&&t.setKey(h),a.folders="true"===e.getAttribute("data-fp-folders"),a},s=function(e){return"true"===e.getAttribute("data-fp-multiple")},u=function(e){var n=document.createElement("button");n.setAttribute("type","button"),n.innerHTML=e.getAttribute("data-fp-button-text")||"Pick File",n.className=e.getAttribute("data-fp-button-class")||e.className||"fp__btn",e.style.display="none";var i=a(e);s(e)?n.onclick=function(){return n.blur(),t.pickMultiple(i,function(t){for(var n=[],i=0;i<t.length;i++)n.push(t[i].url);e.value=n.join(),r(e,t)}),!1}:n.onclick=function(){return n.blur(),t.pick(i,function(t){e.value=t.url,r(e,[t])}),!1},e.parentNode.insertBefore(n,e.nextSibling)},l=function(e){var n=e.getAttribute("data-fp-url");if(!n)return!0;var i=document.createElement("button");i.setAttribute("type","button"),i.innerHTML=e.getAttribute("data-fp-button-text")||"Convert File",i.className=e.getAttribute("data-fp-button-class")||e.className||"fp__btn",e.style.display="none";var o=a(e,"convert");i.onclick=function(){return i.blur(),t.processImage(n,o,function(t){e.value=t.url,r(e,[t])}),!1},e.parentNode.insertBefore(i,e.nextSibling);
},c=function(e){var n=document.createElement("div");n.className=e.getAttribute("data-fp-class")||e.className,n.style.padding="1px",e.style.display="none",e.parentNode.insertBefore(n,e.nextSibling);var i=document.createElement("button");i.setAttribute("type","button"),i.innerHTML=e.getAttribute("data-fp-button-text")||"Pick File",i.className=e.getAttribute("data-fp-button-class")||"fp__btn",n.appendChild(i);var o=document.createElement("div");d(o),o.innerHTML=e.getAttribute("data-fp-drag-text")||"Or drop files here",o.className=e.getAttribute("data-fp-drag-class")||"",n.appendChild(o);var u=a(e),l=s(e);t.dragdrop.enabled()?f(o,l,u,e):o.innerHTML="&nbsp;",l?o.onclick=i.onclick=function(){return i.blur(),t.pickMultiple(u,function(t){for(var n=[],i=[],a=0;a<t.length;a++)n.push(t[a].url),i.push(t[a].filename);e.value=n.join(),p(e,o,i.join(", ")),r(e,t)}),!1}:o.onclick=i.onclick=function(){return i.blur(),t.pick(u,function(t){e.value=t.url,p(e,o,t.filename),r(e,[t])}),!1}},p=function(e,n,i){n.innerHTML=i,n.style.padding="2px 4px",n.style.cursor="default",n.style.width="";var o=document.createElement("span");o.innerHTML="X",o.style.borderRadius="8px",o.style.fontSize="14px",o.style.cssFloat="right",o.style.padding="0 3px",o.style.color="#600",o.style.cursor="pointer";var a=function(i){return i||(i=window.event),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation(),d(n),t.dragdrop.enabled?n.innerHTML=e.getAttribute("data-fp-drag-text")||"Or drop files here":n.innerHTML="&nbsp;",e.value="",r(e),!1};o.addEventListener?o.addEventListener("click",a,!1):o.attachEvent&&o.attachEvent("onclick",a),n.appendChild(o)},d=function(e){e.style.border="1px dashed #AAA",e.style.display="inline-block",e.style.margin="0 0 0 4px",e.style.borderRadius="3px",e.style.backgroundColor="#F3F3F3",e.style.color="#333",e.style.fontSize="14px",e.style.lineHeight="22px",e.style.padding="2px 4px",e.style.verticalAlign="middle",e.style.cursor="pointer",e.style.overflow="hidden"},f=function(e,n,i,o){var a,s=e.innerHTML;t.dragdrop.makeDropPane(e,{multiple:n,maxSize:i.maxSize,mimetypes:i.mimetypes,mimetype:i.mimetype,extensions:i.extensions,extension:i.extension,location:i.storeLocation,path:i.storePath,container:i.storeContainer,access:i.storeAccess,policy:i.policy,signature:i.signature,dragEnter:function(){e.innerHTML="Drop to upload",e.style.backgroundColor="#E0E0E0",e.style.border="1px solid #000"},dragLeave:function(){e.innerHTML=s,e.style.backgroundColor="#F3F3F3",e.style.border="1px dashed #AAA"},onError:function(t,n){"TooManyFiles"===t?e.innerHTML=n:"WrongType"===t?e.innerHTML=n:"NoFilesFound"===t?e.innerHTML=n:"UploadError"===t&&(e.innerHTML="Oops! Had trouble uploading.")},onStart:function(t){a=h(e)},onProgress:function(e){a&&(a.style.width=e+"%")},onSuccess:function(t){for(var n=[],i=[],a=0;a<t.length;a++)n.push(t[a].url),i.push(t[a].filename);o.value=n.join(),p(o,e,i.join(", ")),r(o,t)}})},h=function(e){var t=document.createElement("div"),n=e.offsetHeight-2;return t.style.height=n+"px",t.style.backgroundColor="#0E90D2",t.style.width="2%",t.style.borderRadius="3px",e.style.width=e.offsetWidth+"px",e.style.padding="0",e.style.border="1px solid #AAA",e.style.backgroundColor="#F3F3F3",e.style.boxShadow="inset 0 1px 2px rgba(0, 0, 0, 0.1)",e.innerHTML="",e.appendChild(t),t},m=function(e){e.onclick=function(){var n=e.getAttribute("data-fp-url");if(!n)return!0;var r=a(e,"export");return t.exportFile(n,r),!1}},g=function(){if(document.querySelectorAll){var t,n=document.querySelectorAll('input[type="filepicker"]');for(t=0;t<n.length;t++)u(n[t]);var r=document.querySelectorAll('input[type="filepicker-dragdrop"]');for(t=0;t<r.length;t++)c(r[t]);var i=document.querySelectorAll('input[type="filepicker-convert"]');for(t=0;t<i.length;t++)l(i[t]);var o=[],a=document.querySelectorAll("button[data-fp-url]");for(t=0;t<a.length;t++)o.push(a[t]);for(a=document.querySelectorAll("a[data-fp-url]"),t=0;t<a.length;t++)o.push(a[t]);for(a=document.querySelectorAll('input[type="button"][data-fp-url]'),t=0;t<a.length;t++)o.push(a[t]);for(t=0;t<o.length;t++)m(o[t]);var s=document.querySelectorAll('[type="filepicker-preview"][data-fp-url]');for(t=0;t<s.length;t++)y(s[t]);e()}},v=function(e){e.jquery&&(e=e[0]);var n=e.getAttribute("type");"filepicker"===n?u(e):"filepicker-dragdrop"===n?c(e):"filepicker-preview"===n?y(e):e.getAttribute("data-fp-src")?t.responsiveImages.construct(e):m(e)},y=function(e){var n=e.getAttribute("data-fp-url"),r=e.getAttribute("data-fp-custom-css");if(!n||!t.util.isFPUrl(n))return!0;n=n.replace("api/file/","api/preview/");var i=document.createElement("iframe");r&&(n=t.util.appendQueryToUrl(n,"css",r)),i.src=n,i.width="100%",i.height="100%",e.appendChild(i)};return{constructPickWidget:u,constructDragWidget:c,constructExportWidget:m,buildWidgets:g,constructWidget:v}}),function(){filepicker.internal(function(){var e=this;e.util.addOnLoad(e.cookies.checkThirdParty),e.util.addOnLoad(e.widgets.buildWidgets),e.util.addOnLoad(e.responsiveImages.activate)}),delete filepicker.internal,delete filepicker.extend;var e,t=filepicker._queue||[],n=t.length;if(n)for(var r=0;n>r;r++)e=t[r],filepicker[e[0]].apply(filepicker,e[1]);filepicker._queue&&delete filepicker._queue}()},function(e,t,n){var r,i=n(1);n(51),r=i.module("opendesk.open.auth",["http-auth-interceptor",n(52),n(8),n(41)]),r.controller("AuthController",["$scope","$rootScope","$state","$stateParams","$window","authService","formService","userService",function(e,t,n,r,i,o,a,s){var u,l,c;return e.show_auth_form=e.show_auth_form||!1,e.reset_password_requested=!1,e.reset_password_error=null,e.auth_error_msg=null,e.auth_login_data={},e.auth_signup_data={},c=function(e){return i.location.reload()},l=function(e){var t,n;return t=null!=e.headers?e.headers:{},n=s.bearer_token,null!=n&&null!=n.access_token&&(t.Authorization="Bearer "+n.access_token),e.headers=t,e},u=function(n,r,i){var u,c,p;return i?t.$broadcast("event:auth-start-login"):t.$broadcast("event:auth-start"),e.auth_error_msg=null,e.reset_password_error=null,e.reset_password_requested=!1,p=function(e){return o.loginConfirmed(e,l)},u=function(e){return a.displayErrors(n,e.data.errors),t.$broadcast("event:auth-failure")},c=s.authenticate(r,i),c.then(p,u)},e.auth_login=function(){return u(this.login_form,e.auth_login_data,!0)},e.auth_signup=function(){return u(this.signup_form,e.auth_signup_data,!1)},e.auth_logout=function(){return t.$broadcast("event:auth-logoutRequired"),!1},e.auth_forgot=function(){var t,n,r,i;return t=e.auth_login_data.email,n=function(t){var n;return n=t.data.errors[0],e.reset_password_error=n.description},i=function(t){return e.reset_password_requested=!0,e.reset_password_error=null},r=s.reset(t),r.then(i,n),e.reset_password_error=null,!1},e.auth_close=function(){return e.show_auth_form=!1,t.$broadcast("event:auth-cancelled"),!1},e.$on("event:auth-loginRequired",function(t){return function(t,n){var r,i,a,u,c;return e.reset_password_error=null,e.reset_password_requested=!1,null!=n&&null!=n.config&&(i=n.config.data),null!=i&&i.user_email?(r={email:i.user_email,name:i.user_name,password:i.user_password},a=function(t){return e.auth_login_data.email=i.user_email,e.auth_signup_data.email=i.user_email,i.user_name&&(e.auth_signup_data.name=i.user_name),e.show_auth_form=!0,null!=t&&null!=t.data&&null!=t.data.errors?e.auth_errors=t.data.errors:void 0},c=function(e){return o.loginConfirmed(e,l)},u=s.authenticate(r,!1),u.then(c,a)):(e.show_auth_form=!0,e.auth_errors=null)}}(this)),e.$on("event:auth-loginConfirmed",function(){return s.identify(),e.show_auth_form=!1,e.auth_errors=null}),e.$on("event:auth-logoutRequired",function(){return s.logout(),e.auth_errors=null}),e.$on("event:user-changed",function(e,t,r){var i;return i=n.current,r||null==i.data||null==i.data.access||i.data.access.authenticated&&c("user-changed"),r&&"notfound"===i.name?c("notfound"):void 0}),t.$on("$stateChangeStart",function(t,n){var r,i;return e.show_auth_form=!1,null!=n.data&&null!=n.data.access?(r=n.data.access,r.authenticated?(i=s.identify(),i.then(function(){return s.isAuthenticated()?void 0:e.show_auth_form=!0})):void 0):void 0})}]),r.directive("interceptAuth",["$window",function(e){return{restrict:"C",link:function(t,n){var r,i;return r=n.find("#auth-intercept"),i=n.find("#auth-wrapped"),t.show_auth_form&&(r.show(),i.hide()),t.$watch("show_auth_form",function(){return t.show_auth_form?(i.slideUp(),r.slideDown(),e.jQuery("body,html").animate({scrollTop:0})):(r.slideUp(),i.slideDown())}),r.hide()}}}]),e.exports=r.name},function(e,t){/**
	 * @license HTTP Auth Interceptor Module for AngularJS
	 * (c) 2012 Witold Szczerba
	 * License: MIT
	 */
!function(){"use strict";angular.module("http-auth-interceptor",["http-auth-interceptor-buffer"]).factory("authService",["$rootScope","httpBuffer",function(e,t){return{loginConfirmed:function(n,r){var i=r||function(e){return e};e.$broadcast("event:auth-loginConfirmed",n),t.retryAll(i)},loginCancelled:function(n,r){t.rejectAll(r),e.$broadcast("event:auth-loginCancelled",n)}}}]).config(["$httpProvider",function(e){e.interceptors.push(["$rootScope","$q","httpBuffer",function(e,t,n){return{responseError:function(r){if(!r.config.ignoreAuthModule)switch(r.status){case 401:var i=t.defer();return n.append(r.config,i),e.$broadcast("event:auth-loginRequired",r),i.promise;case 403:e.$broadcast("event:auth-forbidden",r)}return t.reject(r)}}}])}]),angular.module("http-auth-interceptor-buffer",[]).factory("httpBuffer",["$injector",function(e){function t(t,r){function i(e){r.resolve(e)}function o(e){r.reject(e)}n=n||e.get("$http"),n(t).then(i,o)}var n,r=[];return{append:function(e,t){r.push({config:e,deferred:t})},rejectAll:function(e){if(e)for(var t=0;t<r.length;++t)r[t].deferred.reject(e);r=[]},retryAll:function(e){for(var n=0;n<r.length;++n)t(e(r[n].config),r[n].deferred);r=[]}}}])}()},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.forms",[]),r.service("formService",function(){return{displayErrors:function(e,t){var n,r,i,o,a;if(null!=t){for(a=[],i=0,o=t.length;o>i;i++)r=t[i],n=e[r.name],null!=n&&n.$error?a.push(n.$error.msg=r.description):a.push(void 0);return a}}}}),r.directive("formGroup",function(){return{template:'<div class="{{ className || \'form-group\' }}"\n    ng-class="{ \'has-error\': isError }">\n<label class="control-label" for="{{ for }}"\n    ng-if="label">\n    {{ label }}\n</label>\n<div ng-transclude></div>\n<span class="help-{{ display || \'block\' }}" ng-show="errorMsg">\n    {{ errorMsg }}\n</span>\n</div>',replace:!0,require:"^form",transclude:!0,scope:{label:"@",display:"@",className:"@"},link:function(e,t,n,r){var i,o,a,s;return i=t.find(":input"),o=i.attr("name"),e["for"]=o,e.isRequired=i.is("[required]"),s=r.$name+"."+o,a=e.$parent,a.$watch(s+".$dirty",function(t){return e.isDirty=t}),a.$watch(s+".$invalid",function(t){return e.isInvalid=t}),a.$watch(s+".$modelValue",function(t){return e.errorMsg=null}),a.$watch(s+".$error.msg",function(t){return e.errorMsg=t}),e.$watch("isDirty + isInvalid + errorMsg",function(){var t;return t=e.isDirty&&e.isInvalid,e.isError=t||null!=e.errorMsg})}}}),r.directive("forgivingUrl",function(){var e;return e=/^([a-z]+:\/\/)?\S+\.\S+$/,{require:"ngModel",link:function(t,n,r,i){var o;return o=n.attr("name"),i.$parsers.unshift(function(t){var n;return t&&!e.test(t)?void i.$setValidity(o,!1):(i.$setValidity(o,!0),t?(n=t.indexOf("://"),n>0?t:"http://"+t):t)})}}}),r.directive("pickUpAutoFill",["$timeout",function(e){return{require:"ngModel",link:function(t,n,r,i){var o,a,s,u,l,c,p;for(u=n.val(),c=function(){var e;return e=n.val(),i.$pristine&&e!==u?i.$setViewValue(e):void 0},p=function(){return i.$setViewValue(n.val())},l=[200,600,1800],a=0,s=l.length;s>a;a++)o=l[a],e(c,o);return n.blur(function(){return e(p,0)})}}}]),e.exports=r.name},function(e,t,n){/*!
	 * angular-masonry <%= pkg.version %>
	 * Pascal Hartig, weluse GmbH, http://weluse.de/
	 * License: MIT
	 */
n(54),n(55),n(58);var r=n(1),i=r.module("wu.masonry",[]).controller("MasonryCtrl",["$scope","$element","$timeout",function(e,t,n){var r={},i=[],o=!1,a=this,s=null;this.scheduleMasonryOnce=function(){var e=arguments,t=i.filter(function(t){return t[0]===e[0]}).length>0;t||this.scheduleMasonry.apply(null,arguments)},this.scheduleMasonry=function(){s&&n.cancel(s),i.push([].slice.call(arguments)),s=n(function(){o||(i.forEach(function(e){t.masonry.apply(t,e)}),i=[])},60)},this.appendBrick=function(n,i){function s(){o||(0===Object.keys(r).length&&t.masonry("resize"),void 0===r[i]&&(r[i]=!0,t.masonry("appended",n,!0),a.scheduleMasonryOnce("reloadItems"),a.scheduleMasonryOnce("layout")))}function u(){n.addClass("loaded"),e.$emit("masonry.imagesLoaded",n)}var l=n.find("[ng-img-preload-aspect-ratio]").length;l?(s(),n.imagesLoaded(u)):n.imagesLoaded(function(){s(),u()})},this.removeBrick=function(e,n){o||(delete r[e],t.masonry("remove",n),this.scheduleMasonryOnce("layout"))},this.destroy=function(){t.data("masonry")&&t.masonry("destroy"),e.$emit("masonry.destroyed"),r=[],o=!0},this.reload=function(){t.masonry(),e.$emit("masonry.reloaded")}}]).directive("masonry",function(){return{restrict:"AE",controller:"MasonryCtrl",link:{pre:function(e,t,n,i){var o=e.$eval(n.masonry||n.masonryOptions),a=r.extend(o||{},{itemSelector:n.itemSelector||".masonry-brick",columnWidth:parseInt(n.columnWidth,10)});t.masonry(a),e.$emit("masonry.created",t),e.$on("masonry.reload",function(){i.reload()}),e.$on("$destroy",i.destroy)}}}}).directive("masonryBrick",function(){return{restrict:"AC",require:"^masonry",scope:!0,link:{pre:function(e,t,n,r){var i,o=e.$id;r.appendBrick(t,o),t.on("$destroy",function(){r.removeBrick(o,t)}),e.$watch("$index",function(){void 0!==i&&i!==e.$index&&(r.scheduleMasonryOnce("reloadItems"),r.scheduleMasonryOnce("layout")),i=e.$index})}}}});e.exports=i.name},function(e,t,n){var r=!1;!function(e){"use strict";function t(){}function i(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function r(t,n){e.fn[t]=function(r){if("string"==typeof r){for(var a=o.call(arguments,1),s=0,u=this.length;u>s;s++){var l=this[s],c=e.data(l,t);if(c)if(e.isFunction(c[r])&&"_"!==r.charAt(0)){var p=c[r].apply(c,a);if(void 0!==p)return p}else i("no such method '"+r+"' for "+t+" instance");else i("cannot call methods on "+t+" prior to initialization; attempted to call '"+r+"'")}return this}return this.each(function(){var i=e.data(this,t);i?(i.option(r),i._init()):(i=new n(this,r),e.data(this,t,i))})}}if(e){var i="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),r(e,t)},e.bridget}}var o=Array.prototype.slice;"function"==typeof r&&r.amd?r(["jquery"],i):i(n(14))}(window)},function(e,t,n){var r=!1;/*!
	 * imagesLoaded v3.2.0
	 * JavaScript is all like "You images are done yet or what?"
	 * MIT License
	 */
!function(t,i){"use strict";"function"==typeof r&&r.amd?r(["eventEmitter/EventEmitter","eventie/eventie"],function(e,n){return i(t,e,n)}):"object"==typeof e&&e.exports?e.exports=i(t,n(56),n(57)):t.imagesLoaded=i(t,t.EventEmitter,t.eventie)}(window,function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}function i(e){return"[object Array]"==p.call(e)}function o(e){var t=[];if(i(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=r({},this.options),"function"==typeof t?n=t:r(this.options,t),n&&this.on("always",n),this.getImages(),l&&(this.jqDeferred=new l.Deferred);var i=this;setTimeout(function(){i.check()})}function s(e){this.img=e}function u(e,t){this.url=e,this.element=t,this.img=new Image}var l=e.jQuery,c=e.console,p=Object.prototype.toString;a.prototype=new t,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var e=0;e<this.elements.length;e++){var t=this.elements[e];this.addElementImages(t)}},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&d[t]){for(var n=e.querySelectorAll("img"),r=0;r<n.length;r++){var i=n[r];this.addImage(i)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(r=0;r<o.length;r++){var a=o[r];this.addElementBackgroundImages(a)}}}};var d={1:!0,9:!0,11:!0};a.prototype.addElementBackgroundImages=function(e){for(var t=f(e),n=/url\(['"]*([^'"\)]+)['"]*\)/gi,r=n.exec(t.backgroundImage);null!==r;){var i=r&&r[1];i&&this.addBackground(i,e),r=n.exec(t.backgroundImage)}};var f=e.getComputedStyle||function(e){return e.currentStyle};return a.prototype.addImage=function(e){var t=new s(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var n=new u(e,t);this.images.push(n)},a.prototype.check=function(){function e(e,n,r){setTimeout(function(){t.progress(e,n,r)})}var t=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();for(var n=0;n<this.images.length;n++){var r=this.images[n];r.once("progress",e),r.check()}},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emit("progress",this,e,t),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&c&&c.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(e,this),this.emit("always",this),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},s.prototype=new t,s.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,n.bind(this.proxyImage,"load",this),n.bind(this.proxyImage,"error",this),n.bind(this.img,"load",this),n.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},s.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("progress",this,this.img,t)},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},s.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},s.prototype.unbindEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this),n.unbind(this.img,"load",this),n.unbind(this.img,"error",this)},u.prototype=new s,u.prototype.check=function(){n.bind(this.img,"load",this),n.bind(this.img,"error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},u.prototype.unbindEvents=function(){n.unbind(this.img,"load",this),n.unbind(this.img,"error",this)},u.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("progress",this,this.element,t)},a.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(l=t,l.fn.imagesLoaded=function(e,t){var n=new a(this,e,t);return n.jqDeferred.promise(l(this))})},a.makeJQueryPlugin(),a})},function(e,t){var n=!1;(function(){"use strict";function t(){}function r(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var o=t.prototype,a=this,s=a.EventEmitter;o.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},o.addListener=function(e,t){var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===r(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},o.on=i("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&(n=r(o[i],t),-1!==n&&o[i].splice(n,1));return this},o.off=i("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},o.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(e,t){var n,r,i,o,a,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].slice(0),i=n.length;i--;)r=n[i],r.once===!0&&this.removeListener(e,r.listener),a=r.listener.apply(this,t||[]),a===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},o.trigger=i("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return a.EventEmitter=s,t},"function"==typeof n&&n.amd?n(function(){return t}):"object"==typeof e&&e.exports?e.exports=t:a.EventEmitter=t}).call(this)},function(e,t,n){var r=!1;/*!
	 * eventie v1.0.6
	 * event binding helper
	 *   eventie.bind( elem, 'click', myFn )
	 *   eventie.unbind( elem, 'click', myFn )
	 * MIT license
	 */
!function(t){"use strict";function n(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var i=document.documentElement,o=function(){};i.addEventListener?o=function(e,t,n){e.addEventListener(t,n,!1)}:i.attachEvent&&(o=function(e,t,r){e[t+r]=r.handleEvent?function(){var t=n(e);r.handleEvent.call(r,t)}:function(){var t=n(e);r.call(e,t)},e.attachEvent("on"+t,e[t+r])});var a=function(){};i.removeEventListener?a=function(e,t,n){e.removeEventListener(t,n,!1)}:i.detachEvent&&(a=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=void 0}});var s={bind:o,unbind:a};"function"==typeof r&&r.amd?r(s):e.exports=s}(window)},function(e,t,n){var r=!1;/*!
	 * Masonry v3.3.2
	 * Cascading grid layout library
	 * http://masonry.desandro.com
	 * MIT License
	 * by David DeSandro
	 */
!function(t,i){"use strict";"function"==typeof r&&r.amd?r(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],i):e.exports=i(n(59),n(62),n(64))}(window,function(e,t,n){"use strict";var r=e.create("masonry");return r.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},r.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var r=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,o=i/r,a=r-i%r,s=a&&1>a?"round":"floor";o=Math[s](o),this.cols=Math.max(o,1)},r.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},r.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,r=t&&1>t?"round":"ceil",i=Math[r](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var o=this._getColGroup(i),a=Math.min.apply(Math,o),s=n.indexOf(o,a),u={x:this.columnWidth*s,y:a},l=a+e.size.outerHeight,c=this.cols+1-o.length,p=0;c>p;p++)this.colYs[s+p]=l;return u},r.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],n=this.cols+1-e,r=0;n>r;r++){var i=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,i)}return t},r.prototype._manageStamp=function(e){var n=t(e),r=this._getElementOffset(e),i=this.options.isOriginLeft?r.left:r.right,o=i+n.outerWidth,a=Math.floor(i/this.columnWidth);a=Math.max(0,a);var s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var u=(this.options.isOriginTop?r.top:r.bottom)+n.outerHeight,l=a;s>=l;l++)this.colYs[l]=Math.max(u,this.colYs[l])},r.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},r.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},r.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},r})},function(e,t,n){var r=!1;/*!
	 * Outlayer v1.4.2
	 * the brains and guts of a layout library
	 * MIT license
	 */
!function(t,i){"use strict";"function"==typeof r&&r.amd?r(["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(e,n,r,o,a){return i(t,e,n,r,o,a)}):e.exports=i(t,n(60),n(61),n(62),n(64),n(68))}(window,function(e,t,n,r,i,o){"use strict";function a(e,t){var n=i.getQueryElement(e);if(!n)return void(s&&s.error("Bad element for "+this.constructor.namespace+": "+(n||e)));this.element=n,u&&(this.$element=u(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t);var r=++c;this.element.outlayerGUID=r,p[r]=this,this._create(),this.options.isInitLayout&&this.layout()}var s=e.console,u=e.jQuery,l=function(){},c=0,p={};return a.namespace="outlayer",a.Item=o,a.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},i.extend(a.prototype,n.prototype),a.prototype.option=function(e){i.extend(this.options,e)},a.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},a.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},a.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,r=[],i=0,o=t.length;o>i;i++){var a=t[i],s=new n(a,this);r.push(s)}return r},a.prototype._filterFindItemElements=function(e){return i.filterFindElements(e,this.options.itemSelector)},a.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;n>t;t++)e.push(this.items[t].element);return e},a.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=r(this.element)},a.prototype._getMeasurement=function(e,t){var n,o=this.options[e];o?("string"==typeof o?n=this.element.querySelector(o):i.isElement(o)&&(n=o),this[e]=n?r(n)[t]:o):this[e]=0},a.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},a.prototype._getItemsForLayout=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n];i.isIgnored||t.push(i)}return t},a.prototype._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){for(var n=[],r=0,i=e.length;i>r;r++){var o=e[r],a=this._getItemLayoutPosition(o);a.item=o,a.isInstant=t||o.isLayoutInstant,n.push(a)}this._processLayoutQueue(n)}},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];this._positionItem(r.item,r.x,r.y,r.isInstant)}},a.prototype._positionItem=function(e,t,n,r){r?e.goTo(t,n):e.moveTo(t,n)},a.prototype._postLayout=function(){this.resizeContainer()},a.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},a.prototype._getContainerSize=l,a.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},a.prototype._emitCompleteOnItems=function(e,t){function n(){i.dispatchEvent(e+"Complete",null,[t])}function r(){a++,a===o&&n()}var i=this,o=t.length;if(!t||!o)return void n();for(var a=0,s=0,u=t.length;u>s;s++){var l=t[s];l.once(e,r)}},a.prototype.dispatchEvent=function(e,t,n){var r=t?[t].concat(n):n;if(this.emitEvent(e,r),u)if(this.$element=this.$element||u(this.element),t){var i=u.Event(t);i.type=e,this.$element.trigger(i,n)}else this.$element.trigger(e,n)},a.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},a.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},a.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;n>t;t++){var r=e[t];this.ignore(r)}}},a.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;n>t;t++){var r=e[t];i.removeFrom(this.stamps,r),this.unignore(r)}},a.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=i.makeArray(e)):void 0},a.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var n=this.stamps[e];this._manageStamp(n)}}},a.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},a.prototype._manageStamp=l,a.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,i=r(e),o={left:t.left-n.left-i.marginLeft,top:t.top-n.top-i.marginTop,right:n.right-t.right-i.marginRight,bottom:n.bottom-t.bottom-i.marginBottom};return o},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.bindResize=function(){this.isResizeBound||(t.bind(e,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(e,"resize",this),this.isResizeBound=!1},a.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},a.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},a.prototype.needsResizeLayout=function(){var e=r(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},a.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},a.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},a.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},a.prototype.reveal=function(e){this._emitCompleteOnItems("reveal",e);for(var t=e&&e.length,n=0;t&&t>n;n++){var r=e[n];r.reveal()}},a.prototype.hide=function(e){this._emitCompleteOnItems("hide",e);for(var t=e&&e.length,n=0;t&&t>n;n++){var r=e[n];r.hide()}},a.prototype.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},a.prototype.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},a.prototype.getItem=function(e){for(var t=0,n=this.items.length;n>t;t++){var r=this.items[t];if(r.element===e)return r}},a.prototype.getItems=function(e){e=i.makeArray(e);for(var t=[],n=0,r=e.length;r>n;n++){var o=e[n],a=this.getItem(o);a&&t.push(a)}return t},a.prototype.remove=function(e){var t=this.getItems(e);if(this._emitCompleteOnItems("remove",t),t&&t.length)for(var n=0,r=t.length;r>n;n++){var o=t[n];o.remove(),i.removeFrom(this.items,o)}},a.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;n>t;t++){var r=this.items[t];r.destroy()}this.unbindResize();var i=this.element.outlayerGUID;delete p[i],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},a.data=function(e){e=i.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&p[t]},a.create=function(e,t){function n(){a.apply(this,arguments)}return Object.create?n.prototype=Object.create(a.prototype):i.extend(n.prototype,a.prototype),n.prototype.constructor=n,n.defaults=i.extend({},a.defaults),i.extend(n.defaults,t),n.prototype.settings={},n.namespace=e,n.data=a.data,n.Item=function(){o.apply(this,arguments)},n.Item.prototype=new o,i.htmlInit(n,e),u&&u.bridget&&u.bridget(e,n),n},a.Item=o,a})},57,56,function(e,t,n){var r=!1;/*!
	 * getSize v1.2.2
	 * measure size of elements
	 * MIT license
	 */
!function(t,i){"use strict";function o(e){var t=parseFloat(e),n=-1===e.indexOf("%")&&!isNaN(t);return n&&t}function a(){}function s(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=c.length;n>t;t++){var r=c[t];e[r]=0}return e}function u(e){function n(){if(!d){d=!0;var n=t.getComputedStyle;if(a=function(){var e=n?function(e){return n(e,null)}:function(e){return e.currentStyle};return function(t){var n=e(t);return n||l("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),u=e("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[u]="border-box";var i=document.body||document.documentElement;i.appendChild(r);var s=a(r);p=200===o(s.width),i.removeChild(r)}}}function r(e){if(n(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=a(e);if("none"===t.display)return s();var r={};r.width=e.offsetWidth,r.height=e.offsetHeight;for(var l=r.isBorderBox=!(!u||!t[u]||"border-box"!==t[u]),d=0,f=c.length;f>d;d++){var h=c[d],m=t[h];m=i(e,m);var g=parseFloat(m);r[h]=isNaN(g)?0:g}var v=r.paddingLeft+r.paddingRight,y=r.paddingTop+r.paddingBottom,$=r.marginLeft+r.marginRight,b=r.marginTop+r.marginBottom,w=r.borderLeftWidth+r.borderRightWidth,x=r.borderTopWidth+r.borderBottomWidth,k=l&&p,E=o(t.width);E!==!1&&(r.width=E+(k?0:v+w));var C=o(t.height);return C!==!1&&(r.height=C+(k?0:y+x)),r.innerWidth=r.width-(v+w),r.innerHeight=r.height-(y+x),r.outerWidth=r.width+$,r.outerHeight=r.height+b,r}}function i(e,n){if(t.getComputedStyle||-1===n.indexOf("%"))return n;var r=e.style,i=r.left,o=e.runtimeStyle,a=o&&o.left;return a&&(o.left=e.currentStyle.left),r.left=n,n=r.pixelLeft,r.left=i,a&&(o.left=a),n}var a,u,p,d=!1;return r}var l="undefined"==typeof console?a:function(e){console.error(e)},c=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof r&&r.amd?r(["get-style-property/get-style-property"],u):e.exports=u(n(63))}(window)},function(e,t,n){var r=!1;/*!
	 * getStyleProperty v1.0.4
	 * original by kangax
	 * http://perfectionkills.com/feature-testing-css-properties/
	 * MIT license
	 */
!function(t){"use strict";function n(e){if(e){if("string"==typeof o[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,n=0,r=i.length;r>n;n++)if(t=i[n]+e,"string"==typeof o[t])return t}}var i="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof r&&r.amd?r(function(){return n}):e.exports=n}(window)},function(e,t,n){var r=!1;!function(t,i){"use strict";"function"==typeof r&&r.amd?r(["doc-ready/doc-ready","matches-selector/matches-selector"],function(e,n){return i(t,e,n)}):e.exports=i(t,n(65),n(67))}(window,function(e,t,n){"use strict";var r={};r.extend=function(e,t){for(var n in t)e[n]=t[n];return e},r.modulo=function(e,t){return(e%t+t)%t};var i=Object.prototype.toString;r.isArray=function(e){return"[object Array]"==i.call(e)},r.makeArray=function(e){var t=[];if(r.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t},r.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},r.removeFrom=function(e,t){var n=r.indexOf(e,t);-1!=n&&e.splice(n,1)},r.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},r.setText=function(){function e(e,n){t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText"),e[t]=n}var t;return e}(),r.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,n(e,t))return e},r.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},r.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.filterFindElements=function(e,t){e=r.makeArray(e);for(var i=[],o=0,a=e.length;a>o;o++){var s=e[o];if(r.isElement(s))if(t){n(s,t)&&i.push(s);for(var u=s.querySelectorAll(t),l=0,c=u.length;c>l;l++)i.push(u[l])}else i.push(s)}return i},r.debounceMethod=function(e,t,n){var r=e.prototype[t],i=t+"Timeout";e.prototype[t]=function(){var e=this[i];e&&clearTimeout(e);var t=arguments,o=this;this[i]=setTimeout(function(){r.apply(o,t),delete o[i]},n||100)}},r.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var o=e.console;return r.htmlInit=function(n,i){t(function(){for(var t=r.toDashed(i),a=document.querySelectorAll(".js-"+t),s="data-"+t+"-options",u=0,l=a.length;l>u;u++){var c,p=a[u],d=p.getAttribute(s);try{c=d&&JSON.parse(d)}catch(f){o&&o.error("Error parsing "+s+" on "+p.nodeName.toLowerCase()+(p.id?"#"+p.id:"")+": "+f);continue}var h=new n(p,c),m=e.jQuery;m&&m.data(p,i,h)}})},r})},function(e,t,n){var r=!1;/*!
	 * docReady v1.0.3
	 * Cross browser DOMContentLoaded event emitter
	 * MIT license
	 */
!function(t){"use strict";function i(e){"function"==typeof e&&(i.isReady?e():u.push(e))}function o(e){var t="readystatechange"===e.type&&"complete"!==s.readyState;if(!i.isReady&&!t){i.isReady=!0;for(var n=0,r=u.length;r>n;n++){var o=u[n];o()}}}function a(e){return e.bind(s,"DOMContentLoaded",o),e.bind(s,"readystatechange",o),e.bind(t,"load",o),i}var s=t.document,u=[];i.isReady=!1,"function"==typeof r&&r.amd?(i.isReady="function"==typeof requirejs,r(["eventie/eventie"],a)):e.exports=a(n(66))}(window)},57,function(e,t,n){var r=!1;!function(t){"use strict";function n(e,t){return e[u](t)}function i(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function o(e,t){i(e);for(var n=e.parentNode.querySelectorAll(t),r=0,o=n.length;o>r;r++)if(n[r]===e)return!0;return!1}function a(e,t){return i(e),n(e,t)}var s,u=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,r=e.length;r>n;n++){var i=e[n],o=i+"MatchesSelector";if(t[o])return o}}();if(u){var l=document.createElement("div"),c=n(l,"div");s=c?n:a}else s=o;"function"==typeof r&&r.amd?r(function(){return s}):e.exports=s}(Element.prototype)},function(e,t,n){var r=!1;!function(t,i){"use strict";"function"==typeof r&&r.amd?r(["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(e,n,r,o){return i(t,e,n,r,o)}):e.exports=i(t,n(61),n(62),n(69),n(64))}(window,function(e,t,n,r,i){"use strict";function o(e){for(var t in e)return!1;return t=null,!0}function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}function s(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var u=e.getComputedStyle,l=u?function(e){return u(e,null)}:function(e){return e.currentStyle},c=r("transition"),p=r("transform"),d=c&&p,f=!!r("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],m=["transform","transition","transitionDuration","transitionProperty"],g=function(){for(var e={},t=0,n=m.length;n>t;t++){var i=m[t],o=r(i);o&&o!==i&&(e[i]=o)}return e}();i.extend(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(e){var t=this.element.style;for(var n in e){var r=g[n]||n;t[r]=e[n]}},a.prototype.getPosition=function(){var e=l(this.element),t=this.layout.options,n=t.isOriginLeft,r=t.isOriginTop,i=e[n?"left":"right"],o=e[r?"top":"bottom"],a=this.layout.size,s=-1!=i.indexOf("%")?parseFloat(i)/100*a.width:parseInt(i,10),u=-1!=o.indexOf("%")?parseFloat(o)/100*a.height:parseInt(o,10);s=isNaN(s)?0:s,u=isNaN(u)?0:u,s-=n?a.paddingLeft:a.paddingRight,u-=r?a.paddingTop:a.paddingBottom,this.position.x=s,this.position.y=u},a.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={},r=t.isOriginLeft?"paddingLeft":"paddingRight",i=t.isOriginLeft?"left":"right",o=t.isOriginLeft?"right":"left",a=this.position.x+e[r];n[i]=this.getXValue(a),n[o]="";var s=t.isOriginTop?"paddingTop":"paddingBottom",u=t.isOriginTop?"top":"bottom",l=t.isOriginTop?"bottom":"top",c=this.position.y+e[s];n[u]=this.getYValue(c),n[l]="",this.css(n),this.emitEvent("layout",[this])},a.prototype.getXValue=function(e){var t=this.layout.options;return t.percentPosition&&!t.isHorizontal?e/this.layout.size.width*100+"%":e+"px"},a.prototype.getYValue=function(e){var t=this.layout.options;return t.percentPosition&&t.isHorizontal?e/this.layout.size.height*100+"%":e+"px"},a.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,i=parseInt(e,10),o=parseInt(t,10),a=i===this.position.x&&o===this.position.y;if(this.setPosition(e,t),a&&!this.isTransitioning)return void this.layoutPosition();var s=e-n,u=t-r,l={};l.transform=this.getTranslate(s,u),this.transition({to:l,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.getTranslate=function(e,t){var n=this.layout.options;return e=n.isOriginLeft?e:-e,t=n.isOriginTop?t:-t,f?"translate3d("+e+"px, "+t+"px, 0)":"translate("+e+"px, "+t+"px)"},a.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},a.prototype.moveTo=d?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},a.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},a.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var r=this.element.offsetHeight;r=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var v="opacity,"+s(g.transform||"transform");a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},a.prototype.transition=a.prototype[c?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},a.prototype.onotransitionend=function(e){this.ontransitionend(e)};var y={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=y[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],o(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd){var r=t.onEnd[n];r.call(this),delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var $={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css($)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!c||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var e=this;this.once("transitionEnd",function(){e.removeElem()}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("visibleStyle");t[n]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},a.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},a.prototype.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");t[n]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},a.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a})},63,,,,function(e,t,n){var r=n(1);e.exports=function(e){var t,n;return t=window.od__channel,n=[window.od__bootModule],r.isArray(t)&&r.forEach(t,function(e){var t;return t=e(r),"string"==typeof t?n.push(t):void 0}),console.log("Booting",n),r.bootstrap(window.document,n)}},,function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.customer-basket",[n(4),n(23),n(34)]),r.service("CustomerBasket",["Basket","Job","MarketplaceApi","$q","$window",function(e,t,n,r,i){var o,a,s;return o=function(){function e(){this.promise=this.loadPromise()}return e.prototype.job=function(){return this.promise.then(function(e){return e})},e.prototype.dirty=function(){return this.promise=this.loadPromise()},e.prototype.loadPromise=function(){return n.sessionJob().then(t)},e.prototype.scope=function(){var e;return e=r.defer(),e.resolve("customer"),e.promise},e}(),a={basket:null},s=function(){return a.basket||(a.basket=e.withLoader(new o))},{basket:function(){return s()},addDesign:function(e,t){return s().addDesign(e,t)},addProduct:function(e,t,r,i){return n.addProductToBasket(e,t,r,i)},addDesignByPath:function(e,t){return s().addDesignByPath(e,t)},redirectToBasket:function(){return i.location.href="/basket"}}}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.job-basket.directives",[n(77),n(79)]),r.controller("BasketIconController",["$scope",function(e){return e.itemCount=98}]),r.directive("jobBasketIcon",function(){return{template:"<div>\n    Basket [{{ itemCount }}]\n</div>",controller:["$scope",function(e){}]}}),r.directive("addToBasketBtn",function(){return{link:function(e,t){return t.on("click",function(e){})},controller:["$scope",function(e){}]}}),r.directive("jobBasketItem",function(){return{template:'<div class="row">\n    <div class="col-xs-12 col-sm-3 job-basket-item--product-image">\n      <a href="{{ item.designLink() }}">\n        <img ng-src="{{ item.image() }}" alt="">\n      </a>\n    </div>\n    <div class="col-xs-12 col-sm-9">\n        <div class="row">\n            <div class="col-xs-12 col-md-7">\n                <h4 class="prod_title">\n                  <a href="{{ item.designLink() }}">\n                    <span>{{ item.simpleProductName() }}</span>\n                  </a>\n                </h4>\n\n                <p class="prod_description">Product: {{ item.simpleProductName() }}</p>\n\n                <ul class="basket-item-configuration">\n                    <li ng-repeat="o in options">\n                        <strong class="basket-item-configuation-option-name">{{ o.name }}:</strong>\n                        <span class="basket-item-configuation-option-value">{{ o.value }}</span>\n                    </li>\n                </ul>\n\n                <p ng-if="item.has_fileset==false">\n                    <span class="label label-danger">\n                        No Cutting Files Selected\n                    </span>\n                </p>\n\n            </div>\n\n            <div ng-if="buttonState.modified" class="col-xs-6 col-md-2 clearfix job-save-changes">\n                <button class="btn btn-primary col-xs-12 loading-indicator" ng-disabled="buttonState.saving" ng-click="saveChanges()">\n                    {{ buttonState.saving ? \'Saving…\' : \'Save\' }}\n                </button>\n            </div>\n            <div ng-if="!buttonState.modified" class="col-xs-6 col-md-2"></div>\n\n            <div class="col-xs-6 col-md-3">\n                <div class="job-price" ng-if="basketPurchasableStateVisible()">\n                    <h4 class="prod_title" style="text-align: right">\n                        {{ localPurchasePrice() }}\n                    </h4>\n                </div>\n                <div product-configuration-numeric-step></div>\n                <div class="row">\n                    <div class="col-xs-12">\n                        <span class="operator-control clearfix">\n                            <a class="btn btn-xs btn-tertiary col-xs-12 basket-item-configure-button" ng-click="configureItem()">Configure</a>\n                        </span>\n                    </div>\n                    <div class="job-delete clearfix col-xs-12" ng-hide="buttonState.confirming">\n                        <button class="btn btn-xs btn-info col-xs-12" ng-click="removeItem()"\n                                ng-disabled="buttonState.confirming"\n                                track-angular-cta\n                                data-track-link="true"\n                                data-track-cta="Click"\n                                data-track-type="remove_from_basket"\n                                data-track-id="1">\n                            Remove\n                        </button>\n                    </div>\n                    <div class="job-delete-confirm col-xs-12" ng-show="buttonState.confirming">\n                        <div class="row">\n                            <div class="col-xs-12">\n                                <span class="job-delete-confirm-msg"><strong>Just checking</strong>: you definitely want to remove this from your basket?</span>\n                            </div>\n                            <div class="col-xs-6">\n                                <button class="btn btn-xs btn-info job-delete-confirm col-xs-12 loading-indicator"\n                                    ng-click="confirmRemoveItem()" ng-disabled="buttonState.removing"\n                                    track-angular-cta\n                                    data-track-link="true"\n                                    data-track-cta="Click"\n                                    data-track-type="confirm_remove_from_basket"\n                                    data-track-id="2">\n                                    Remove\n                                </button>\n                            </div>\n                            <div class="col-xs-6">\n                                <button class="btn btn-xs btn-info job-delete-cancel col-xs-12" ng-click="cancelRemoveItem()" ng-disabled="buttonState.removing">\n                                    Cancel\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',controller:["$scope","$rootScope",function(e,t){var n,r,i;return e.options=e.item.productOptions(),e.option={key:"quantity"},e.buttonState={modified:!1,saving:!1,confirming:!1,removing:!1},r=e.item.quantity(),e.localOptions={quantity:e.item.quantity()},e.configureItem=function(){return e.configureBasketItem(e.item)},e.removeItem=function(){return e.buttonState.confirming=!0},e.cancelRemoveItem=function(){return e.buttonState.confirming=!1},e.confirmRemoveItem=function(){return e.buttonState.removing=!0,e.basket.removeItem(e.item).then(function(n){return e.buttonState.removing=!1,t.$broadcast("basket:modified")})},n=null,i=e.item.purchasePrice(),null!=i&&i.localisedExcludingTax().then(function(e){return n=e}),e.hasPurchasePrice=function(){return e.item.should_avoid_channel_prices?!1:null!=i},e.localPurchasePrice=function(){return n},e.getConfiguration=function(t){return e.localOptions[t]},e.configurationOptions=function(t){return e.item.productChoiceConfig(t)},e.onchange=function(t){var n;return n=e.localOptions,n.quantity=t,e.buttonState.modified=t!==r},e.saveChanges=function(){return e.buttonState.saving=!0,e.item.updatePartially(e.localOptions).then(function(){return e.buttonState.saving=!1,e.buttonState.modified=!1,t.$broadcast("basket:modified")})}}]}}),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.directives",[n(78)]),r.directive("trackAngularCta",["$window",function(e){return{link:function(t,n){return n.on("click",function(t){var r,i,o,a,s,u,l;return null!=e.analytics?(u=n.text(),r=n.data("track-cta"),i=n.data("track-type-href")||n.attr("href"),l=n.data("track-type"),o=n.data("track-id"),a=1,s={CTA:r,href:i,location:a,pageTitle:e.document.title,pageUrl:e.location.href,pagePath:e.location.pathname,piece:o,text:u,type:l},e.analytics.track("Clicked CTA",s)):void 0})}}}]),e.exports=r.name},function(e,t,n){var r,i,o=n(1);i=o.module("opendesk.common.marketplace.directives.product",[]),i.directive("productConfiguration",function(){return{transclude:!0,template:'<div class="form" ng-if="quantifiedConfiguration()">\n    <div ng-repeat="option in quantifiedConfiguration().options" product-configuration-option>\n    </div>\n    <div ng-transclude>\n    </div>\n</div>',controller:["$scope",function(e){return e.getConfiguration=function(t){return e.quantifiedConfiguration().getConfiguration(t)},e.setConfiguration=function(t,n){var r;return r=e.quantifiedConfiguration(),r.setConfiguration(t,n),e.$emit("product:configuration-changed",r)},e.configurationOptions=function(t){var n;return n=null!=e.basketItem?e.basketItem():null,null!=n?e.basketItem().productChoiceConfig(t):null}}]}}),i.directive("productConfigurationOption",function(){return{restrict:"A",template:'<div class="product-configuration-option">\n    <div class="form-group">\n        <label class="control-label">{{ option.name }}</label>\n        <div product-configuration-input onchange="onchange" option="option"></div>\n    </div>\n</div>',controller:["$scope",function(e){return e.onchange=function(t){return e.setConfiguration(e.option.key,t)}}]}}),i.directive("productConfigurationInput",["$compile",function(e){return{terminal:!0,replace:!1,priority:1e3,scope:!0,link:function(t,n,r){var i,o;return i={"numeric::set":"product-configuration-numeric-set","numeric::step":"product-configuration-numeric-step","numeric::range":"product-configuration-numeric-step","set::string":"product-configuration-set-string"},o=i[t.option.type],n.removeAttr("product-configuration-input"),n.removeAttr("data-product-configuration-input"),n.attr(o,!0),e(n)(t)}}}]),i.directive("productConfigurationSetString",function(){return{template:'<select class="form-control" ng-model="input.value" ng-options="item.value as item.name for item in values" ng-change="onchange(input.value)">\n</select>',controller:["$scope",function(e){return e.values=e.option.values,e.input={value:e.getConfiguration(e.option.key)}}]}}),r={min:1,max:1e3,start:1,step:1},i.directive("productConfigurationNumericStep",function(){return{template:'<div class="input-group">\n    <a class="input-group-addon no-select btn" ng-class="{disabled: !canDecrement()}" ng-click="decrement()">&ndash;</a>\n    <input type="number" class="form-control" ng-model="input.value" ng-change="onchange(input.value)" min="{{ config.min }}" max="{{ config.max }}" step="{{ config.step }}">\n    <a class="input-group-addon no-select" ng-class="{disabled: !canIncrement()}" ng-click="increment()">+</a>\n\n</div>',controller:["$scope",function(e){var t,n;return n=e.configurationOptions(e.option.key)||r,e.config=n,e.input={value:e.getConfiguration(e.option.key)},t=function(t){var r;return r=e.input.value+t,r=Math.max(Math.min(n.max,r),n.min),e.onchange(e.input.value=r)},e.canDecrement=function(){return e.input.value>n.min},e.canIncrement=function(){return e.input.value<n.max},e.increment=function(){return t(n.step)},e.decrement=function(){return t(-n.step)}}]}}),i.directive("productConfigurationNumericSet",function(){return{template:'<div class="form-group">\n    <select ng-options="v for v in option.value track by v" ng-model="input.value" ng-change="onchange(input.value)" multiple class="form-control">\n    </select>\n</div>',controller:["$scope",function(e){return e.input={value:e.getConfiguration(e.option.key)}}]}}),e.exports=i.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.job-basket.services",[]),r.service("JobBasket",["$q","$location","$rootScope","Restangular",function(e,t,n,r){var i;return new(i=function(){function e(){}var i,o;return i=null,o=null,e.prototype.broadcast=function(){return n.$broadcast("event:basket-changed",this._data)},e.prototype.redirect_to_basket=function(){return t.path("/basket")},e.prototype.loaded=function(e){return this._data=e,this.broadcast(),e},e.prototype.load=function(e){return null!=this._promise?this._promise:(this._promise=r.one("basket").get().then(function(e){return function(t){return e.loaded(t.original)}}(this)),this._promise)},e.prototype.add_design=function(e,t){var n,i;return n=r.all("basket/items"),i=n.post({design_id:e})},e.prototype.invite_maker=function(e){var t;return t=r.all("basket/makers"),t.post({maker_id:e})},e.prototype.uninvite_maker=function(e){var t,n;return t=r.one("basket/makers/"+e),n=t.remove(),n.then(function(t){return function(){return t.get_basket().then(function(n){return n.makers=_.reject(n.makers,function(t){return t.id===e}),t.broadcast()}),null}}(this))},e.prototype.delete_item=function(e){var t,n;return t=r.one("basket/items/"+e),n=t.remove(),n.then(function(t){return function(){return t.get_basket().then(function(n){return n.items=_.reject(n.items,function(t){return t.design.id===e}),t.broadcast()}),null}}(this))},e.prototype.update_item=function(e,t){var n,i,o;return n={quantity:t},i=r.one("basket/items/"+e),o=i.customPOST(n,null),o.then(function(t){return function(n){var r;return r=n.items[0],t.get_basket().then(function(n){var i,o,a,s;for(s=n.items,i=0,a=s.length;a>i;i++)o=s[i],o.design.id===e&&(o.quantity=r.quantity);return t.broadcast()}),r}}(this))},e.prototype.create_job=function(e){var t;return t=r.one("basket"),t.customPOST(e,null)},e}())}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.directives.price",[n(25),n(24),n(26)]),r.directive("localisedPrice",function(){return{template:'<span ng-if="priceIsValid()">{{ localisedPrice() }}</span>',scope:{price:"=",precision:"="},compile:function(e,t){return t.precision?void 0:t.precision=0},controller:["$scope","locationService","Session","Price","$attrs",function(e,t,n,r,i){var o,a,s,u,l;return l=!1,s=i.display,a=null,e.priceIsValid=function(){return l},e.localisedPrice=function(){return a},o=function(e,n){return t.displayPrice(e,n,i.precision)},u=function(e){var t;return l=e instanceof r,l?(t=e[s](),n.localizeCurrency(t,e.currency()).then(function(e,t){return a=o(e,t)})):void 0},e.price&&u(e.price),l?void 0:e.$on("localised-price:base-price-change",function(e,t){return u(t)})}]}}),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.directives.basket",[]),r.directive("basketListing",function(){return{compile:function(e,t,n){var r,o;return r=e.children(),o=i.element('<div ng-repeat="item in items()"></div>'),o.append(r),e.html(""),e.append(o),{pre:function(e,t,n,r,i){var o;return o=[],e.basket.items().then(function(e){return o=e}),e.items=function(){return o}},post:function(e,t,n,r){}}}}}),r.directive("basketListingItem",function(){return{template:'<div class="media">\n  <div class="media-left">\n    <img ng-src="{{ item.image() }}" alt=""\n        style="width: 130px; border: 1px solid #ddd"\n    />\n  </div>\n  <div class="media-body basket-listing-item--media-body">\n    <div class="item-highlight-price">\n      <span class="highlight">{{ item.simpleProductName() }}</span>\n      <span class="price-per-item" localised-price price="purchasePrice" display="excludingTax"></span>\n    </div>\n    <div class="basket-summary-item-tight">\n      <div ng-repeat="o in item.productOptions()">\n        <div ng-if="o.name == \'Material\'">\n          {{ o.name }}: {{ o.value }}\n        </div>\n      </div>\n      <div>\n        Quantity: {{ item.quantity() }}\n      </div>\n    </div>\n  </div>\n</div>',controller:["$scope",function(e){return e.purchasePrice=e.item.purchasePrice()}]}}),r.directive("basketItemCount",function(){return{scope:{basket:"="},template:"<span ng-if=\"loaded\">\n    <span ng-pluralize count=\"itemCount()\" when=\"{'0': 'No items', 'one': '1 item', 'other': '{} items'}\"></span>\n</span>",controller:["$scope",function(e){var t;return e.label="item",e.loaded=!1,t=0,e.itemCount=function(){return t},e.basket.itemCount().then(function(n){return t=n,e.loaded=!0})}]}}),r.directive("opendeskExpressIncompleteWarning",function(){return{transclude:!0,template:'<div ng-show="warning.visible">\n    <div ng-transclude></div>\n</div>',controller:["$scope","MarketplaceApi","$state",function(e,t,n){var r,i,o,a,s;return s={visible:!1,job:null,id:null,href:""},e.warning=s,o=function(){return null==s.id?!1:n.is(r,{job_id:s.id})},e.$on("$stateChangeSuccess",function(e,t,n,r,i){return s.visible=!o()}),r="basket.express.details",a=function(e){var t,i;return i=e.data,i.length>0&&!o()?(t=i[0],s.job=t,s.id=t.id,s.href=n.href(r,{job_id:t.id}),s.visible=!0):void 0},i=function(e){},t.express.pendingPayment().then(a,i)}]}}),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.link-service",[n(12)]),r.service("linkService",["Environment","$window",function(e,t){var n,r,i,o,a,s,u,l;return i=e.get("location.html5mode"),l=e.get("opendesk.urls.use"),n="/",u=function(e){return e[0]!==n?e:e.substr(1)},a=function(e,t){return[e].concat(t).join(n)},o=function(e,t){return i?a(e,t):a(e+"#",t)},r=function(t){return e.get("opendesk.urls."+t)},s=t.location,{redirect:function(e){return s.pathname!==e&&s.pathname!==e+"/"?s.href=e:void 0},href:function(e){return s.href=e},shareDesign:function(){return r("studio")},useUrl:function(e,t,n){var r;return null==n&&(n=null),t?(r=o(l,[u(e),t]),n?o(r,["actions",n]):r):o(l,[u(e)])},project:function(e){return o(r("dashboard"),["projects",e])},pin:function(e){return o(r("studio"),[e])},dashboard:function(){return r("dashboard")},basket:function(){return r("basket")}}}]),e.exports=r.name},function(e,t,n){function r(e,t,n,r,i){function o(e,t){i.warn("Failed to find data-block="+e+" in "+t)}return{compile:function(a,s){var u=s.extendTemplate;if(!u)throw"Template not specified in extend-template directive";var l=a.clone();a.html("");var c=n.get(u,{cache:e}).then(function(e){function t(e,t,n){var i=t.attr(n);0===r.find('[data-block="'+i+'"]')[e](t).length&&0===r.find("[data-extend-template]").append(t).length&&o(i,u)}var n=e.data,r=$(document.createElement("div")).html(n);return l.children("[data-block]").each(function(){t("replaceWith",$(this),"data-block")}),l.children("[data-block-prepend]").each(function(){t("prepend",$(this),"data-block-prepend")}),l.children("[data-block-append]").each(function(){t("append",$(this),"data-block-append")}),l.children("[data-block-before]").each(function(){t("before",$(this),"data-block-before")}),l.children("[data-block-after]").each(function(){t("after",$(this),"data-block-after")}),r},function(){var e="Failed to load template: "+u;return i.error(e),r.reject(e)});return function(e,n){c.then(function(r){n.html(r.html()),t(n.contents())(e)})}}}}var i=n(1),o=i.module("angular-blocks",[]);o.directive("extendTemplate",["$templateCache","$compile","$http","$q","$log",r]),e.exports=o.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.stripe",[n(13),n(12)]),r.factory("stripeService",["$window","Environment","$q",function(e,t,n){var r,i;return r=n.defer(),i=!1,e.od__stripe&&(i=!0,e.od__stripe(function(e){return r.resolve(e)})),{configure:function(e){var t;return i||console.warn('Attempt to use Stripe without load callback -- prepend the "stripe" entrypoint in `od__load`'),t=n.defer(),r.promise.then(function(n){var r;return r=n.configure(e),t.resolve(r),n}),t.promise},publish_key:t.get("fabbed.stripe").publish_key}}]),r.directive("stripePaymentForm",["$rootScope","stripeService",function(e,t){return{require:["^form"],scope:{stripeName:"@",stripeDescription:"@",stripeImage:"=",stripeCents:"=",stripeCurrency:"=",stripeSubmit:"=",stripeClosed:"=",stripeTokenModel:"=",emailSelector:"@",tokenSelector:"@",stripeKey:"@"},link:function(e,n,r,i){var o,a,s;return e.emailSelector||(e.emailSelector="input[name=email]"),e.tokenSelector||(e.tokenSelector="input[name=stripe_token_json_str]"),e.stripeKey||(e.stripeKey=t.publish_key),o=n.find(e.emailSelector),a=n.find(e.tokenSelector),s={key:t.publish_key,name:e.stripeName,image:e.stripeImage,token:function(t,n){return e.$apply(function(){return e.stripeTokenModel=JSON.stringify(t)}),e.$digest(),e.stripeSubmit()}},n.submit(function(){return e.stripeCents&&!a.val()?t.configure(s).then(function(t){return t.open({amount:parseInt(e.stripeCents),currency:e.stripeCurrency,description:e.stripeDescription,email:o.val(),closed:e.stripeClosed})}):e.stripeSubmit(),!1})}}}]),e.exports=r.name},,,,,,,,,function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.ngImg",[]),r.directive("ngImgError",["$parse",function(e){return{compile:function(t,n){var r;return r=e(n.ngImgError),function(e,t,n){return t.on("error",function(t){return e.$apply(function(){return r(e,{$event:t})})})}}}}]),r.directive("ngImgPreloadAspectRatio",["$parse","$window","_",function(e,t,n){return{scope:!0,link:function(e,r,i){var o,a,s,u,l,c;return s=parseFloat(i.ngImgPreloadAspectRatio),t=$(window),o=r,a=o.find("img"),u=function(){var e;return e=a.height(),a.height("auto")},l=function(){var e,t;return t=o.width(),e=Math.floor(t/s),a.height(e)},c=n.throttle(l,200),t.on("resize",c),a.on("load",function(){return t.off("resize",c),u()}),l()}}}]),e.exports=r.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.filters",[]),r.filter("humanurl",function(){return function(e){var t;return e?(t=e.split("://"),t.length>1&&(e=t[1]),0===e.indexOf("www.")&&(e=e.replace("www.","")),e.length>42?e.slice(0,39)+"…":e):""}}),r.filter("bytes",function(){return function(e){var t,n,r;return 0===e?"0 bytes":(n=1e3,r=["Bytes","KB","MB","GB","TB"],t=parseInt(Math.floor(Math.log(e)/Math.log(n)),10),(e/Math.pow(n,t)).toPrecision(3)+" "+r[t])}}),e.exports=r.name},,function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.uses",[n(82)]),r.directive("buildTile",["$window",function(e){var t;return t=e,{template:'<div class="new-tile primary-tile">\n<div class="ribbon ribbon">\n    <span style="text-transform: lowercase">v</span>{{\n            build.dist.version_str }}\n</div>\n<a ng-href="{{ useUrl(build.design.path , build.use.id) }}"\n    class="no-visual">\n    <div class="new-tile-image">\n    <img ng-src="{{ build.design.image }}" />\n    </div>\n</a>\n<div class="tile-plaque">\n    <a ng-href="{{ useUrl(build.design.path , build.use.id) }}"\n        class="no-visual">\n    <div class="tile-blurb">\n        <div class="tile-title">\n        <span class="no-wrap">\n            {{ build.design.name }} #{{ build.use.id }}\n        </span>\n        </div>\n        <span ng-if="build.use.description.length <= 54">\n        {{ build.use.description }}\n        </span>\n        <span ng-if="build.use.description.length > 54">\n        {{ use.description.slice(0, 54) }} &hellip;\n        </span>\n    </div>\n    </a>\n</div>\n</div>',restrict:"E",scope:!0,controller:["$scope","linkService",function(e,t){return e.useUrl=t.useUrl}]}}]),r.directive("downloadTile",["$window",function(e){var t;return t=e,{template:'<div class="new-tile primary-tile">\n<div class="ribbon ribbon">\n    <span style="text-transform: lowercase">v</span>{{\n            download.dist.version_str }}\n</div>\n<a ng-href="/{{ download.design.path }}"\n    class="no-visual">\n    <div class="new-tile-image">\n    <img ng-src="{{ download.design.image }}" />\n    </div>\n</a>\n<div class="tile-plaque">\n    <a ng-href="/{{ download.design.path }}"\n        class="no-visual">\n    <div class="tile-blurb">\n        <div class="tile-title">\n        <span class="no-wrap">\n            {{ download.design.name }}\n        </span>\n        </div>\n        <span ng-if="download.use.description.length <= 54">\n        {{ download.use.description }}\n        </span>\n        <span ng-if="download.use.description.length > 54">\n        {{ use.description.slice(0, 54) }} &hellip;\n        </span>\n    </div>\n    </a>\n</div>\n</div>',restrict:"E",scope:!0}}]),e.exports=r.name},,,,function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.pins",[n(101),n(93)]),r.directive("pinTile",["$window",function(e){var t;return t=e,{template:'<div class="new-tile">\n<div class="tile-inner">\n    <div ng-if="pin.is_available" class="ribbon ribbon-primary">\n    Available now\n    </div>\n    <div ng-if="pin.is_featured" class="ribbon">\n    Coming soon\n    </div>\n    <div ng-if="!pin.is_available && !pin.is_featured && pin.has_donation_campaign" class="ribbon">\n    Donate now\n    </div>\n    <a ui-sref="studio.pin({id: pin.id})" xhref="/open/studio/{{ pin.id }}" class="no-visual">\n    <div class="new-tile-image"\n        ng-img-preload-aspect-ratio="{{ pin.image.width / pin.image.height }}">\n        <img ng-src="{{ filepicker.cached_url(\n            pin.image.url) }}/convert?format=jpg&fit=clip&w=360"\n        />\n    </div>\n    </a>\n    <div class="tile-plaque clearfix">\n    <div ng-if="(pin.is_featured || pin.is_available) && pin.designer.avatar"\n        class="tile-avatar">\n        <div class="avatar-container">\n        <img class="avatar"\n            ng-src="{{ assetgen.static_url(pin.designer.avatar) }}"\n        />\n        </div>\n    </div>\n    <div class="tile-plaque-flush-inner"\n        ng-class="{jig: !pin.is_featured}">\n        <div ng-if="pin.is_available">\n        <a ng-href="{{ pin.design.path }}" class="btn clearfix">\n            <div class="heart-button-wrapper view-button-wrapper">\n            <span class="glyphicon glyphicon-expand"></span>\n            </div>\n            <div class="heart-button-text">\n            View\n            </div>\n        </a>\n        </div>\n        <div capture-button\n            action-name="Want"\n            compressed="true"\n            form-class="capture-form-white"\n            form-legend="Get notified when the design\'s available.">\n        <div want-button count="{{ pin.want_count }}"\n            target="pins{{ \'#\' }}{{ pin.id }}"\n            class="small-heart-button"\n            ng-if="!pin.is_available">\n            <button ng-if="pin.is_featured"\n                class="btn clearfix">\n            <div class="heart-button-wrapper">\n                <div class="heart"></div>\n            </div>\n            <div class="heart-button-text">\n                Want\n            </div>\n            </button>\n            <div class="heart-wrapper" ng-if="!pin.is_featured">\n            <div class="heart"></div>\n            </div>\n            <div want-count class="want-count" count="{{ pin.want_count }}"\n                target="pins{{ \'#\' }}{{ pin.id }}">\n            <span ng-show="count">{{ count }}</span>\n            </div>\n        </div>\n        </div>\n    </div>\n    <a ui-sref="studio.pin({id: pin.id})">\n        <div class=""></div>\n    </a>\n    <!--div ng-bind-html="pin.description | markdown"></div-->\n    </div>\n</div>\n</div>',
restrict:"E",scope:!0}}]),e.exports=r.name},function(e,t,n){var r,i=n(1),o=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};n(5),n(51),r=i.module("opendesk.common.wants",["http-auth-interceptor",n(52),"restangular",n(8)]),r.service("wantService",["$rootScope","Restangular","userService",function(e,t,n){var r;return new(r=function(){function r(){}return r.prototype.wants=[],r.prototype._add=function(e){return o.call(this.wants,e)>=0?void 0:(this.wants.push(e),this.notify({added:e}))},r.prototype._remove=function(e){return o.call(this.wants,e)<0?void 0:(this.setWants(_.without(this.wants,e)),this.notify({removed:e}))},r.prototype.want=function(e,n){var r,i,a,s,u;return this._add(e),r=t.all("wants"),a={target:e},null!=n&&(a.user_email=n.email,a.user_name=n.name),s=r.post(a),u=function(t){return function(){return o.call(t.wants,e)<0?(t.wants.push(e),t.notify({added:e})):void 0}}(this),i=function(t){return function(){return t._remove(e)}}(this),s.then(u,i)},r.prototype.unwant=function(e,n){var r,i,a,s,u;return this._remove(e),a={target:e},null!=n&&(a.user_email=n),r=t.one("wants"),s=r.customDELETE(null,a),u=function(t){return function(){return o.call(t.wants,e)>=0?(t.setWants(_.without(t.wants,e)),t.notify({removed:e})):void 0}}(this),i=function(t){return function(){return t._add(e)}}(this),s.then(u,i)},r.prototype.setWants=function(e){return this.wants=e,this.notify()},r.prototype.notify=function(t){var n,r,i;e.$broadcast("event:wants-changed",this.wants),r=[];for(n in t)i=t[n],r.push(e.$broadcast("event:want-"+n,i));return r},r.prototype.fetch=function(){var e,n,r;return e=t.one("wants"),n=e.get(),r=function(e){return function(t){return e.setWants(t.wants)}}(this),n.then(r,console.error)},r.prototype.handle=function(){return n.isAuthenticated()?this.fetch():this.setWants([])},r.prototype.watch=function(){return e.$on("event:user-changed",function(e){return function(){return e.handle()}}(this))},r}())}]),r.directive("wantCount",function(){return{scope:{count:"@",target:"@"},templateUrl:null,link:function(e,t,n){var r,i;return e.count=parseInt(e.count),e.last_action=null,i=function(){return"increment"!==e.last_action&&(e.count=parseInt(e.count)+1),e.last_action="increment"},r=function(){return"decrement"!==e.last_action&&(e.count=parseInt(e.count)-1),e.last_action="decrement"},e.$on("$destroy",e.$on("event:want-added",function(t,n){return n===e.target?i():void 0})),e.$on("$destroy",e.$on("event:want-removed",function(t,n){return n===e.target?r():void 0}))}}}),r.directive("wantButton",["$location","wantService",function(e,t){return{template:"<div class=\"{{ is_wanted ? 'active' : 'inactive' }}\">\n<div class=\"thick-button-container\">\n    <div ng-transclude></div>\n</div>\n</div>",require:"^captureButton",replace:!0,transclude:!0,scope:{count:"@",target:"@"},link:function(e,n,r,i){var a,s,u;return u=function(){var n;return e.is_wanted=(n=e.target,o.call(t.wants,n)>=0)},e.$on("$destroy",e.$on("event:wants-changed",u)),u(),a=function(n){var r;return r=t.want(e.target,n),r.then(function(){return e.is_wanted=!0})},i.setAuthHandler(a),s=function(){return e.is_wanted?t.unwant(e.target):t.want(e.target)},i.setCompleteHandler(s)}}}]),e.exports=r.name},,,,,,,function(e,t,n){var r,i,o=n(1);n(5),n(30),r=n(55),i=o.module("opendesk.common.makers",[n(93),"restangular","ui.bootstrap.modal","template/modal/backdrop.html","template/modal/window.html"]),i.service("nearestMakers",["Restangular",function(e){return function(t,n){var r,i,o;return null==n&&(n=48),r=e.one("makers"),i={limit:n,lat:t.lat,lng:t.lng},o=r.get(i),o.then(function(e){return e.makers})}}]),i.directive("infoModal",["$modal",function(e){return{replace:!0,restrict:"A",scope:{templateUrl:"@",size:"@",design:"=",maker:"="},template:'<a ng-click="open($event)">\n<div class="info-modal-link">\n    <span class="glyphicon glyphicon-info-sign"></span>\n</div>\n</a>',link:function(t){return t.size||(t.size="lg"),t.open=function(n){var r;return r={controller:function(e,t){return e.modal=t,e.close=function(){return t.dismiss("cancel")}},scope:t,size:t.size,templateUrl:t.templateUrl},t.modal=e.open(r),n.stopPropagation(),!1}}}}]),i.directive("makerTileImage",["$window","_",function(e,t){return{restrict:"A",link:function(n,i){var a,s,u,l,c,p;return u=o.element(e),a=i.find("img"),s=r(i),c={min:1.771,mid:220/124,max:1.774},l=function(){var e,t,n;return n=a.width(),e=a.height(),t=n/e,t<c.min||t>c.max?a.height(Math.floor(n/c.mid)):void 0},p=t.throttle(l,200),u.on("resize",p),s.on("always",l),l(),n.$on("$destroy",function(){return u.off("resize",p),s.off("always",l)})}}}]),i.directive("makerTile",["$window",function(e){return{restrict:"E",template:'<div class="new-tile primary-tile">\n<div class="tile-inner">\n    <a ui-sref="maker({maker: maker.slug})" class="no-visual">\n    <div class="new-tile-image" maker-tile-image>\n        <img ng-src="{{ maker.image }}" />\n    </div>\n    </a>\n    <div class="tile-plaque">\n    <a ui-sref="maker({maker: maker.slug})" class="no-visual">\n        <div class="tile-blurb clearfix">\n        <div class="tile-title ellipsis" property="v:name">\n            {{ maker.name }}\n        </div>\n        <span class="ellipsis">\n            {{ maker.location }}\n        </span>\n        </div>\n    </a>\n    </div>\n</div>\n</div>'}}]),i.directive("makerNonTile",["$window",function(e){return{restrict:"E",template:'<div class="new-tile primary-tile">\n<div class="tile-inner">\n    <div class="new-tile-image" maker-tile-image>\n    <img ng-src="{{ maker.image }}" />\n    </div>\n    <div class="tile-plaque">\n    <div info-modal\n        template-url="makers/modal.tpl.html"\n        design="design"\n        maker="maker"\n    />\n    <div class="tile-blurb">\n        <div class="tile-title ellipsis" property="v:name">\n        {{ maker.name }}\n        </div>\n        <span class="ellipsis">\n        {{ maker.location }}\n        </span>\n    </div>\n    </div>\n</div>\n</div>'}}]),i.directive("otherMakerResources",function(){return{restrict:"E",template:'<hr />\n<h3>\nOther Resources\n</h3>\n<div class="row">\n<div class="col-sm-4">\n    <a href="/makers" class="btn btn-info btn-block">\n    Maker Listing</a>\n</div>\n<div class="col-sm-4">\n    <a href="https://www.fabhub.io" class="btn btn-info btn-block"\n        target="_blank">\n    FabHub Directory</a>\n</div>\n<div class="col-sm-4">\n    <a href="/open/workshop/forum" class="btn btn-info btn-block">\n    Making Forum</a>\n</div>\n</div>'}}),e.exports=i.name},function(e,t,n){var r,i=n(1);r=i.module("opendesk.common.marketplace.job-basket",[n(79),n(76)]),e.exports=r.name},,function(e,t,n){var r,i,o,a,s=n(1);n(112),a=n(114),i=/\n/g,r=/<(br|p|div)(\/)?>/g,o=s.module("opendesk.common.showdown",["ngSanitize"]),o.filter("markdown",function(){var e;return e=new a.Converter,function(t){var n;return t?(n=t.trim(),n.startsWith("<p>")&&n.endsWith("</p>")&&(n=n.slice(3,-4)),e.makeHtml(n)):""}}),o.directive("markdownEditable",["$sce","$timeout",function(e,t){var n;return n=new a.Converter,{restrict:"A",require:"?ngModel",link:function(o,a,s,u){var l;return l=function(){var t;return t=n.makeHtml(u.$modelValue),a.html(e.getTrustedHtml(t))},u.$render=l,a.on("focus",function(){var e;return e=$.trim(u.$viewValue),e||(e=""),e=e.replace(i,"<br />"),a.html(e)}),a.on("blur",function(){var e;return e=$.trim(a.html()),e=e.replace(r,"\n"),o.$apply(function(){return u.$setViewValue(e)}),t(l)}),t(l)}}}]),e.exports=o.name},function(e,t,n){n(113),e.exports="ngSanitize"},function(e,t){/**
	 * @license AngularJS v1.4.8
	 * (c) 2010-2015 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function r(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return a(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],r=l(n,t.noop);return r.chars(e),n.join("")}function o(e,n){var r,i={},o=e.split(",");for(r=0;r<o.length;r++)i[n?t.lowercase(o[r]):o[r]]=!0;return i}function a(e,n){function r(e,r,o,a){if(r=t.lowercase(r),C[r])for(;$.last()&&_[$.last()];)i("",$.last());E[r]&&$.last()==r&&i("",r),a=w[r]||!!a,a||$.push(r);var u={};o.replace(f,function(e,t,n,r,i){var o=n||r||i||"";u[t]=s(o)}),n.start&&n.start(r,u,a)}function i(e,r){var i,o=0;if(r=t.lowercase(r))for(o=$.length-1;o>=0&&$[o]!=r;o--);if(o>=0){for(i=$.length-1;i>=o;i--)n.end&&n.end($[i]);$.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,a,u,l,$=[],b=e;for($.last=function(){return $[$.length-1]};e;){if(l="",a=!0,$.last()&&A[$.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+$.last()+"[^>]*>","i"),function(e,t){return t=t.replace(g,"$1").replace(y,"$1"),n.chars&&n.chars(s(t)),""}),i("",$.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),a=!1)):v.test(e)?(u=e.match(v),u&&(e=e.replace(u[0],""),a=!1)):m.test(e)?(u=e.match(d),u&&(e=e.substring(u[0].length),u[0].replace(d,i),a=!1)):h.test(e)&&(u=e.match(p),u?(u[4]&&(e=e.substring(u[0].length),u[0].replace(p,r)),a=!1):(l+="<",e=e.substring(1))),a&&(o=e.indexOf("<"),l+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(s(l)))),e==b)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);b=e}i()}function s(e){return e?(I.innerHTML=e.replace(/</g,"&lt;"),I.textContent):""}function u(e){return e.replace(/&/g,"&amp;").replace($,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!r&&A[e]&&(r=e),r||P[e]!==!0||(i("<"),i(e),t.forEach(o,function(r,o){var a=t.lowercase(o),s="img"===e&&"src"===a||"background"===a;F[a]!==!0||O[a]===!0&&!n(r,s)||(i(" "),i(o),i('="'),i(u(r)),i('"'))}),i(a?"/>":">"))},end:function(e){e=t.lowercase(e),r||P[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(u(e))}}}var c=t.$$minErr("$sanitize"),p=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,m=/^<\//,g=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,w=o("area,br,col,hr,img,wbr"),x=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=o("rp,rt"),E=t.extend({},k,x),C=t.extend({},x,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),_=t.extend({},k,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),A=o("script,style"),P=t.extend({},w,C,_,E,S),O=o("background,cite,href,longdesc,src,usemap,xlink:href"),T=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),M=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),F=t.extend({},O,M,T),I=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i;return function(o,a){function s(e){e&&f.push(i(e))}function u(e,n){f.push("<a "),t.isDefined(a)&&f.push('target="',a,'" '),f.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!o)return o;for(var l,c,p,d=o,f=[];l=d.match(n);)c=l[0],l[2]||l[4]||(c=(l[3]?"http://":"mailto:")+c),p=l.index,s(d.substr(0,p)),u(c,l[0].replace(r,"")),d=d.substring(p+l[0].length);return s(d),e(f.join(""))}}])}(window,window.angular)},function(e,t){var n=!1;/*! showdown 19-10-2015 */
(function(){function t(e){"use strict";var t={omitExtraWLInCodeBlocks:{"default":!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{"default":!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{"default":!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{"default":!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{"default":!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{"default":!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{"default":!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{"default":!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{"default":!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{"default":!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{"default":!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{"default":!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{"default":!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"}};if(e===!1)return JSON.parse(JSON.stringify(t));var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]["default"]);return n}function r(e,t){"use strict";var n=t?"Error in "+t+" extension->":"Error in unnamed extension",r={valid:!0,error:""};o.helper.isArray(e)||(e=[e]);for(var i=0;i<e.length;++i){var a=n+" sub-extension "+i+": ",s=e[i];if("object"!=typeof s)return r.valid=!1,r.error=a+"must be an object, but "+typeof s+" given",r;if(!o.helper.isString(s.type))return r.valid=!1,r.error=a+'property "type" must be a string, but '+typeof s.type+" given",r;var u=s.type=s.type.toLowerCase();if("language"===u&&(u=s.type="lang"),"html"===u&&(u=s.type="output"),"lang"!==u&&"output"!==u&&"listener"!==u)return r.valid=!1,r.error=a+"type "+u+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===u){if(o.helper.isUndefined(s.listeners))return r.valid=!1,r.error=a+'. Extensions of type "listener" must have a property called "listeners"',r}else if(o.helper.isUndefined(s.filter)&&o.helper.isUndefined(s.regex))return r.valid=!1,r.error=a+u+' extensions must define either a "regex" property or a "filter" method',r;if(s.listeners){if("object"!=typeof s.listeners)return r.valid=!1,r.error=a+'"listeners" property must be an object but '+typeof s.listeners+" given",r;for(var l in s.listeners)if(s.listeners.hasOwnProperty(l)&&"function"!=typeof s.listeners[l])return r.valid=!1,r.error=a+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+l+" must be a function but "+typeof s.listeners[l]+" given",r}if(s.filter){if("function"!=typeof s.filter)return r.valid=!1,r.error=a+'"filter" must be a function, but '+typeof s.filter+" given",r}else if(s.regex){if(o.helper.isString(s.regex)&&(s.regex=new RegExp(s.regex,"g")),!s.regex instanceof RegExp)return r.valid=!1,r.error=a+'"regex" property must either be a string or a RegExp object, but '+typeof s.regex+" given",r;if(o.helper.isUndefined(s.replace))return r.valid=!1,r.error=a+'"regex" extensions must implement a replace string or function',r}}return r}function i(e,t){"use strict";var n=t.charCodeAt(0);return"~E"+n+"E"}var o={},a={},s={},u=t(!0),l={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0},vanilla:t(!0)};o.helper={},o.extensions={},o.setOption=function(e,t){"use strict";return u[e]=t,this},o.getOption=function(e){"use strict";return u[e]},o.getOptions=function(){"use strict";return u},o.resetOptions=function(){"use strict";u=t(!0)},o.setFlavor=function(e){"use strict";if(l.hasOwnProperty(e)){var t=l[e];for(var n in t)t.hasOwnProperty(n)&&(u[n]=t[n])}},o.getDefaultOptions=function(e){"use strict";return t(e)},o.subParser=function(e,t){"use strict";if(o.helper.isString(e)){if("undefined"==typeof t){if(a.hasOwnProperty(e))return a[e];throw Error("SubParser named "+e+" not registered!")}a[e]=t}},o.extension=function(e,t){"use strict";if(!o.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=o.helper.stdExtName(e),o.helper.isUndefined(t)){if(!s.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return s[e]}"function"==typeof t&&(t=t()),o.helper.isArray(t)||(t=[t]);var n=r(t,e);if(!n.valid)throw Error(n.error);s[e]=t},o.getAllExtensions=function(){"use strict";return s},o.removeExtension=function(e){"use strict";delete s[e]},o.resetExtensions=function(){"use strict";s={}},o.validateExtension=function(e){"use strict";var t=r(e,null);return t.valid?!0:(console.warn(t.error),!1)},o.hasOwnProperty("helper")||(o.helper={}),o.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},o.helper.forEach=function(e,t){"use strict";if("function"==typeof e.forEach)e.forEach(t);else for(var n=0;n<e.length;n++)t(e[n],n,e)},o.helper.isArray=function(e){"use strict";return e.constructor===Array},o.helper.isUndefined=function(e){"use strict";return"undefined"==typeof e},o.helper.stdExtName=function(e){"use strict";return e.replace(/[_-]||\s/g,"").toLowerCase()},o.helper.escapeCharactersCallback=i,o.helper.escapeCharacters=function(e,t,n){"use strict";var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var o=new RegExp(r,"g");return e=e.replace(o,i)},o.helper.matchRecursiveRegExp=function(e,t,n,r){"use strict";var i,o,a,s,u,l=r||"",c=l.indexOf("g")>-1,p=new RegExp(t+"|"+n,l),d=new RegExp(t,l.replace(/g/g,"")),f=[];do for(i=0;a=p.exec(e);)if(d.test(a[0]))i++||(s=a[0],o=p.lastIndex);else if(i&&!--i){u=a[0];var h=e.slice(o,a.index);if(f.push([s+h+u,h]),!c)return f}while(i&&(p.lastIndex=o));return f},o.helper.isUndefined(console)&&(console={warn:function(e){"use strict";alert(e)},log:function(e){"use strict";alert(e)},error:function(e){"use strict";throw e}}),o.Converter=function(e){"use strict";function t(){e=e||{};for(var t in u)u.hasOwnProperty(t)&&(c[t]=u[t]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var r in e)e.hasOwnProperty(r)&&(c[r]=e[r]);c.extensions&&o.helper.forEach(c.extensions,n)}function n(e,t){if(t=t||null,o.helper.isString(e)){if(e=o.helper.stdExtName(e),t=e,o.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void i(o.extensions[e],e);if(o.helper.isUndefined(s[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=s[e]}"function"==typeof e&&(e=e()),o.helper.isArray(e)||(e=[e]);var n=r(e,t);if(!n.valid)throw Error(n.error);for(var u=0;u<e.length;++u){switch(e[u].type){case"lang":p.push(e[u]);break;case"output":d.push(e[u])}if(e[u].hasOwnProperty(f))for(var l in e[u].listeners)e[u].listeners.hasOwnProperty(l)&&a(l,e[u].listeners[l])}}function i(e,t){"function"==typeof e&&(e=e(new o.Converter)),o.helper.isArray(e)||(e=[e]);var n=r(e,t);if(!n.valid)throw Error(n.error);for(var i=0;i<e.length;++i)switch(e[i].type){case"lang":p.push(e[i]);break;case"output":d.push(e[i]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function a(e,t){if(!o.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");f.hasOwnProperty(e)||(f[e]=[]),f[e].push(t)}var c={},p=[],d=[],f={};t(),this._dispatch=function(e,t,n){if(f.hasOwnProperty(e))for(var r=0;r<f[e].length;++r){var i=f[e][r](e,t,this,n);i&&"undefined"!=typeof i&&(t=i)}return t},this.listen=function(e,t){return a(e,t),this},this.makeHtml=function(e){if(!e)return e;var t={gHtmlBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:p,outputModifiers:d,converter:this};return e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=o.subParser("detab")(e,c,t),e=o.subParser("stripBlankLines")(e,c,t),o.helper.forEach(p,function(n){e=o.subParser("runExtension")(n,e,c,t)}),e=o.subParser("githubCodeBlocks")(e,c,t),e=o.subParser("hashHTMLBlocks")(e,c,t),e=o.subParser("hashHTMLSpans")(e,c,t),e=o.subParser("stripLinkDefinitions")(e,c,t),e=o.subParser("blockGamut")(e,c,t),e=o.subParser("unhashHTMLSpans")(e,c,t),e=o.subParser("unescapeSpecialChars")(e,c,t),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),o.helper.forEach(d,function(n){e=o.subParser("runExtension")(n,e,c,t)}),e},this.setOption=function(e,t){c[e]=t},this.getOption=function(e){return c[e]},this.getOptions=function(){return c},this.addExtension=function(e,t){t=t||null,n(e,t)},this.useExtension=function(e){n(e)},this.setFlavor=function(e){if(l.hasOwnProperty(e)){var t=l[e];for(var n in t)t.hasOwnProperty(n)&&(c[n]=t[n])}},this.removeExtension=function(e){o.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var n=e[t],r=0;r<p.length;++r)p[r]===n&&p[r].splice(r,1);for(var i=0;i<d.length;++r)d[i]===n&&d[i].splice(r,1)}},this.getAllExtensions=function(){return{language:p,output:d}}},o.subParser("anchors",function(e,t,n){"use strict";e=n.converter._dispatch("anchors.before",e,t);var r=function(e,t,r,i,a,s,u,l){o.helper.isUndefined(l)&&(l=""),e=t;var c=r,p=i.toLowerCase(),d=a,f=l;if(!d)if(p||(p=c.toLowerCase().replace(/ ?\n/g," ")),d="#"+p,o.helper.isUndefined(n.gUrls[p])){if(!(e.search(/\(\s*\)$/m)>-1))return e;d=""}else d=n.gUrls[p],o.helper.isUndefined(n.gTitles[p])||(f=n.gTitles[p]);d=o.helper.escapeCharacters(d,"*_",!1);var h='<a href="'+d+'"';return""!==f&&null!==f&&(f=f.replace(/"/g,"&quot;"),f=o.helper.escapeCharacters(f,"*_",!1),h+=' title="'+f+'"'),h+=">"+c+"</a>"};return e=e.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,r),e=e.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,r),e=e.replace(/(\[([^\[\]]+)])()()()()()/g,r),e=n.converter._dispatch("anchors.after",e,t)}),o.subParser("autoLinks",function(e,t,n){"use strict";function r(e,t){var n=o.subParser("unescapeSpecialChars")(t);return o.subParser("encodeEmailAddress")(n)}e=n.converter._dispatch("autoLinks.before",e,t);var i=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,a=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,s=/(?:^|[ \n\t])([A-Za-z0-9!#$%&'*+-\/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|[ \n\t])/gi,u=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return e=e.replace(a,'<a href="$1">$1</a>'),e=e.replace(u,r),t.simplifiedAutoLink&&(e=e.replace(i,'<a href="$1">$1</a>'),e=e.replace(s,r)),e=n.converter._dispatch("autoLinks.after",e,t)}),o.subParser("blockGamut",function(e,t,n){"use strict";e=n.converter._dispatch("blockGamut.before",e,t),e=o.subParser("blockQuotes")(e,t,n),e=o.subParser("headers")(e,t,n);var r=o.subParser("hashBlock")("<hr />",t,n);return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,r),e=o.subParser("lists")(e,t,n),e=o.subParser("codeBlocks")(e,t,n),e=o.subParser("tables")(e,t,n),e=o.subParser("hashHTMLBlocks")(e,t,n),e=o.subParser("paragraphs")(e,t,n),e=n.converter._dispatch("blockGamut.after",e,t)}),o.subParser("blockQuotes",function(e,t,n){"use strict";return e=n.converter._dispatch("blockQuotes.before",e,t),e=e.replace(/((^[ \t]{0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,r){var i=r;return i=i.replace(/^[ \t]*>[ \t]?/gm,"~0"),i=i.replace(/~0/g,""),i=i.replace(/^[ \t]+$/gm,""),i=o.subParser("githubCodeBlocks")(i,t,n),i=o.subParser("blockGamut")(i,t,n),i=i.replace(/(^|\n)/g,"$1  "),i=i.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),o.subParser("hashBlock")("<blockquote>\n"+i+"\n</blockquote>",t,n)}),e=n.converter._dispatch("blockQuotes.after",e,t)}),o.subParser("codeBlocks",function(e,t,n){"use strict";e=n.converter._dispatch("codeBlocks.before",e,t),e+="~0";var r=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return e=e.replace(r,function(e,r,i){var a=r,s=i,u="\n";return a=o.subParser("outdent")(a),a=o.subParser("encodeCode")(a),a=o.subParser("detab")(a),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(u=""),a="<pre><code>"+a+u+"</code></pre>",o.subParser("hashBlock")(a,t,n)+s}),e=e.replace(/~0/,""),e=n.converter._dispatch("codeBlocks.after",e,t)}),o.subParser("codeSpans",function(e,t,n){"use strict";return e=n.converter._dispatch("codeSpans.before",e,t),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r){var i=r;return i=i.replace(/^([ \t]*)/g,""),i=i.replace(/[ \t]*$/g,""),i=o.subParser("encodeCode")(i),t+"<code>"+i+"</code>"}),e=n.converter._dispatch("codeSpans.after",e,t)}),o.subParser("detab",function(e){"use strict";return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t){for(var n=t,r=4-n.length%4,i=0;r>i;i++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")}),o.subParser("encodeAmpsAndAngles",function(e){"use strict";return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}),o.subParser("encodeBackslashEscapes",function(e){"use strict";return e=e.replace(/\\(\\)/g,o.helper.escapeCharactersCallback),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,o.helper.escapeCharactersCallback)}),o.subParser("encodeCode",function(e){"use strict";return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=o.helper.escapeCharacters(e,"*_{}[]\\",!1)}),o.subParser("encodeEmailAddress",function(e){"use strict";var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else if(":"!==e){var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')}),o.subParser("escapeSpecialCharsWithinTagAttributes",function(e){"use strict";var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=o.helper.escapeCharacters(t,"\\`*_",!1)})}),o.subParser("githubCodeBlocks",function(e,t,n){"use strict";return t.ghCodeBlocks?(e=n.converter._dispatch("githubCodeBlocks.before",e,t),e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,r,i){var a=t.omitExtraWLInCodeBlocks?"":"\n";return i=o.subParser("encodeCode")(i),i=o.subParser("detab")(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code"+(r?' class="'+r+" language-"+r+'"':"")+">"+i+a+"</code></pre>",o.subParser("hashBlock")(i,t,n)}),e=e.replace(/~0/,""),e=n.converter._dispatch("githubCodeBlocks.after",e,t)):e}),o.subParser("hashBlock",function(e,t,n){"use strict";return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n"}),o.subParser("hashElement",function(e,t,n){"use strict";return function(e,t){var r=t;return r=r.replace(/\n\n/g,"\n"),r=r.replace(/^\n/,""),r=r.replace(/\n+$/g,""),r="\n\n~K"+(n.gHtmlBlocks.push(r)-1)+"K\n\n"}}),o.subParser("hashHTMLBlocks",function(e,t,n){"use strict";return e=e.replace(/\n/g,"\n\n"),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,o.subParser("hashElement")(e,t,n)),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside|address|audio|canvas|figure|hgroup|output|video)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,o.subParser("hashElement")(e,t,n)),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,o.subParser("hashElement")(e,t,n)),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,o.subParser("hashElement")(e,t,n)),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,o.subParser("hashElement")(e,t,n)),e=e.replace(/\n\n/g,"\n")}),o.subParser("hashHTMLSpans",function(e,t,n){"use strict";for(var r=o.helper.matchRecursiveRegExp(e,"<code\\b[^>]*>","</code>","gi"),i=0;i<r.length;++i)e=e.replace(r[i][0],"~L"+(n.gHtmlSpans.push(r[i][0])-1)+"L");return e}),o.subParser("unhashHTMLSpans",function(e,t,n){"use strict";for(var r=0;r<n.gHtmlSpans.length;++r)e=e.replace("~L"+r+"L",n.gHtmlSpans[r]);return e}),o.subParser("headers",function(e,t,n){"use strict";function r(e){var t,r=e.replace(/[^\w]/g,"").toLowerCase();return n.hashLinkCounts[r]?t=r+"-"+n.hashLinkCounts[r]++:(t=r,n.hashLinkCounts[r]=1),i===!0&&(i="section"),o.helper.isString(i)?i+t:t}e=n.converter._dispatch("headers.before",e,t);var i=t.prefixHeaderId,a=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),s=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,u=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return e=e.replace(s,function(e,i){var s=o.subParser("spanGamut")(i,t,n),u=t.noHeaderId?"":' id="'+r(i)+'"',l=a,c="<h"+l+u+">"+s+"</h"+l+">";return o.subParser("hashBlock")(c,t,n)}),e=e.replace(u,function(e,i){var s=o.subParser("spanGamut")(i,t,n),u=t.noHeaderId?"":' id="'+r(i)+'"',l=a+1,c="<h"+l+u+">"+s+"</h"+l+">";return o.subParser("hashBlock")(c,t,n)}),e=e.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(e,i,s){var u=o.subParser("spanGamut")(s,t,n),l=t.noHeaderId?"":' id="'+r(s)+'"',c=a-1+i.length,p="<h"+c+l+">"+u+"</h"+c+">";return o.subParser("hashBlock")(p,t,n)}),e=n.converter._dispatch("headers.after",e,t)}),o.subParser("images",function(e,t,n){"use strict";function r(e,t,r,i,a,s,u,l){var c=n.gUrls,p=n.gTitles,d=n.gDimensions;if(r=r.toLowerCase(),l||(l=""),""===i||null===i){if((""===r||null===r)&&(r=t.toLowerCase().replace(/ ?\n/g," ")),i="#"+r,o.helper.isUndefined(c[r]))return e;i=c[r],o.helper.isUndefined(p[r])||(l=p[r]),o.helper.isUndefined(d[r])||(a=d[r].width,s=d[r].height)}t=t.replace(/"/g,"&quot;"),t=o.helper.escapeCharacters(t,"*_",!1),i=o.helper.escapeCharacters(i,"*_",!1);var f='<img src="'+i+'" alt="'+t+'"';return l&&(l=l.replace(/"/g,"&quot;"),l=o.helper.escapeCharacters(l,"*_",!1),f+=' title="'+l+'"'),a&&s&&(a="*"===a?"auto":a,s="*"===s?"auto":s,f+=' width="'+a+'"',f+=' height="'+s+'"'),f+=" />"}e=n.converter._dispatch("images.before",e,t);var i=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,a=/!\[(.*?)][ ]?(?:\n[ ]*)?\[(.*?)]()()()()()/g;return e=e.replace(a,r),e=e.replace(i,r),e=n.converter._dispatch("images.after",e,t)}),o.subParser("italicsAndBold",function(e,t,n){"use strict";return e=n.converter._dispatch("italicsAndBold.before",e,t),t.literalMidWordUnderscores?(e=e.replace(/(^|\s|>|\b)__(?=\S)([^]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>"),e=e.replace(/(^|\s|>|\b)_(?=\S)([^]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>"),e=e.replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")):(e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")),e=n.converter._dispatch("italicsAndBold.after",e,t)}),o.subParser("lists",function(e,t,n){"use strict";function r(e,r){n.gListLevel++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var i=/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+((\[(x| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,a=/\n[ \t]*\n(?!~0)/.test(e);return e=e.replace(i,function(e,r,i,s,u,l,c){c=c&&""!==c.trim();var p=o.subParser("outdent")(u,t,n),d="";return l&&t.tasklists&&(d=' class="task-list-item" style="list-style-type: none;"',p=p.replace(/^[ \t]*\[(x| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return c&&(e+=" checked"),e+=">"})),r||p.search(/\n{2,}/)>-1?(p=o.subParser("githubCodeBlocks")(p,t,n),p=o.subParser("blockGamut")(p,t,n)):(p=o.subParser("lists")(p,t,n),p=p.replace(/\n$/,""),p=a?o.subParser("paragraphs")(p,t,n):o.subParser("spanGamut")(p,t,n)),p="\n<li"+d+">"+p+"</li>\n"}),e=e.replace(/~0/g,""),n.gListLevel--,r&&(e=e.replace(/\s+$/,"")),e}function i(e,t,n){var i="ul"===t?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,o=[],a="";if(-1!==e.search(i)){!function u(e){var o=e.search(i);-1!==o?(a+="\n\n<"+t+">"+r(e.slice(0,o),!!n)+"</"+t+">\n\n",t="ul"===t?"ol":"ul",i="ul"===t?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,u(e.slice(o))):a+="\n\n<"+t+">"+r(e,!!n)+"</"+t+">\n\n"}(e);for(var s=0;s<o.length;++s);}else a="\n\n<"+t+">"+r(e,!!n)+"</"+t+">\n\n";return a}e=n.converter._dispatch("lists.before",e,t),e+="~0";var a=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return n.gListLevel?e=e.replace(a,function(e,t,n){var r=n.search(/[*+-]/g)>-1?"ul":"ol";return i(t,r,!0)}):(a=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,e=e.replace(a,function(e,t,n,r){var o=r.search(/[*+-]/g)>-1?"ul":"ol";return i(n,o)})),e=e.replace(/~0/,""),e=n.converter._dispatch("lists.after",e,t)}),o.subParser("outdent",function(e){"use strict";return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}),o.subParser("paragraphs",function(e,t,n){"use strict";e=n.converter._dispatch("paragraphs.before",e,t),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var r=e.split(/\n{2,}/g),i=[],a=r.length,s=0;a>s;s++){var u=r[s];u.search(/~K(\d+)K/g)>=0?i.push(u):u.search(/\S/)>=0&&(u=o.subParser("spanGamut")(u,t,n),u=u.replace(/^([ \t]*)/g,"<p>"),u+="</p>",i.push(u))}for(a=i.length,s=0;a>s;s++)for(;i[s].search(/~K(\d+)K/)>=0;){var l=n.gHtmlBlocks[RegExp.$1];l=l.replace(/\$/g,"$$$$"),i[s]=i[s].replace(/~K\d+K/,l)}return e=n.converter._dispatch("paragraphs.after",e,t),i.join("\n\n")}),o.subParser("runExtension",function(e,t,n,r){"use strict";if(e.filter)t=e.filter(t,r.converter,n);else if(e.regex){var i=e.regex;!i instanceof RegExp&&(i=new RegExp(i,"g")),t=t.replace(i,e.replace)}return t}),o.subParser("spanGamut",function(e,t,n){"use strict";return e=n.converter._dispatch("spanGamut.before",e,t),e=o.subParser("codeSpans")(e,t,n),e=o.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=o.subParser("encodeBackslashEscapes")(e,t,n),e=o.subParser("images")(e,t,n),e=o.subParser("anchors")(e,t,n),e=o.subParser("autoLinks")(e,t,n),e=o.subParser("encodeAmpsAndAngles")(e,t,n),e=o.subParser("italicsAndBold")(e,t,n),e=o.subParser("strikethrough")(e,t,n),e=e.replace(/  +\n/g," <br />\n"),e=n.converter._dispatch("spanGamut.after",e,t)}),o.subParser("strikethrough",function(e,t,n){"use strict";return t.strikethrough&&(e=n.converter._dispatch("strikethrough.before",e,t),e=e.replace(/(?:~T){2}([^~]+)(?:~T){2}/g,"<del>$1</del>"),e=n.converter._dispatch("strikethrough.after",e,t)),e}),o.subParser("stripBlankLines",function(e){"use strict";return e.replace(/^[ \t]+$/gm,"")}),o.subParser("stripLinkDefinitions",function(e,t,n){"use strict";var r=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return e+="~0",e=e.replace(r,function(e,r,i,a,s,u,l){return r=r.toLowerCase(),n.gUrls[r]=o.subParser("encodeAmpsAndAngles")(i),u?u+l:(l&&(n.gTitles[r]=l.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&a&&s&&(n.gDimensions[r]={width:a,height:s}),"")}),e=e.replace(/~0/,"")}),o.subParser("tables",function(e,t,n){"use strict";var r=function(){var e,r={};return r.th=function(e,r){var i="";return e=e.trim(),""===e?"":(t.tableHeaderId&&(i=' id="'+e.replace(/ /g,"_").toLowerCase()+'"'),e=o.subParser("spanGamut")(e,t,n),r=r&&""!==r.trim()?' style="'+r+'"':"","<th"+i+r+">"+e+"</th>")},r.td=function(e,r){var i=o.subParser("spanGamut")(e.trim(),t,n);return r=r&&""!==r.trim()?' style="'+r+'"':"","<td"+r+">"+i+"</td>"},r.ths=function(){var e="",t=0,n=[].slice.apply(arguments[0]),i=[].slice.apply(arguments[1]);for(t;t<n.length;t+=1)e+=r.th(n[t],i[t])+"\n";return e},r.tds=function(){var e="",t=0,n=[].slice.apply(arguments[0]),i=[].slice.apply(arguments[1]);for(t;t<n.length;t+=1)e+=r.td(n[t],i[t])+"\n";return e},r.thead=function(){var e,t=[].slice.apply(arguments[0]),n=[].slice.apply(arguments[1]);return e="<thead>\n",e+="<tr>\n",e+=r.ths.apply(this,[t,n]),e+="</tr>\n",e+="</thead>\n"},r.tr=function(){var e,t=[].slice.apply(arguments[0]),n=[].slice.apply(arguments[1]);return e="<tr>\n",e+=r.tds.apply(this,[t,n]),e+="</tr>\n"},e=function(e){var t,n,i=0,o=e.split("\n"),a=[];for(i;i<o.length;i+=1){if(t=o[i],t.trim().match(/^[|].*[|]$/)){t=t.trim();var s=[],u=o[i+1].trim(),l=[],c=0;if(u.match(/^[|][-=|: ]+[|]$/))for(l=u.substring(1,u.length-1).split("|"),c=0;c<l.length;++c)l[c]=l[c].trim(),l[c].match(/^[:][-=| ]+[:]$/)?l[c]="text-align:center;":l[c].match(/^[-=| ]+[:]$/)?l[c]="text-align:right;":l[c].match(/^[:][-=| ]+$/)?l[c]="text-align:left;":l[c]="";if(s.push("<table>"),n=t.substring(1,t.length-1).split("|"),0===l.length)for(c=0;c<n.length;++c)l.push("text-align:left");if(s.push(r.thead.apply(this,[n,l])),t=o[++i],t.trim().match(/^[|][-=|: ]+[|]$/)){for(t=o[++i],s.push("<tbody>");t.trim().match(/^[|].*[|]$/);)t=t.trim(),s.push(r.tr.apply(this,[t.substring(1,t.length-1).split("|"),l])),t=o[++i];s.push("</tbody>"),s.push("</table>"),a.push(s.join("\n"));continue}t=o[--i]}a.push(t)}return a.join("\n")},{parse:e}};if(t.tables){e=n.converter._dispatch("tables.before",e,t);var i=r();e=i.parse(e),e=n.converter._dispatch("tables.after",e,t)}return e}),o.subParser("unescapeSpecialChars",function(e){"use strict";return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})});var c=this;"undefined"!=typeof e&&e.exports?e.exports=o:"function"==typeof n&&n.amd?n("showdown",function(){"use strict";return o}):c.showdown=o}).call(this)},,,,,,,,,,,,,,,function(e,t,n){var r,i=n(1);n(5),r=i.module("opendesk.common.bricks",[n(82),"restangular"]),r.directive("brickTile",["$sce",function(e){return{template:'<div class="new-tile">\n<a ng-href="{{ useUrl(brick.path) }}" class="no-visual">\n    <div class="new-tile-image">\n    <img ng-src="{{ filepicker.cached_url(brick.medium_image_url) }}" />\n    </div>\n    <div class="tile-plaque clearfix">\n    <div class="tile-blurb">\n        <div class="tile-title">\n        {{ brick.design_name }}\n        </div>\n        By {{ brick.by_name }}\n    </div>\n    </div>\n</a>\n</div>',restrict:"E",scope:!0,controller:["$scope","linkService",function(e,t){return e.useUrl=t.useUrl}]}}]),r.directive("brickListItem",["$sce",function(e){return{template:'<div class="new-tile brick-list-item">\n<a class="delete-link close" ng-click="deleteBrick($index)"\n    ng-if="interactive">×</a>\n<a ng-href="{{ interactive ? useUrl(brick.path) : \'\' }}" class="no-visual">\n    <div class="new-tile-image">\n    <img ng-src="{{ filepicker.cached_url(brick.medium_image_url) }}" ng-show="brick.has_image && !brick.has_video"/>\n    <div ng-show="brick.has_video" ng-bind-html="brick.video.html" class="brick-video"></div>\n    </div>\n    <div class="tile-plaque clearfix">\n    <div class="tile-blurb">\n        <div class="tile-title">\n        {{ brick.design_name }}\n        </div>\n        By {{ brick.by_name }}, {{ brick.created | date : \'longDate\' }}\n        <div class="brick-share-message">\n        {{ brick.message }}\n        </div>\n    </div>\n    </div>\n</a>\n</div>',restrict:"AE",scope:!0,controller:["$scope","$element","$attrs","Restangular","linkService",function(t,n,r,i,o){var a;return t.brick.has_video&&(a=t.brick.video.html,t.brick.video.html=e.trustAsHtml(a)),t.interactive="display"!==r.mode,t.deleteBrick=function(e){var n,r;return n=i.one("uses",t.use.id).one("bricks",t.brick.id),r=function(){},"function"==typeof t.brickRemoved&&t.brickRemoved(t.brick,e),n.remove().then(r)},t.useUrl=o.useUrl}]}}]),e.exports=r.name}]));